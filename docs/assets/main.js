function ca(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function fa(){let n,e;return{ready:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function se(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function s(f,d){if(!i[f]){if(!r[f]){var c=typeof se=="function"&&se;if(!d&&c)return c(f,!0);if(a)return a(f,!0);var h=new Error("Cannot find module '"+f+"'");throw h.code="MODULE_NOT_FOUND",h}var y=i[f]={exports:{}};r[f][0].call(y.exports,function(_){var v=r[f][1][_];return s(v||_)},y,y.exports,t,r,i,o)}return i[f].exports}for(var a=typeof se=="function"&&se,u=0;u<o.length;u++)s(o[u]);return s}({1:[function(t,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var u=0,f=new s(_),d=o.document.createTextNode("");f.observe(d,{characterData:!0}),a=function(){d.data=u=++u%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var c=new o.MessageChannel;c.port1.onmessage=_,a=function(){c.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var b=o.document.createElement("script");b.onreadystatechange=function(){_(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:a=function(){setTimeout(_,0)};var h,y=[];function _(){h=!0;for(var b,w,E=y.length;E;){for(w=y,y=[],b=-1;++b<E;)w[b]();E=y.length}h=!1}r.exports=v;function v(b){y.push(b)===1&&!h&&a()}}).call(this,typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,r,i){var o=t(1);function s(){}var a={},u=["REJECTED"],f=["FULFILLED"],d=["PENDING"];r.exports=c;function c(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,B!==s&&v(this,B)}c.prototype.catch=function(B){return this.then(null,B)},c.prototype.then=function(B,Z){if(typeof B!="function"&&this.state===f||typeof Z!="function"&&this.state===u)return this;var F=new this.constructor(s);if(this.state!==d){var tt=this.state===f?B:Z;y(F,tt,this.outcome)}else this.queue.push(new h(F,B,Z));return F};function h(B,Z,F){this.promise=B,typeof Z=="function"&&(this.onFulfilled=Z,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(B){a.resolve(this.promise,B)},h.prototype.otherCallFulfilled=function(B){y(this.promise,this.onFulfilled,B)},h.prototype.callRejected=function(B){a.reject(this.promise,B)},h.prototype.otherCallRejected=function(B){y(this.promise,this.onRejected,B)};function y(B,Z,F){o(function(){var tt;try{tt=Z(F)}catch(K){return a.reject(B,K)}tt===B?a.reject(B,new TypeError("Cannot resolve promise with itself")):a.resolve(B,tt)})}a.resolve=function(B,Z){var F=b(_,Z);if(F.status==="error")return a.reject(B,F.value);var tt=F.value;if(tt)v(B,tt);else{B.state=f,B.outcome=Z;for(var K=-1,at=B.queue.length;++K<at;)B.queue[K].callFulfilled(Z)}return B},a.reject=function(B,Z){B.state=u,B.outcome=Z;for(var F=-1,tt=B.queue.length;++F<tt;)B.queue[F].callRejected(Z);return B};function _(B){var Z=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof Z=="function")return function(){Z.apply(B,arguments)}}function v(B,Z){var F=!1;function tt(M){F||(F=!0,a.reject(B,M))}function K(M){F||(F=!0,a.resolve(B,M))}function at(){Z(K,tt)}var U=b(at);U.status==="error"&&tt(U.value)}function b(B,Z){var F={};try{F.value=B(Z),F.status="success"}catch(tt){F.status="error",F.value=tt}return F}c.resolve=w;function w(B){return B instanceof this?B:a.resolve(new this(s),B)}c.reject=E;function E(B){var Z=new this(s);return a.reject(Z,B)}c.all=A;function A(B){var Z=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=B.length,tt=!1;if(!F)return this.resolve([]);for(var K=new Array(F),at=0,U=-1,M=new this(s);++U<F;)Q(B[U],U);return M;function Q(S,nt){Z.resolve(S).then(g,function(p){tt||(tt=!0,a.reject(M,p))});function g(p){K[nt]=p,++at===F&&!tt&&(tt=!0,a.resolve(M,K))}}}c.race=D;function D(B){var Z=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=B.length,tt=!1;if(!F)return this.resolve([]);for(var K=-1,at=new this(s);++K<F;)U(B[K]);return at;function U(M){Z.resolve(M).then(function(Q){tt||(tt=!0,a.resolve(at,Q))},function(Q){tt||(tt=!0,a.reject(at,Q))})}}},{1:1}],3:[function(t,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=t(2))}).call(this,typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function s(T,$){if(!(T instanceof $))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function f(){try{if(!u||!u.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||$)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(T,$){T=T||[],$=$||{};try{return new Blob(T,$)}catch(H){if(H.name!=="TypeError")throw H;for(var z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,G=new z,V=0;V<T.length;V+=1)G.append(T[V]);return G.getBlob($.type)}}typeof Promise>"u"&&t(3);var c=Promise;function h(T,$){$&&T.then(function(z){$(null,z)},function(z){$(z)})}function y(T,$,z){typeof $=="function"&&T.then($),typeof z=="function"&&T.catch(z)}function _(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",w=void 0,E={},A=Object.prototype.toString,D="readonly",B="readwrite";function Z(T){for(var $=T.length,z=new ArrayBuffer($),G=new Uint8Array(z),V=0;V<$;V++)G[V]=T.charCodeAt(V);return z}function F(T){return new c(function($){var z=T.transaction(b,B),G=d([""]);z.objectStore(b).put(G,"key"),z.onabort=function(V){V.preventDefault(),V.stopPropagation(),$(!1)},z.oncomplete=function(){var V=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);$(H||!V||parseInt(V[1],10)>=43)}}).catch(function(){return!1})}function tt(T){return typeof w=="boolean"?c.resolve(w):F(T).then(function($){return w=$,w})}function K(T){var $=E[T.name],z={};z.promise=new c(function(G,V){z.resolve=G,z.reject=V}),$.deferredOperations.push(z),$.dbReady?$.dbReady=$.dbReady.then(function(){return z.promise}):$.dbReady=z.promise}function at(T){var $=E[T.name],z=$.deferredOperations.pop();if(z)return z.resolve(),z.promise}function U(T,$){var z=E[T.name],G=z.deferredOperations.pop();if(G)return G.reject($),G.promise}function M(T,$){return new c(function(z,G){if(E[T.name]=E[T.name]||j(),T.db)if($)K(T),T.db.close();else return z(T.db);var V=[T.name];$&&V.push(T.version);var H=u.open.apply(u,V);$&&(H.onupgradeneeded=function(ct){var ht=H.result;try{ht.createObjectStore(T.storeName),ct.oldVersion<=1&&ht.createObjectStore(b)}catch(vt){if(vt.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+ct.oldVersion+" to version "+ct.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw vt}}),H.onerror=function(ct){ct.preventDefault(),G(H.error)},H.onsuccess=function(){var ct=H.result;ct.onversionchange=function(ht){ht.target.close()},z(ct),at(T)}})}function Q(T){return M(T,!1)}function S(T){return M(T,!0)}function nt(T,$){if(!T.db)return!0;var z=!T.db.objectStoreNames.contains(T.storeName),G=T.version<T.db.version,V=T.version>T.db.version;if(G&&(T.version!==$&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),V||z){if(z){var H=T.db.version+1;H>T.version&&(T.version=H)}return!0}return!1}function g(T){return new c(function($,z){var G=new FileReader;G.onerror=z,G.onloadend=function(V){var H=btoa(V.target.result||"");$({__local_forage_encoded_blob:!0,data:H,type:T.type})},G.readAsBinaryString(T)})}function p(T){var $=Z(atob(T.data));return d([$],{type:T.type})}function k(T){return T&&T.__local_forage_encoded_blob}function L(T){var $=this,z=$._initReady().then(function(){var G=E[$._dbInfo.name];if(G&&G.dbReady)return G.dbReady});return y(z,T,T),z}function I(T){K(T);for(var $=E[T.name],z=$.forages,G=0;G<z.length;G++){var V=z[G];V._dbInfo.db&&(V._dbInfo.db.close(),V._dbInfo.db=null)}return T.db=null,Q(T).then(function(H){return T.db=H,nt(T)?S(T):H}).then(function(H){T.db=$.db=H;for(var ct=0;ct<z.length;ct++)z[ct]._dbInfo.db=H}).catch(function(H){throw U(T,H),H})}function O(T,$,z,G){G===void 0&&(G=1);try{var V=T.db.transaction(T.storeName,$);z(null,V)}catch(H){if(G>0&&(!T.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return c.resolve().then(function(){if(!T.db||H.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),S(T)}).then(function(){return I(T).then(function(){O(T,$,z,G-1)})}).catch(z);z(H)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ot(T){var $=this,z={db:null};if(T)for(var G in T)z[G]=T[G];var V=E[z.name];V||(V=j(),E[z.name]=V),V.forages.push($),$._initReady||($._initReady=$.ready,$.ready=L);var H=[];function ct(){return c.resolve()}for(var ht=0;ht<V.forages.length;ht++){var vt=V.forages[ht];vt!==$&&H.push(vt._initReady().catch(ct))}var mt=V.forages.slice(0);return c.all(H).then(function(){return z.db=V.db,Q(z)}).then(function(yt){return z.db=yt,nt(z,$._defaultConfig.version)?S(z):yt}).then(function(yt){z.db=V.db=yt,$._dbInfo=z;for(var xt=0;xt<mt.length;xt++){var Ct=mt[xt];Ct!==$&&(Ct._dbInfo.db=z.db,Ct._dbInfo.version=z.version)}})}function et(T,$){var z=this;T=_(T);var G=new c(function(V,H){z.ready().then(function(){O(z._dbInfo,D,function(ct,ht){if(ct)return H(ct);try{var vt=ht.objectStore(z._dbInfo.storeName),mt=vt.get(T);mt.onsuccess=function(){var yt=mt.result;yt===void 0&&(yt=null),k(yt)&&(yt=p(yt)),V(yt)},mt.onerror=function(){H(mt.error)}}catch(yt){H(yt)}})}).catch(H)});return h(G,$),G}function ut(T,$){var z=this,G=new c(function(V,H){z.ready().then(function(){O(z._dbInfo,D,function(ct,ht){if(ct)return H(ct);try{var vt=ht.objectStore(z._dbInfo.storeName),mt=vt.openCursor(),yt=1;mt.onsuccess=function(){var xt=mt.result;if(xt){var Ct=xt.value;k(Ct)&&(Ct=p(Ct));var Ot=T(Ct,xt.key,yt++);Ot!==void 0?V(Ot):xt.continue()}else V()},mt.onerror=function(){H(mt.error)}}catch(xt){H(xt)}})}).catch(H)});return h(G,$),G}function kt(T,$,z){var G=this;T=_(T);var V=new c(function(H,ct){var ht;G.ready().then(function(){return ht=G._dbInfo,A.call($)==="[object Blob]"?tt(ht.db).then(function(vt){return vt?$:g($)}):$}).then(function(vt){O(G._dbInfo,B,function(mt,yt){if(mt)return ct(mt);try{var xt=yt.objectStore(G._dbInfo.storeName);vt===null&&(vt=void 0);var Ct=xt.put(vt,T);yt.oncomplete=function(){vt===void 0&&(vt=null),H(vt)},yt.onabort=yt.onerror=function(){var Ot=Ct.error?Ct.error:Ct.transaction.error;ct(Ot)}}catch(Ot){ct(Ot)}})}).catch(ct)});return h(V,z),V}function wt(T,$){var z=this;T=_(T);var G=new c(function(V,H){z.ready().then(function(){O(z._dbInfo,B,function(ct,ht){if(ct)return H(ct);try{var vt=ht.objectStore(z._dbInfo.storeName),mt=vt.delete(T);ht.oncomplete=function(){V()},ht.onerror=function(){H(mt.error)},ht.onabort=function(){var yt=mt.error?mt.error:mt.transaction.error;H(yt)}}catch(yt){H(yt)}})}).catch(H)});return h(G,$),G}function St(T){var $=this,z=new c(function(G,V){$.ready().then(function(){O($._dbInfo,B,function(H,ct){if(H)return V(H);try{var ht=ct.objectStore($._dbInfo.storeName),vt=ht.clear();ct.oncomplete=function(){G()},ct.onabort=ct.onerror=function(){var mt=vt.error?vt.error:vt.transaction.error;V(mt)}}catch(mt){V(mt)}})}).catch(V)});return h(z,T),z}function At(T){var $=this,z=new c(function(G,V){$.ready().then(function(){O($._dbInfo,D,function(H,ct){if(H)return V(H);try{var ht=ct.objectStore($._dbInfo.storeName),vt=ht.count();vt.onsuccess=function(){G(vt.result)},vt.onerror=function(){V(vt.error)}}catch(mt){V(mt)}})}).catch(V)});return h(z,T),z}function jt(T,$){var z=this,G=new c(function(V,H){if(T<0){V(null);return}z.ready().then(function(){O(z._dbInfo,D,function(ct,ht){if(ct)return H(ct);try{var vt=ht.objectStore(z._dbInfo.storeName),mt=!1,yt=vt.openKeyCursor();yt.onsuccess=function(){var xt=yt.result;if(!xt){V(null);return}T===0||mt?V(xt.key):(mt=!0,xt.advance(T))},yt.onerror=function(){H(yt.error)}}catch(xt){H(xt)}})}).catch(H)});return h(G,$),G}function Rt(T){var $=this,z=new c(function(G,V){$.ready().then(function(){O($._dbInfo,D,function(H,ct){if(H)return V(H);try{var ht=ct.objectStore($._dbInfo.storeName),vt=ht.openKeyCursor(),mt=[];vt.onsuccess=function(){var yt=vt.result;if(!yt){G(mt);return}mt.push(yt.key),yt.continue()},vt.onerror=function(){V(vt.error)}}catch(yt){V(yt)}})}).catch(V)});return h(z,T),z}function Mt(T,$){$=v.apply(this,arguments);var z=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||z.name,T.storeName=T.storeName||z.storeName);var G=this,V;if(!T.name)V=c.reject("Invalid arguments");else{var H=T.name===z.name&&G._dbInfo.db,ct=H?c.resolve(G._dbInfo.db):Q(T).then(function(ht){var vt=E[T.name],mt=vt.forages;vt.db=ht;for(var yt=0;yt<mt.length;yt++)mt[yt]._dbInfo.db=ht;return ht});T.storeName?V=ct.then(function(ht){if(ht.objectStoreNames.contains(T.storeName)){var vt=ht.version+1;K(T);var mt=E[T.name],yt=mt.forages;ht.close();for(var xt=0;xt<yt.length;xt++){var Ct=yt[xt];Ct._dbInfo.db=null,Ct._dbInfo.version=vt}var Ot=new c(function(Lt,Ut){var Nt=u.open(T.name,vt);Nt.onerror=function(Gt){var Te=Nt.result;Te.close(),Ut(Gt)},Nt.onupgradeneeded=function(){var Gt=Nt.result;Gt.deleteObjectStore(T.storeName)},Nt.onsuccess=function(){var Gt=Nt.result;Gt.close(),Lt(Gt)}});return Ot.then(function(Lt){mt.db=Lt;for(var Ut=0;Ut<yt.length;Ut++){var Nt=yt[Ut];Nt._dbInfo.db=Lt,at(Nt._dbInfo)}}).catch(function(Lt){throw(U(T,Lt)||c.resolve()).catch(function(){}),Lt})}}):V=ct.then(function(ht){K(T);var vt=E[T.name],mt=vt.forages;ht.close();for(var yt=0;yt<mt.length;yt++){var xt=mt[yt];xt._dbInfo.db=null}var Ct=new c(function(Ot,Lt){var Ut=u.deleteDatabase(T.name);Ut.onerror=function(){var Nt=Ut.result;Nt&&Nt.close(),Lt(Ut.error)},Ut.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},Ut.onsuccess=function(){var Nt=Ut.result;Nt&&Nt.close(),Ot(Nt)}});return Ct.then(function(Ot){vt.db=Ot;for(var Lt=0;Lt<mt.length;Lt++){var Ut=mt[Lt];at(Ut._dbInfo)}}).catch(function(Ot){throw(U(T,Ot)||c.resolve()).catch(function(){}),Ot})})}return h(V,$),V}var Dt={_driver:"asyncStorage",_initStorage:ot,_support:f(),iterate:ut,getItem:et,setItem:kt,removeItem:wt,clear:St,length:At,key:jt,keys:Rt,dropInstance:Mt};function x(){return typeof openDatabase=="function"}var st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",it="~~local_forage_type~",N=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",Y=R.length,ft="arbf",lt="blob",q="si08",pt="ui08",bt="uic8",dt="si16",_t="si32",C="ur16",l="ui32",m="fl32",P="fl64",W=Y+ft.length,J=Object.prototype.toString;function rt(T){var $=T.length*.75,z=T.length,G,V=0,H,ct,ht,vt;T[T.length-1]==="="&&($--,T[T.length-2]==="="&&$--);var mt=new ArrayBuffer($),yt=new Uint8Array(mt);for(G=0;G<z;G+=4)H=st.indexOf(T[G]),ct=st.indexOf(T[G+1]),ht=st.indexOf(T[G+2]),vt=st.indexOf(T[G+3]),yt[V++]=H<<2|ct>>4,yt[V++]=(ct&15)<<4|ht>>2,yt[V++]=(ht&3)<<6|vt&63;return mt}function Et(T){var $=new Uint8Array(T),z="",G;for(G=0;G<$.length;G+=3)z+=st[$[G]>>2],z+=st[($[G]&3)<<4|$[G+1]>>4],z+=st[($[G+1]&15)<<2|$[G+2]>>6],z+=st[$[G+2]&63];return $.length%3===2?z=z.substring(0,z.length-1)+"=":$.length%3===1&&(z=z.substring(0,z.length-2)+"=="),z}function zt(T,$){var z="";if(T&&(z=J.call(T)),T&&(z==="[object ArrayBuffer]"||T.buffer&&J.call(T.buffer)==="[object ArrayBuffer]")){var G,V=R;T instanceof ArrayBuffer?(G=T,V+=ft):(G=T.buffer,z==="[object Int8Array]"?V+=q:z==="[object Uint8Array]"?V+=pt:z==="[object Uint8ClampedArray]"?V+=bt:z==="[object Int16Array]"?V+=dt:z==="[object Uint16Array]"?V+=C:z==="[object Int32Array]"?V+=_t:z==="[object Uint32Array]"?V+=l:z==="[object Float32Array]"?V+=m:z==="[object Float64Array]"?V+=P:$(new Error("Failed to get type for BinaryArray"))),$(V+Et(G))}else if(z==="[object Blob]"){var H=new FileReader;H.onload=function(){var ct=it+T.type+"~"+Et(this.result);$(R+lt+ct)},H.readAsArrayBuffer(T)}else try{$(JSON.stringify(T))}catch(ct){console.error("Couldn't convert value into a JSON string: ",T),$(null,ct)}}function It(T){if(T.substring(0,Y)!==R)return JSON.parse(T);var $=T.substring(W),z=T.substring(Y,W),G;if(z===lt&&N.test($)){var V=$.match(N);G=V[1],$=$.substring(V[0].length)}var H=rt($);switch(z){case ft:return H;case lt:return d([H],{type:G});case q:return new Int8Array(H);case pt:return new Uint8Array(H);case bt:return new Uint8ClampedArray(H);case dt:return new Int16Array(H);case C:return new Uint16Array(H);case _t:return new Int32Array(H);case l:return new Uint32Array(H);case m:return new Float32Array(H);case P:return new Float64Array(H);default:throw new Error("Unkown type: "+z)}}var Bt={serialize:zt,deserialize:It,stringToBuffer:rt,bufferToString:Et};function Tt(T,$,z,G){T.executeSql("CREATE TABLE IF NOT EXISTS "+$.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],z,G)}function ir(T){var $=this,z={db:null};if(T)for(var G in T)z[G]=typeof T[G]!="string"?T[G].toString():T[G];var V=new c(function(H,ct){try{z.db=openDatabase(z.name,String(z.version),z.description,z.size)}catch(ht){return ct(ht)}z.db.transaction(function(ht){Tt(ht,z,function(){$._dbInfo=z,H()},function(vt,mt){ct(mt)})},ct)});return z.serializer=Bt,V}function Vt(T,$,z,G,V,H){T.executeSql(z,G,V,function(ct,ht){ht.code===ht.SYNTAX_ERR?ct.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$.storeName],function(vt,mt){mt.rows.length?H(vt,ht):Tt(vt,$,function(){vt.executeSql(z,G,V,H)},H)},H):H(ct,ht)},H)}function Re(T,$){var z=this;T=_(T);var G=new c(function(V,H){z.ready().then(function(){var ct=z._dbInfo;ct.db.transaction(function(ht){Vt(ht,ct,"SELECT * FROM "+ct.storeName+" WHERE key = ? LIMIT 1",[T],function(vt,mt){var yt=mt.rows.length?mt.rows.item(0).value:null;yt&&(yt=ct.serializer.deserialize(yt)),V(yt)},function(vt,mt){H(mt)})})}).catch(H)});return h(G,$),G}function de(T,$){var z=this,G=new c(function(V,H){z.ready().then(function(){var ct=z._dbInfo;ct.db.transaction(function(ht){Vt(ht,ct,"SELECT * FROM "+ct.storeName,[],function(vt,mt){for(var yt=mt.rows,xt=yt.length,Ct=0;Ct<xt;Ct++){var Ot=yt.item(Ct),Lt=Ot.value;if(Lt&&(Lt=ct.serializer.deserialize(Lt)),Lt=T(Lt,Ot.key,Ct+1),Lt!==void 0){V(Lt);return}}V()},function(vt,mt){H(mt)})})}).catch(H)});return h(G,$),G}function pe(T,$,z,G){var V=this;T=_(T);var H=new c(function(ct,ht){V.ready().then(function(){$===void 0&&($=null);var vt=$,mt=V._dbInfo;mt.serializer.serialize($,function(yt,xt){xt?ht(xt):mt.db.transaction(function(Ct){Vt(Ct,mt,"INSERT OR REPLACE INTO "+mt.storeName+" (key, value) VALUES (?, ?)",[T,yt],function(){ct(vt)},function(Ot,Lt){ht(Lt)})},function(Ct){if(Ct.code===Ct.QUOTA_ERR){if(G>0){ct(pe.apply(V,[T,vt,z,G-1]));return}ht(Ct)}})})}).catch(ht)});return h(H,z),H}function Oi(T,$,z){return pe.apply(this,[T,$,z,1])}function Bi(T,$){var z=this;T=_(T);var G=new c(function(V,H){z.ready().then(function(){var ct=z._dbInfo;ct.db.transaction(function(ht){Vt(ht,ct,"DELETE FROM "+ct.storeName+" WHERE key = ?",[T],function(){V()},function(vt,mt){H(mt)})})}).catch(H)});return h(G,$),G}function Li(T){var $=this,z=new c(function(G,V){$.ready().then(function(){var H=$._dbInfo;H.db.transaction(function(ct){Vt(ct,H,"DELETE FROM "+H.storeName,[],function(){G()},function(ht,vt){V(vt)})})}).catch(V)});return h(z,T),z}function Pi(T){var $=this,z=new c(function(G,V){$.ready().then(function(){var H=$._dbInfo;H.db.transaction(function(ct){Vt(ct,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(ht,vt){var mt=vt.rows.item(0).c;G(mt)},function(ht,vt){V(vt)})})}).catch(V)});return h(z,T),z}function zi(T,$){var z=this,G=new c(function(V,H){z.ready().then(function(){var ct=z._dbInfo;ct.db.transaction(function(ht){Vt(ht,ct,"SELECT key FROM "+ct.storeName+" WHERE id = ? LIMIT 1",[T+1],function(vt,mt){var yt=mt.rows.length?mt.rows.item(0).key:null;V(yt)},function(vt,mt){H(mt)})})}).catch(H)});return h(G,$),G}function Fi(T){var $=this,z=new c(function(G,V){$.ready().then(function(){var H=$._dbInfo;H.db.transaction(function(ct){Vt(ct,H,"SELECT key FROM "+H.storeName,[],function(ht,vt){for(var mt=[],yt=0;yt<vt.rows.length;yt++)mt.push(vt.rows.item(yt).key);G(mt)},function(ht,vt){V(vt)})})}).catch(V)});return h(z,T),z}function Ri(T){return new c(function($,z){T.transaction(function(G){G.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(V,H){for(var ct=[],ht=0;ht<H.rows.length;ht++)ct.push(H.rows.item(ht).name);$({db:T,storeNames:ct})},function(V,H){z(H)})},function(G){z(G)})})}function ji(T,$){$=v.apply(this,arguments);var z=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||z.name,T.storeName=T.storeName||z.storeName);var G=this,V;return T.name?V=new c(function(H){var ct;T.name===z.name?ct=G._dbInfo.db:ct=openDatabase(T.name,"","",0),T.storeName?H({db:ct,storeNames:[T.storeName]}):H(Ri(ct))}).then(function(H){return new c(function(ct,ht){H.db.transaction(function(vt){function mt(Ot){return new c(function(Lt,Ut){vt.executeSql("DROP TABLE IF EXISTS "+Ot,[],function(){Lt()},function(Nt,Gt){Ut(Gt)})})}for(var yt=[],xt=0,Ct=H.storeNames.length;xt<Ct;xt++)yt.push(mt(H.storeNames[xt]));c.all(yt).then(function(){ct()}).catch(function(Ot){ht(Ot)})},function(vt){ht(vt)})})}):V=c.reject("Invalid arguments"),h(V,$),V}var Ni={_driver:"webSQLStorage",_initStorage:ir,_support:x(),iterate:de,getItem:Re,setItem:Oi,removeItem:Bi,clear:Li,length:Pi,key:zi,keys:Fi,dropInstance:ji};function Di(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Gr(T,$){var z=T.name+"/";return T.storeName!==$.storeName&&(z+=T.storeName+"/"),z}function Ui(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function Mi(){return!Ui()||localStorage.length>0}function $i(T){var $=this,z={};if(T)for(var G in T)z[G]=T[G];return z.keyPrefix=Gr(T,$._defaultConfig),Mi()?($._dbInfo=z,z.serializer=Bt,c.resolve()):c.reject()}function Wi(T){var $=this,z=$.ready().then(function(){for(var G=$._dbInfo.keyPrefix,V=localStorage.length-1;V>=0;V--){var H=localStorage.key(V);H.indexOf(G)===0&&localStorage.removeItem(H)}});return h(z,T),z}function Hi(T,$){var z=this;T=_(T);var G=z.ready().then(function(){var V=z._dbInfo,H=localStorage.getItem(V.keyPrefix+T);return H&&(H=V.serializer.deserialize(H)),H});return h(G,$),G}function Zi(T,$){var z=this,G=z.ready().then(function(){for(var V=z._dbInfo,H=V.keyPrefix,ct=H.length,ht=localStorage.length,vt=1,mt=0;mt<ht;mt++){var yt=localStorage.key(mt);if(yt.indexOf(H)===0){var xt=localStorage.getItem(yt);if(xt&&(xt=V.serializer.deserialize(xt)),xt=T(xt,yt.substring(ct),vt++),xt!==void 0)return xt}}});return h(G,$),G}function Gi(T,$){var z=this,G=z.ready().then(function(){var V=z._dbInfo,H;try{H=localStorage.key(T)}catch{H=null}return H&&(H=H.substring(V.keyPrefix.length)),H});return h(G,$),G}function Yi(T){var $=this,z=$.ready().then(function(){for(var G=$._dbInfo,V=localStorage.length,H=[],ct=0;ct<V;ct++){var ht=localStorage.key(ct);ht.indexOf(G.keyPrefix)===0&&H.push(ht.substring(G.keyPrefix.length))}return H});return h(z,T),z}function Ki(T){var $=this,z=$.keys().then(function(G){return G.length});return h(z,T),z}function Vi(T,$){var z=this;T=_(T);var G=z.ready().then(function(){var V=z._dbInfo;localStorage.removeItem(V.keyPrefix+T)});return h(G,$),G}function Xi(T,$,z){var G=this;T=_(T);var V=G.ready().then(function(){$===void 0&&($=null);var H=$;return new c(function(ct,ht){var vt=G._dbInfo;vt.serializer.serialize($,function(mt,yt){if(yt)ht(yt);else try{localStorage.setItem(vt.keyPrefix+T,mt),ct(H)}catch(xt){(xt.name==="QuotaExceededError"||xt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ht(xt),ht(xt)}})})});return h(V,z),V}function qi(T,$){if($=v.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var z=this.config();T.name=T.name||z.name,T.storeName=T.storeName||z.storeName}var G=this,V;return T.name?V=new c(function(H){T.storeName?H(Gr(T,G._defaultConfig)):H(T.name+"/")}).then(function(H){for(var ct=localStorage.length-1;ct>=0;ct--){var ht=localStorage.key(ct);ht.indexOf(H)===0&&localStorage.removeItem(ht)}}):V=c.reject("Invalid arguments"),h(V,$),V}var Ji={_driver:"localStorageWrapper",_initStorage:$i,_support:Di(),iterate:Zi,getItem:Hi,setItem:Xi,removeItem:Vi,clear:Wi,length:Ki,key:Gi,keys:Yi,dropInstance:qi},Qi=function($,z){return $===z||typeof $=="number"&&typeof z=="number"&&isNaN($)&&isNaN(z)},ta=function($,z){for(var G=$.length,V=0;V<G;){if(Qi($[V],z))return!0;V++}return!1},Yr=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},Ie={},Kr={},_e={INDEXEDDB:Dt,WEBSQL:Ni,LOCALSTORAGE:Ji},ea=[_e.INDEXEDDB._driver,_e.WEBSQL._driver,_e.LOCALSTORAGE._driver],je=["dropInstance"],ar=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(je),ra={description:"",driver:ea.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function na(T,$){T[$]=function(){var z=arguments;return T.ready().then(function(){return T[$].apply(T,z)})}}function or(){for(var T=1;T<arguments.length;T++){var $=arguments[T];if($)for(var z in $)$.hasOwnProperty(z)&&(Yr($[z])?arguments[0][z]=$[z].slice():arguments[0][z]=$[z])}return arguments[0]}var ia=function(){function T($){s(this,T);for(var z in _e)if(_e.hasOwnProperty(z)){var G=_e[z],V=G._driver;this[z]=V,Ie[V]||this.defineDriver(G)}this._defaultConfig=or({},ra),this._config=or({},this._defaultConfig,$),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(z){if((typeof z>"u"?"undefined":o(z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var G in z){if(G==="storeName"&&(z[G]=z[G].replace(/\W/g,"_")),G==="version"&&typeof z[G]!="number")return new Error("Database version must be a number.");this._config[G]=z[G]}return"driver"in z&&z.driver?this.setDriver(this._config.driver):!0}else return typeof z=="string"?this._config[z]:this._config},T.prototype.defineDriver=function(z,G,V){var H=new c(function(ct,ht){try{var vt=z._driver,mt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!z._driver){ht(mt);return}for(var yt=ar.concat("_initStorage"),xt=0,Ct=yt.length;xt<Ct;xt++){var Ot=yt[xt],Lt=!ta(je,Ot);if((Lt||z[Ot])&&typeof z[Ot]!="function"){ht(mt);return}}var Ut=function(){for(var Te=function(sa){return function(){var ua=new Error("Method "+sa+" is not implemented by the current driver"),Vr=c.reject(ua);return h(Vr,arguments[arguments.length-1]),Vr}},sr=0,oa=je.length;sr<oa;sr++){var ur=je[sr];z[ur]||(z[ur]=Te(ur))}};Ut();var Nt=function(Te){Ie[vt]&&console.info("Redefining LocalForage driver: "+vt),Ie[vt]=z,Kr[vt]=Te,ct()};"_support"in z?z._support&&typeof z._support=="function"?z._support().then(Nt,ht):Nt(!!z._support):Nt(!0)}catch(Gt){ht(Gt)}});return y(H,G,V),H},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(z,G,V){var H=Ie[z]?c.resolve(Ie[z]):c.reject(new Error("Driver not found."));return y(H,G,V),H},T.prototype.getSerializer=function(z){var G=c.resolve(Bt);return y(G,z),G},T.prototype.ready=function(z){var G=this,V=G._driverSet.then(function(){return G._ready===null&&(G._ready=G._initDriver()),G._ready});return y(V,z,z),V},T.prototype.setDriver=function(z,G,V){var H=this;Yr(z)||(z=[z]);var ct=this._getSupportedDrivers(z);function ht(){H._config.driver=H.driver()}function vt(xt){return H._extend(xt),ht(),H._ready=H._initStorage(H._config),H._ready}function mt(xt){return function(){var Ct=0;function Ot(){for(;Ct<xt.length;){var Lt=xt[Ct];return Ct++,H._dbInfo=null,H._ready=null,H.getDriver(Lt).then(vt).catch(Ot)}ht();var Ut=new Error("No available storage method found.");return H._driverSet=c.reject(Ut),H._driverSet}return Ot()}}var yt=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=yt.then(function(){var xt=ct[0];return H._dbInfo=null,H._ready=null,H.getDriver(xt).then(function(Ct){H._driver=Ct._driver,ht(),H._wrapLibraryMethodsWithReady(),H._initDriver=mt(ct)})}).catch(function(){ht();var xt=new Error("No available storage method found.");return H._driverSet=c.reject(xt),H._driverSet}),y(this._driverSet,G,V),this._driverSet},T.prototype.supports=function(z){return!!Kr[z]},T.prototype._extend=function(z){or(this,z)},T.prototype._getSupportedDrivers=function(z){for(var G=[],V=0,H=z.length;V<H;V++){var ct=z[V];this.supports(ct)&&G.push(ct)}return G},T.prototype._wrapLibraryMethodsWithReady=function(){for(var z=0,G=ar.length;z<G;z++)na(this,ar[z])},T.prototype.createInstance=function(z){return new T(z)},T}(),aa=new ia;r.exports=aa},{3:3}]},{},[4])(4)})})(Dn);var la=Dn.exports;const Wt=Fr(la),ha=Wt.createInstance({name:"vscode-storage",driver:Wt.INDEXEDDB}),da=ha;var gr={exports:{}};(function(n,e){(function(t,r){r(e)})(re,function(t){function r(u){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function i(u,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function o(u){return function(f){if(Array.isArray(f))return s(f)}(u)||function(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}(u)||function(f,d){if(f){if(typeof f=="string")return s(f,d);var c=Object.prototype.toString.call(f).slice(8,-1);return(c=c==="Object"&&f.constructor?f.constructor.name:c)==="Map"||c==="Set"?Array.from(f):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?s(f,d):void 0}}(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(u,f){(f==null||f>u.length)&&(f=u.length);for(var d=0,c=new Array(f);d<f;d++)c[d]=u[d];return c}var a=function(){function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.usePrevEmit=!0,this._map={},this._prevData={}}var f,d,c;return f=u,c=[{key:"_",get:function(){return this.__||(this.__=new u),this.__}},{key:"usePrevEmit",get:function(){return this._.usePrevEmit},set:function(h){this._.usePrevEmit=h}},{key:"emit",value:function(h){for(var y,_=arguments.length,v=new Array(1<_?_-1:0),b=1;b<_;b++)v[b-1]=arguments[b];(y=this._).emit.apply(y,[h].concat(v))}},{key:"off",value:function(h,y){this._.off(h,y)}},{key:"clear",value:function(h){this._.clear(h)}},{key:"on",value:function(h,y){this._.on(h,y)}},{key:"once",value:function(h,y){this._.once(h,y)}},{key:"onWait",value:function(h){this._.onWait(h)}},{key:"head",value:function(h,y){this._.head(h,y)}},{key:"headOnce",value:function(h,y){this._.headOnce(h,y)}}],(d=[{key:"hasEvent",value:function(h){return!!this._map[h]}},{key:"on",value:function(h,y){var _=this;if(r(h)==="object"){var v,b=[];for(v in h)b.push(this.on(v,h[v]));return function(){b.forEach(function(E){return E()})}}if(!y)throw new Error("fn is required");var w=this._formatTarget(y);return this._checkPrev(h,w)&&w.once?function(){}:(this._getList(h).push(w),function(){_.off(h,w)})}},{key:"_formatTarget",value:function(h,y){return typeof h=="function"?{listener:h,once:y!=null&&y,prev:this.usePrevEmit}:(typeof y=="boolean"&&(h.once=y),h)}},{key:"emit",value:function(h){for(var y=arguments.length,_=new Array(1<y?y-1:0),v=1;v<y;v++)_[v-1]=arguments[v];this._prevData[h]=_;var b=this._map[h];if(!b)return!1;for(var w=0;w<b.length;w++){var E=b[w];E.listener.apply(E,_),E.once&&(b.splice(w,1),w--)}return!0}},{key:"off",value:function(h,y){if(h=this._map[h],!h)return!1;var _=h.findIndex(function(v){return v===y||v.listener===y});return _!==-1&&(h.splice(_,1),!0)}},{key:"clear",value:function(h){return!!this._map[h]&&(delete this._map[h],delete this._prevData[h],!0)}},{key:"onWait",value:function(h,y){var _=this;return new Promise(function(v){var b=function(){for(var w=arguments.length,E=new Array(w),A=0;A<w;A++)E[A]=arguments[A];return v(E)};y&&(b=Object.assign({listener:b},y)),_.once(h,b)})}},{key:"destroy",value:function(){this._map={},this._prevData={}}},{key:"_checkPrev",value:function(h,y){return y.prev?(h=this._prevData[h],h!==void 0&&(y.listener.apply(y,o(h)),!0)):!1}},{key:"once",value:function(h,y){return this.on(h,this._formatTarget(y,!0))}},{key:"head",value:function(h,y){var _=this,v=this._formatTarget(y);return this._checkPrev(h,v)&&v.once?function(){}:(this._getList(h).unshift(v),function(){_.off(h,y)})}},{key:"headOnce",value:function(h,y){return this.head(h,this._formatTarget(y,!0))}},{key:"_getList",value:function(h){var y=this._map[h];return y||(this._map[h]=y=[]),y}}])&&i(f.prototype,d),c&&i(f,c),Object.defineProperty(f,"prototype",{writable:!1}),u}();a.version="0.0.3",t.Eveit=a,t.default=a,Object.defineProperty(t,"__esModule",{value:!0})})})(gr,gr.exports);var Un=gr.exports;function br(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function pa(n){if(Array.isArray(n))return br(n)}function va(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xr(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wa(r.key),r)}}function ma(n,e,t){return e&&Xr(n.prototype,e),t&&Xr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ya(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ga(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(n){return pa(n)||ya(n)||xa(n)||ga()}function ba(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wa(n){var e=ba(n,"string");return typeof e=="symbol"?e:e+""}function xa(n,e){if(n){if(typeof n=="string")return br(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?br(n,e):void 0}}var Ne=Symbol("E"),Rr=function(n){return n[n.Fork=0]="Fork",n[n.Append=1]="Append",n}(Rr||{}),Mn=function(){function n(){var e=this,t,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.max,s=o===void 0?0:o,a=i.useStorage,u=a===void 0?!1:a,f=i.storageKey,d=f===void 0?"_def_history_stack":f,c=i.mode,h=c===void 0?0:c,y=i.storageProvider,_=i.onStepChange,v=i.onHistorySizeChange,b=i.onHistoryOut;if(va(this,n),this.step=0,this.size=0,this.max=40,this.list=[],this.index=0,this.End=Ne,this.isActive=!1,this.max=s,this.mode=h,u!==!1&&(y||d)&&(u=!0),u&&(this.storageProvider=y||{read:function(){var E=localStorage.getItem(d);return E?JSON.parse(E):[]},write:function(E){localStorage.setItem(d,JSON.stringify(E))}}),_&&(this.osc=function(){return _(e.step)}),v&&(this.ohsc=function(){return v(e.size)}),this.oho=b,(t=this.osc)===null||t===void 0||t.call(this),(r=this.ohsc)===null||r===void 0||r.call(this),u){var w=this.storageProvider.read();w instanceof Promise?w.then(function(E){e.useCache(E)}):this.useCache(w)}}return ma(n,[{key:"useCache",value:function(e){e.length!==0&&this.push.apply(this,qr(e))}},{key:"setMax",value:function(e){this.max=e}},{key:"setStep",value:function(e){var t;this.step=e,(t=this.osc)===null||t===void 0||t.call(this)}},{key:"setHistoryIndex",value:function(e){var t;this.isActive||(this.isActive=!0),this.index=e,this.size=e,(t=this.ohsc)===null||t===void 0||t.call(this)}},{key:"back",value:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canBack(t))return t>1&&(this.setStep(this.step-this.index),this.setHistoryIndex(0)),this.End;this.setStep(this.step-t),this.setHistoryIndex(this.index-t);var r=this.list[this.index];return(e=this.oho)===null||e===void 0||e.call(this,r),r}},{key:"canBack",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index-e>=0}},{key:"first",value:function(){return this.list.length===0?Ne:(this.setStep(this.step-this.index),this.setHistoryIndex(0),this.list[0])}},{key:"last",value:function(){return this.list.length===0?Ne:(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1),this.list[this.list.length-1])}},{key:"forward",value:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!this.canForward(t))return t>1&&(this.setStep(this.step+this.list.length-this.index),this.setHistoryIndex(this.list.length-1)),this.End;this.setStep(this.step+t),this.setHistoryIndex(this.index+t);var r=this.list[this.index];return(e=this.oho)===null||e===void 0||e.call(this,r),r}},{key:"isEnd",value:function(e){return e===Ne}},{key:"canForward",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.index+e<this.list.length}},{key:"pop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,t=this.list.length;if(t<=e){var r=qr(this.list);return this.clear(),r}var i=t-e,o=this.list.splice(i),s=this.list.length;return s<this.index&&(this.setHistoryIndex(s),this.setStep(this.step-(this.index-s))),o}},{key:"push",value:function(){var e,t=this.list.length;this.index<t&&(this.step++,this.index++,this.mode===0&&this.list.splice(this.index));var r=arguments.length,i=0,o=r;this.max>0&&t+r>this.max&&(i=t+r-this.max,o=r-i),(e=this.list).push.apply(e,arguments),i&&this.list.splice(0,i),this._onListChange(),o&&(this.mode===1?this.setHistoryIndex(this.list.length):this.setHistoryIndex(this.index+o)),this.mode===1?this.setStep(this.list.length):this.setStep(this.step+o),this.isActive&&(this.isActive=!1)}},{key:"clear",value:function(){this.list=[],this._onListChange(),this.setHistoryIndex(0),this.setStep(0),this.isActive=!1}},{key:"replace",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.index;typeof this.list[t]>"u"||(this.list[t]=e,this._onListChange())}},{key:"isLatest",get:function(){return this.index===this.list.length-1}},{key:"_onListChange",value:function(){var e;(e=this.storageProvider)===null||e===void 0||e.write(this.list)}},{key:"current",value:function(){return this.list[this.index]}}])}();Mn.Mode=Rr;function wr(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function _a(n){if(Array.isArray(n))return wr(n)}function Xe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Aa(r.key),r)}}function qe(n,e,t){return e&&Jr(n.prototype,e),t&&Jr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ka(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ea(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sa(n){return _a(n)||ka(n)||Ia(n)||Ea()}function Ca(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Aa(n){var e=Ca(n,"string");return typeof e=="symbol"?e:e+""}function Le(n){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(n)}function Ia(n,e){if(n){if(typeof n=="string")return wr(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wr(n,e):void 0}}function jr(n){return!!(n!=null&&n.__isRef)}var xr=null;function Ta(n){return xr=n,function(){xr=null}}function $n(){return xr}var Oa=function(){function n(e,t){var r=this;Xe(this,n),this.__isComputed=!0,this._dirty=!1,this._listeners=[],this._clearSub=[],this._compute=e,this._set=t;var i=Ta(function(o,s){var a=function(){if(r._dirty=!0,r._listeners.length>0){var f=r._value,d=r.value;r._listeners.forEach(function(c){c(d,f)})}},u=typeof s=="string"?o.$sub(s,a):o.sub(a);r._clearSub.push(u)});this._refreshValue(),i()}return qe(n,[{key:"value",get:function(){var e;return this._dirty&&this._refreshValue(),Zn(this),(e=$n())===null||e===void 0||e(this),this._value},set:function(e){if(!this._set){console.warn("Computed not have set property");return}this._set(e)}},{key:"_refreshValue",value:function(){this._value=this._compute(),this._dirty=!1}},{key:"sub",value:function(e){var t=this;return this._listeners.push(e),function(){return t.unsub(e)}}},{key:"unsub",value:function(e){var t=this._listeners.indexOf(e);return t!==-1?(this._listeners.splice(t,1),!0):!1}},{key:"destroy",value:function(){this._listeners=[],this._clearSub.forEach(function(e){return e()}),this._clearSub=[]}}])}();function Ba(n,e){return Je(n)?n:new Oa(n,e)}function Je(n){return!!(n!=null&&n.__isComputed)}function Wn(n){return typeof n=="function"||Je(n)}function Hn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={},r={},i={$sub:function(d,c){return t[d]||(t[d]=[]),t[d].push(c),function(){i.$unsub(d,c)}},$unsub:function(d,c){if(t[d]){if(typeof c>"u")return delete t[d],!0;var h=t[d].indexOf(c);return h===-1?!1:(t[d].splice(h,1),!0)}},$get:function(d){return r[d]}},o={},s=function(d){var c=n[d];r[d]=c,o[d]={get:function(){var h;Zn(i,d),(h=$n())===null||h===void 0||h(i,d);var y=r[d];return y},set:function(h){var y,_=r[d];r[d]=h,(y=t[d])===null||y===void 0||y.forEach(function(v){v(h,_)})}},i[d]=c};for(var a in n)s(a);Object.defineProperties(i,o);var u=function(d){i[d]=function(){for(var c=arguments.length,h=new Array(c),y=0;y<c;y++)h[y]=arguments[y];return e[d].apply(i,h)}};for(var f in e)u(f);return i}var Oe={};function Zn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t;Je(n)||jr(n)?(e="value",t=function(r){return n.sub(r)}):t=function(r){return n.$sub(e,r)},Object.assign(Oe,{set:function(r){n[e]=r},get:function(){return n[e]},sub:t})}function La(n,e){if(!Oe)throw new Error("Bind 传入参数错误");(Je(e)||jr(e))&&(e=e.value);var t=Oe.get,r=Oe.set,i=Oe.sub;if(t()!==e)throw new Error("Bind 传入参数错误");var o=n.el,s="string";if(o.tagName==="INPUT"){var a=n.attr("type");a==="number"||a==="range"?s="number":(a==="radio"||a==="checkbox")&&(s="boolean")}var u=function(){if(s==="boolean")return o.checked;var h=n.value();return s==="number"?parseFloat(h):h},f=function(h){if(s==="boolean"){o.checked=h;return}n.value(h)},d=!1,c=function(){d=!0,r(u()),d=!1};f(t()),n.on("input",function(){c()}),n.on("change",function(){c()}),i(function(h){d||f(h)})}function ve(n,e){if(jr(n))n.sub(function(){e(n.value,!1)}),e(n.value,!0);else if(Wn(n)){var t=Ba(n);t.sub(function(){e(t.value,!1)}),e(t.value,!0)}else return e(n,!0),!1;return!0}var Gn=function(){function n(e){Xe(this,n),this.__ld_type=Qe.Text,this.el=document.createTextNode(""),typeof e<"u"&&this.text(e)}return qe(n,[{key:"text",value:function(e){var t=this;return ve(e,function(r){return t.el.textContent=r}),this}},{key:"mounted",value:function(e){return this.__mounted=e,this}}])}(),Pa=function(){function n(){Xe(this,n),this.__ld_type=Qe.Frag,this.children=[],this.el=document.createDocumentFragment()}return qe(n,[{key:"append",value:function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Nr(r,function(o,s){e.children.push(s),e.el.appendChild(o)}),this}},{key:"mounted",value:function(e){return this.__mounted=function(t){t.children.forEach(function(r){var i;(i=r.__mounted)===null||i===void 0||i.call(r,r)}),e(t)},this}}])}(),Qe=function(n){return n[n.Dom=0]="Dom",n[n.Text=1]="Text",n[n.Frag=2]="Frag",n}(Qe||{});function Nr(n,e){n.forEach(function(t){var r;if(Array.isArray(t)){Nr(t,e);return}var i=t;Wn(i)?(i=new Gn(i),i=i.el):typeof i.__ld_type=="number"?i=i.el:t instanceof HTMLElement||(i=document.createTextNode("".concat(t))),e(i,t),(r=t.__mounted)===null||r===void 0||r.call(t,t)})}var za=/(width$)|(height$)|(top$)|(bottom$)|(left$)|(right$)|(^margin)|(^padding)|(font-?size)/i,Qr=/!important$/,Fa=/^[0-9]+$/;function Ra(n,e){n=ja(n);var t="";return Qr.test(e)&&(t="important",e=e.replace(Qr,"")),Fa.test(e)&&za.test(n)&&(e="".concat(e,"px")),{cssKey:n,cssValue:e,important:t}}function ja(n){for(var e=n.length,t="",r=0;r<e;r++){var i=n[r],o=i.charCodeAt(0);o>=65&&o<=90?t+="-".concat(i.toLowerCase()):t+=i}return t}var Na=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link","svg","script"];function Yn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;if(e){var r=t.querySelector(n);if(r)return new ce(r);throw new Error("Element is not exist"+n)}for(var i=t.querySelectorAll(n),o=[],s=0;s<i.length;s++)o.push(new ce(i[s]));return o}var Ht=function(){var n=function(t){return new ce(t)},e={frag:{get:function(){return new Pa}},text:{get:function(){var t=function(r){return new Gn(r)};return t.text=t,t}}};return Na.forEach(function(t){e[t]={get:function(){return n(t)}}}),Object.defineProperties(n,e),n}();function Da(n,e){var t,r=e;typeof e=="string"?r=Yn(e,!0):e instanceof HTMLElement&&(r=new ce(e)),Array.isArray(n)?(t=r).append.apply(t,Sa(n)):r.append(n)}var ce=function(){function n(e){Xe(this,n),this.__ld_type=Qe.Dom,this.__xr_funcs={},this.el=typeof e=="string"?document.createElement(e):e}return qe(n,[{key:"_ur",value:function(e,t){var r=this;return typeof t>"u"?this.el[e]:(ve(t,function(i){return r.el[e]=i}),this)}},{key:"class",value:function(e){return this._ur("className",e)}},{key:"id",value:function(e){return this._ur("id",e)}},{key:"addClass",value:function(e){return this.el.classList.add(e),this}},{key:"removeClass",value:function(e){return this.el.classList.remove(e),this}},{key:"hasClass",value:function(e){var t;return(t=this.el)===null||t===void 0?void 0:t.classList.contains(e)}},{key:"toggleClass",value:function(e,t){var r;return!!((r=this.el)!==null&&r!==void 0&&r.classList.toggle(e,t))}},{key:"remove",value:function(){var e;return(e=this.el)===null||e===void 0||e.remove(),this}},{key:"text",value:function(e){return typeof e>"u"?this.el.innerText:this._ur("innerText",e)}},{key:"mounted",value:function(e){return this.__mounted=e,this}},{key:"attr",value:function(e,t){var r=this;if(Le(e)==="object"){for(var i in e)this.attr(i,e[i]);return this}return typeof t>"u"?this.el.getAttribute(e)||"":(ve(t,function(o){return r.el.setAttribute(e,o)}),this)}},{key:"removeAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"func",value:function(e,t){return typeof t>"u"?this.__xr_funcs[e]:(this.__xr_funcs[e]=t,this)}},{key:"data",value:function(e,t){var r=this;if(Le(e)==="object"){for(var i in e)this.data(i,e[i]);return this}if(typeof t>"u"){var o;return((o=this.el.__xr_data)===null||o===void 0?void 0:o[e])||null}return this.el.__xr_data||(this.el.__xr_data={}),ve(t,function(s){return r.el.__xr_data[e]=s}),this}},{key:"style",value:function(e,t){var r=this.el.style;if(typeof t<"u")return ve(t,function(o){var s=Ra(e,o),a=s.important,u=s.cssValue,f=s.cssKey;r.setProperty(f,u,a)}),this;if(typeof e=="string")return r[e];for(var i in e)this.style(i,e[i]);return this}},{key:"value",value:function(e){return this._ur("value",e)}},{key:"html",value:function(e){return this._ur("innerHTML",e)}},{key:"outerHtml",value:function(e){var t=this;return typeof e>"u"?this.el.outerHTML:(ve(e,function(r){t.html(r),t.el=t.el.children[0]}),this)}},{key:"child",value:function(e){var t=this.el.children[e];return t?new n(t):null}},{key:"children",value:function(){for(var e=this.el.children.length,t=[],r=0;r<e;r++)t.push(this.child(r));return t}},{key:"click",value:function(e){return this.on("click",e)}},{key:"on",value:function(e,t){if(Le(e)==="object"){for(var r in e)this.on(r,e[r]);return this}var i=this.el;if(typeof t=="function")this.el.addEventListener(e,t);else{var o,s=function(a){var u;t.self&&a.target!==i||(t.stop&&a.stopPropagation(),t.prevent&&a.preventDefault(),t.once&&i.removeEventListener(e,s,t.capture),(u=t.listener)===null||u===void 0||u.call(t,a))};i.addEventListener(e,s,(o=t.capture)!==null&&o!==void 0?o:!1)}return this}},{key:"append",value:function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Nr(r,function(o){e.el.appendChild(o)}),this}},{key:"ref",value:function(e){return e(this),this}},{key:"hide",value:function(){return this.display("none")}},{key:"display",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"block";return this.style("display",e)}},{key:"show",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";return ve(e,function(i){t.display(i?r:"none")}),this}},{key:"query",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Yn(e,t,this.el)}},{key:"src",value:function(e){return this._ur("src",e)}},{key:"parent",value:function(){return this.el.parentElement}},{key:"empty",value:function(){return this.html("")}},{key:"name",value:function(e){return this.attr("__xr_name",e)}},{key:"find",value:function(e){return this.query('[__xr_name="'.concat(e,'"]'),!0)}},{key:"type",value:function(e){return this.attr("type",e)}},{key:"bind",value:function(e){return La(this,e),this}}])}();function tn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function en(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Ua(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function Ua(n,e){if(n){if(typeof n=="string")return tn(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tn(n,e):void 0}}var Kn="  ";function Ma(n){Kn=n}function $a(n){Wa(this,n,Kn)}function Wa(n,e,t){var r=t.length;if(e.code==="Tab"){e.preventDefault();var i=rn(n),o=i.startLineIndex,s=i.start,a=i.end,u=i.lineText.split(`
`);if(e.shiftKey){var f=!0,d=en(u),c;try{for(d.s();!(c=d.n()).done;){var h=c.value;h.startsWith(t)?(n.selectionStart=o,n.selectionEnd=o+r,document.execCommand("delete",!1),f&&h.startsWith(t+t)&&(s-=r),a-=r,o+=h.length-r+1):o+=h.length+1,f=!1}}catch(D){d.e(D)}finally{d.f()}console.log(s,a),n.selectionStart=s,n.selectionEnd=a;return}if(u.length===1){cr(t);return}s+=r;var y=en(u),_;try{for(y.s();!(_=y.n()).done;){var v=_.value;n.selectionStart=n.selectionEnd=o,cr(t),o+=r+v.length+1,a+=r}}catch(D){y.e(D)}finally{y.f()}n.selectionStart=s,n.selectionEnd=a}else if(e.code==="Enter"&&!e.ctrlKey){for(var b=rn(n),w=b.lineText.split(`
`)[0],E=`
`,A=0;w.substring(A,A+r)===t;)E+=t,A+=r;A>0&&(cr(E),e.preventDefault())}}function cr(n){n&&document.execCommand("insertText",!1,n)}function rn(n){var e=n.selectionStart,t=n.selectionEnd,r="",i=n.value;r=i.substring(e,t);var o=i.substring(0,e),s=o.lastIndexOf(`
`),a=s+1;return{start:e,end:t,text:r,lineText:i.substring(a,t),line:r.split(`
`).length,startLineIndex:a}}function nn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function fr(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Ha(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function Ha(n,e){if(n){if(typeof n=="string")return nn(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nn(n,e):void 0}}function an(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(n=n.trim(),!n)return[];var t=n.split("|").map(function(a){return a.trim()}),r=[],i=fr(t),o;try{var s=function(){var a=o.value,u={name:"",args:[],options:{},line:a},f=a.split(" ");u.name=f.shift()||"";var d="",c=!1,h=function(A){if(e&&typeof A=="string"&&A[0]===":"&&(u.args.push(A.substring(1)),A=!0),c)u.options[d]=A;else{var D=fr(d),B;try{for(D.s();!(B=D.n()).done;){var Z=B.value;u.options[Z]=A}}catch(F){D.e(F)}finally{D.f()}}},y=function(A){d=A.substring(c?2:1)},_=function(A){c=A[1]==="-"},v=!1,b=fr(f),w;try{for(b.s();!(w=b.n()).done;){var E=w.value;if(E=E.trim(),!!E){if(v){u.args.push(E);continue}if(E==="--"){v=!0;continue}E[0]==="-"?(_(E),d&&h(!0),y(E)):d?E[0]==="-"?(_(E),h(!0),y(E)):(h(E),d=""):u.args.push(E)}}}catch(A){b.e(A)}finally{b.f()}d&&h(!0),r.push(u)};for(i.s();!(o=i.n()).done;)s()}catch(a){i.e(a)}finally{i.f()}return r}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".style-text{font-family:Menlo,Monaco,Courier New,monospace;font-size:var(--font-size);font-kerning:none;white-space:pre;line-height:var(--line-height);box-sizing:border-box}.full-parent{position:absolute;top:0;left:0;width:100%;height:100%}.editor-textarea::-webkit-scrollbar,.web-term-container::-webkit-scrollbar{width:5px;cursor:pointer;height:5px}.editor-textarea::-webkit-scrollbar-button,.web-term-container::-webkit-scrollbar-button{display:none}.editor-textarea::-webkit-scrollbar-track,.web-term-container::-webkit-scrollbar-track{display:none}.editor-textarea::-webkit-scrollbar-thumb,.web-term-container::-webkit-scrollbar-thumb{background-color:#777;cursor:pointer}.editor-textarea ::selection,.web-term-container ::selection{background-color:var(--selection-bg);color:var(--selection)}.web-term-container{position:relative;font-family:Menlo,Monaco,Courier New,monospace;font-size:var(--font-size);font-kerning:none;white-space:pre;line-height:var(--line-height);box-sizing:border-box;background-color:var(--background);color:var(--color);cursor:text}.web-term-container *{font-family:Menlo,Monaco,Courier New,monospace;font-size:var(--font-size);font-kerning:none;white-space:pre;line-height:var(--line-height);box-sizing:border-box}.editor-cursor{position:absolute;z-index:2;height:var(--line-height);background-color:var(--background);color:var(--color)}.editor-cursor.cursor-focus{background-color:var(--selection-bg);color:var(--selection)}.editor-cursor .editor-cursor-border{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--selection-bg)}.editor-cursor .editor-cursor-text{position:absolute;top:0;left:0;width:100%;height:100%}.editor-textarea{color:var(--color)}.term-editor-title{color:var(--color);opacity:.7}.term-display-box>div,.term-below-box>div{padding:2px 0;word-break:break-all;white-space:pre-wrap;color:var(--color)}.term-display-box>div a,.term-below-box>div a{opacity:.7}.term-below-box>div{opacity:.7}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function _r(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Za(n){if(Array.isArray(n))return _r(n)}function Ga(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Vn(n,e,t){return e=We(e),Xa(n,qn()?Reflect.construct(e,t||[],We(n).constructor):e.apply(n,t))}function we(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function on(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Jn(r.key),r)}}function xe(n,e,t){return e&&on(n.prototype,e),t&&on(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ya(n,e,t){return(e=Jn(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function We(n){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},We(n)}function Xn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kr(n,e)}function qn(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qn=function(){return!!n})()}function Ka(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Va(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sn(Object(t),!0).forEach(function(r){Ya(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sn(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xa(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(n)}function kr(n,e){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},kr(n,e)}function qa(n){return Za(n)||Ka(n)||Qa(n)||Va()}function Ja(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Jn(n){var e=Ja(n,"string");return typeof e=="symbol"?e:e+""}function Qa(n,e){if(n){if(typeof n=="string")return _r(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_r(n,e):void 0}}var to=function(){function n(e,t){var r=this;we(this,n),this.pushedCurrent=!1,this.provider=t,this.history=new Mn({max:e,mode:Rr.Append});var i=t.read();i instanceof Promise?i.then(function(o){r._initHistory(o)}):this._initHistory(i)}return xe(n,[{key:"_initHistory",value:function(e){var t,r=JSON.parse(e);(t=this.history).push.apply(t,qa(r))}},{key:"up",value:function(e){if(this.history.isActive||(this.push(e),this.history.back(),this.pushedCurrent=!0),this.history.canBack()){var t=this.history.back();return t}else return null}},{key:"down",value:function(){return this.history.canForward()?this.history.forward():null}},{key:"checkLatest",value:function(e){this.history.isLatest&&(this.history.replace(e),this.save())}},{key:"push",value:function(e){this.pushedCurrent&&(this.history.pop(),this.pushedCurrent=!1),this.history.push(e),this.save()}},{key:"save",value:function(){this.provider.write(JSON.stringify(this.history.list))}},{key:"clear",value:function(){this.pushedCurrent=!1,this.history.clear(),this.save()}}])}();function un(){var n=navigator.userAgent;return/macintosh|mac os x/i.test(n)}function Er(n){return un()&&n.metaKey||!un()&&n.ctrlKey}function eo(n){var e=!1;return n.on("compositionstart",function(){e=!0}),n.on("compositionend",function(){e=!1}),function(){return e}}function Qn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return n instanceof HTMLElement?new ce(n):n instanceof ce?n:typeof n=="string"?Ht.div[e?"html":"text"](n+t):Ht.div[e?"html":"text"](n.toString()+t)}var ro=function(){function n(){we(this,n),this.container=Ht.div.class("term-display-box").on("click",function(e){e.stopPropagation()})}return xe(n,[{key:"pushContent",value:function(e,t){this.container.append(Qn(e,t,`
`))}}])}(),cn="web-term-container",no=2,ti={FullParent:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},ei={padding:5,fontSize:14,color:"#fff",background:"#000",selectionBackground:"#fff",selectionColor:"#000"};function io(n){if(!n)return!1;var e=n.charCodeAt(0);return e>=128}var ri=function(n){function e(t){var r,i=t.header,o=i===void 0?"":i,s=t.paddingTop,a=s===void 0?5:s,u=t.paddingLeft,f=u===void 0?5:u,d=t.size,c=d===void 0?"full":d,h=t.mode,y=h===void 0?"inline":h,_=t.tab,v=_===void 0?"  ":_,b=t.fontSize,w=b===void 0?ei.fontSize:b;we(this,e),r=Vn(this,e),r.SingleCharWidth=9,r.MultiCharWidth=15,r.fontSize=0,r.lineHeight=0,r.wrapLine=!0,r.store=Hn({cx:0,cy:0}),r.header="",r._prevHeader="",r._prevHeaderWidth=0,r._pasteTimer=null,r._prevPos={x:-1,y:-1},r._isShowCursor=!1,r.setFontSize(w),r.size=c,r.mode=y,Ma(v),r.paddingTop=a,r.paddingLeft=f;var E=Ht.canvas;return r.ctx=E.el.getContext("2d"),r.resize(!0),r.header=o,r.render(),r._monitorStart(),r}return Xn(e,n),xe(e,[{key:"setFontSize",value:function(t){this.fontSize=t,this.lineHeight=t+2}},{key:"value",get:function(){var t=this.fullValue,r=this.header.length;return r?t.substring(r):t}},{key:"fullValue",get:function(){return this.textarea.value()}},{key:"beforeValue",get:function(){var t=this.fullValue,r=this.header.length,i=this.textarea.el.selectionStart;return typeof i=="number"&&i>0?t.substring(r,i):t.substring(r)}},{key:"headerWidth",get:function(){var t=this.header;return(t!==this._prevHeader||this._prevHeaderWidth<0)&&(this._prevHeader=t,this._prevHeaderWidth=this.measureTextWidth(t)),this._prevHeaderWidth}},{key:"_monitorStart",value:function(){var t=this;setTimeout(function(){t.textarea.el.clientWidth?t.relocateCursorPosition():t._monitorStart()},100)}},{key:"render",value:function(){var t=this.size==="full";this.container=Ht.div.style({position:"relative",height:t?"100%":"".concat(this.lineHeight+2*this.paddingTop,"px")}).append(this.cursor=Ht.div.class("editor-cursor").append(Ht.div.class("editor-cursor-border"),this.cursorText=Ht.div.class("editor-cursor-text")),this.textarea=Ht.textarea.class("editor-textarea").value(this.header).style(Pe(Pe({},ti.FullParent),{},{padding:"".concat(this.paddingTop,"px ").concat(this.paddingLeft,"px"),backgroundColor:"transparent",border:"none",outline:"none",resize:"none",zIndex:"1",caretColor:"transparent"}))),this.wrapLine&&this.textarea.style({wordBreak:"break-all",whiteSpace:"pre-wrap"}),this.initEvents()}},{key:"initEvents",value:function(){var t=this,r=!1,i=this.textarea.el,o=function(d){return d.code==="Backspace"||d.code==="Enter"},s=eo(this.textarea),a=null,u=this.compatSelChange();this.textarea.on("keydown",function(d){if(!s()){if(t.mode==="inline"){if(d.code==="Enter")if(Er(d))t.pushText(`
`);else{d.preventDefault(),t.emit("key","Enter");return}else if(d.code==="ArrowUp"||d.code==="ArrowDown"||d.code==="Tab"){d.preventDefault(),t.emit("key",d.code);return}}if(d.code==="Tab"&&i.selectionStart!==i.selectionEnd&&t.showCursor(!1),$a.call(i,d),o(d)&&(r=!0),d.code==="Backspace"){var c=t.getCursorPosition(),h=c.x,y=c.y,_=c.isRange;y===0&&h<=t.headerWidth&&!_&&d.preventDefault()}Er(d)&&d.code==="KeyZ"&&(clearTimeout(a),a=setTimeout(function(){t.relocateCursorPosition()},50))}}).on("keyup",function(d){s()||o(d)&&(r=!1)}).on("paste",function(){t._pasteTimer=setTimeout(function(){t.relocateCursorPosition()},50)}).on("input",function(d){if(d.preventDefault(),r&&t.relocateCursorPosition(),t.size==="auto"){var c=t._countContentHeight(t.fullValue,!0);c!=i.clientHeight&&t.textarea.style("height","".concat(c,"px"))}t.emit("input")}).on("selectionchange",function(){u&&(u(),u=null),t._onSelectionChange()}).on("scroll",function(){t.relocateCursorPosition()}).on("focus",function(){t.cursor.addClass("cursor-focus")}).on("blur",function(){t.cursor.removeClass("cursor-focus")}).on("cut",function(){var d=t.textarea.el;d.selectionStart!==d.selectionEnd&&t.relocateCursorPosition()});var f=i.clientWidth;globalThis.addEventListener("resize",function(){i.clientWidth!==f&&(f=i.clientWidth,t.relocateCursorPosition())})}},{key:"_countContentHeight",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._countContentSize(t,r).height}},{key:"_countContentSize",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=t.split(`
`),s=0,a=o.map(function(u){var f=r.countSingleLineInfo(u);return s+=f.length*r.lineHeight,f});return{lines:a,height:s+(i?2*this.paddingTop:0)}}},{key:"countSingleLineInfo",value:function(t){var r=this,i=this._getLineBoxWidth();if(i<=0)return[{content:t,width:this.measureTextWidth(t)}];var o=Math.floor(i/this.MultiCharWidth);if(t.length<=o)return[{content:t,width:this.measureTextWidth(t)}];for(var s=[],a=t.length,u=0,f=u+o,d=function(){var b=t.substring(u,f);return{content:b,width:r.measureTextWidth(b)}};a>o;){var c=d(),h=c.content,y=c.width,_=void 0,v=void 0;do{if(_=h,v=y,f>=t.length){f++;break}h+=t[f],y=this.measureTextWidth(h),f++}while(y<=i);s.push({content:_,width:v}),u=f-1,f=u+o,a-=_.length}return u<t.length&&s.push(d()),s}},{key:"_onSelectionChange",value:function(){var t=this.textarea.el;if(t.selectionStart===t.selectionEnd)this.relocateCursorPosition();else{if(t.clientWidth===0)return;var r=this.header.length;t.selectionStart<r&&(t.selectionStart=r);var i=t.value.length;t.selectionEnd>i&&(t.selectionEnd=i)}}},{key:"compatSelChange",value:function(){var t=this,r=function(){var i=t.textarea.el;document.activeElement===i&&t._onSelectionChange()};return document.addEventListener("selectionchange",r),function(){return document.removeEventListener("selectionchange",r)}}},{key:"measureTextWidth",value:function(t){return t?this.ctx.measureText(t).width:0}},{key:"_getLineBoxWidth",value:function(){return this.textarea.el.clientWidth-2*this.paddingLeft}},{key:"getCursorPosition",value:function(){var t=this.textarea.el,r=t.selectionStart,i=t.selectionEnd,o=t.value.substring(0,r),s=this._getLineBoxWidth(),a=t.value[r]||"",u=0,f=0;if(this.wrapLine){var d,c=this._countContentSize(o);f=c.height-this.lineHeight,u=((d=c.lines.pop())===null||d===void 0||(d=d.pop())===null||d===void 0?void 0:d.width)||0}else u=this.measureTextWidth(o),f=(o.split(`
`).length-1)*this.lineHeight;var h=io(a)?this.MultiCharWidth:this.SingleCharWidth;return u+h>s&&(u=0,f+=this.lineHeight),(this._prevPos.x!==u||this._prevPos.y!==f)&&(Object.assign(this._prevPos,{x:u,y:f}),this.emit("cursor-change",{x:u,y:f,word:a,wordWidth:h,beforeValue:this.beforeValue,value:this.value})),{x:u,y:f,isRange:r!=i,word:a,wordWidth:h}}},{key:"showCursor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._isShowCursor!==t&&(this.cursor.style("visibility",t?"visible":"hidden"),this._isShowCursor=t)}},{key:"relocateCursorPosition",value:function(){clearTimeout(this._pasteTimer);var t=this.textarea.el;this.showCursor();var r=this.getCursorPosition(),i=r.x,o=r.y,s=r.word,a=r.wordWidth,u=i;if(o===0&&i<this.headerWidth){var f=this.header.length;t.setSelectionRange(f,f),u=this.headerWidth}this.cursor.style({left:"".concat(u+this.paddingLeft,"px"),top:"".concat(o+this.paddingTop-t.scrollTop,"px"),width:"".concat(a,"px")}),this.cursorText.text(s)}},{key:"focus",value:function(){this.textarea.el.focus()}},{key:"pushText",value:function(t){var r=this.textarea.el;r.selectionStart=r.selectionEnd=r.value.length,this.insertText(t)}},{key:"insertText",value:function(t){t&&document.execCommand("insertText",!1,t)}},{key:"replaceText",value:function(t){this.clearContent(!1),this.pushText(t),this.relocateCursorPosition()}},{key:"clearContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.textarea.el,i=r.value,o=!i.startsWith(this.header),s=this.header.length;r.selectionStart=o?0:s,r.selectionEnd=i.length+1,s!==i.length&&(document.execCommand("delete",!1),o&&this.insertText(this.header),t&&this.relocateCursorPosition())}},{key:"setCursorToHead",value:function(){this.setCursorPos(0)}},{key:"setCursorPos",value:function(t){var r=this.textarea.el;r.selectionStart=r.selectionEnd=this.header.length+t}},{key:"resize",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.ctx.font="".concat(this.fontSize,'px Menlo, Monaco, "Courier New", monospace'),this.SingleCharWidth=this.measureTextWidth("a"),this.MultiCharWidth=this.measureTextWidth("一"),!t){this._prevHeaderWidth=-1;var r=this.size==="full";r||this.container.style("height","".concat(this.lineHeight+2*this.paddingTop,"px")),this.relocateCursorPosition()}}}])}(Un.Eveit),ao=function(){function n(){we(this,n),this.container=Ht.div.class("term-below-box").on("click",function(e){e.stopPropagation()})}return xe(n,[{key:"write",value:function(e,t){var r=this.container.children();r.length>0&&r[r.length-1].remove(),this.push(e,t)}},{key:"push",value:function(e,t){this.container.append(Qn(e,t,`
`))}},{key:"clear",value:function(){this.container.empty()}}])}(),oo=function(){function n(e){var t=this;we(this,n),this.editor=new ri({mode:"full",paddingLeft:0,paddingTop:0,fontSize:e.fontSize}),this.container=Ht.div.style(Pe(Pe({},ti.FullParent),{},{padding:e.padding,zIndex:100,flexDirection:"column",display:"flex"})).append(this.title=Ht.div.class("term-editor-title").text(""),this.editor.container.style({flex:"1",height:"auto"})),this.container.on("click",function(r){r.stopPropagation()}),this.container.on("keydown",function(r){if(r.code==="KeyS"&&Er(r)){var i=t.editor.value;t.editor.clearContent(),t.editor.emit("edit-done",i),r.preventDefault()}r.code==="Escape"&&(t.editor.clearContent(),t.editor.emit("edit-cancel"))})}return xe(n,[{key:"_init",value:function(e,t){var r=t.title,i=r===void 0?"":r,o=t.html,s=o===void 0?!1:o;this.editor.textarea.el.focus(),this.editor.replaceText(e),this.title.style({paddingBottom:i?"5px":0})[s?"html":"text"](i)}}])}(),so=function(){function n(e,t){we(this,n),this.parent=e,this.style=t,this.list=[]}return xe(n,[{key:"create",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new oo(this.style);this.parent.container.append(i.container),this.parent.store.showEditor=!0;var o=i.editor,s=function(){t.removeEditor(i)};if(o.once("edit-done",s),o.once("edit-cancel",s),this.list.length>0){var a=this.list[this.list.length-1];a.container.display("none")}return this.list.push(i),i._init(e,r),o}},{key:"removeEditor",value:function(e){var t=this.list.indexOf(e);if(t>=0){if(this.list.splice(t,1),this.list.length===0)this.parent.store.showEditor=!1;else{var r=this.list[this.list.length-1];r.container.display("flex"),r.editor.focus()}e.container.remove(),this.parent.input.focus()}}},{key:"setFontSize",value:function(e){this.list.forEach(function(t){t.editor.setFontSize(e)})}},{key:"resize",value:function(){this.list.forEach(function(e){e.editor.resize()})}}])}();function uo(){var n="_web_term_ui_history;";return{read:function(){return localStorage.getItem(n)||"[]"},write:function(e){return localStorage.setItem(n,e),!0}}}var co=function(n){function e(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.title,o=i===void 0?"":i,s=r.titleHtml,a=s===void 0?!0:s,u=r.historyMax,f=u===void 0?100:u,d=r.storageProvider,c=d===void 0?uo():d,h=r.container,y=r.header,_=r.theme,v=r.style,b=v===void 0?{padding:5}:v,w=r.parseCommand,E=w===void 0?!0:w;if(we(this,e),t=Vn(this,e),t.style=Pe({},ei),t.store=Hn({showEditor:!1}),t.theme="dark",t._parseCommand=E,t.title=o,t.history=new to(f,c),Object.assign(t.style,b),t.editManager=new so(t,b),t.input=new ri({paddingTop:no,paddingLeft:0,header:y,size:"auto",mode:"inline",fontSize:t.style.fontSize}),t.display=new ro,t.below=new ao,o&&t.display.pushContent(o,a),!h)t.container=Ht.div.class(cn).style({position:"fixed",top:0,left:0,width:"100%",height:"100%"}),Da(t.container,"body");else{if(typeof h=="string"){var A=document.querySelector(h);if(!A)throw new Error("Container not exists");t.container=new ce(A)}else t.container=new ce(h);t.container.addClass(cn)}return t.initEvents(),_?t.setTheme(_):t.setColor(b),t._setFontSize(t.style.fontSize),t.render(),t}return Xn(e,n),xe(e,[{key:"value",get:function(){return this.input.value}},{key:"beforeValue",get:function(){return this.input.beforeValue}},{key:"header",get:function(){return this.input.header}},{key:"initEvents",value:function(){var t=this;this.input.on("key",function(r){switch(r){case"Enter":{var i=t.input.value;if(i&&t.history.push(i),t.emit("enter",i),t._parseCommand){var o=an(i);t.emit("command",o[0],o)}}break;case"ArrowDown":{var s=t.history.down();typeof s=="string"&&t.input.replaceText(s)}break;case"ArrowUp":{var a=t.history.up(t.input.value);typeof a=="string"?t.input.replaceText(a):t.input.setCursorToHead()}break;case"Tab":t.emit("tab",t.input.beforeValue);break}}),this.input.on("input",function(){t.history.checkLatest(t.input.value),t.emit("input",t.value,t.input.beforeValue)}),this.container.on("click",function(){t.input.focus()}),this.input.on("cursor-change",function(r){t.emit("cursor-change",r)})}},{key:"render",value:function(){var t=this;this.container.style({overflow:function(){return t.store.showEditor?"hidden":"auto"}}).append(this.mainContainer=Ht.div.style("padding",this.style.padding).append(this.display.container,this.input.container,this.below.container).show(function(){return!t.store.showEditor}))}},{key:"setTheme",value:function(t){var r="#fff",i="#000",o=t==="light";this.theme=t,this.setColor({background:o?r:i,color:o?i:r,selectionBackground:o?i:r,selectionColor:o?r:i})}},{key:"setColor",value:function(t){Object.assign(this.style,t),this.container.style({"--background":this.style.background,"--color":this.style.color,"--selection":this.style.selectionColor,"--selection-bg":this.style.selectionBackground})}},{key:"_setFontSize",value:function(t){this.style.fontSize=t;var r=t+2;this.container.style({"--font-size":t,"--line-height":r})}},{key:"fontSize",get:function(){return this.style.fontSize}},{key:"setFontSize",value:function(t){this._setFontSize(t),this.editManager.setFontSize(t),this.input.setFontSize(t),this.resize()}},{key:"clearInputHistory",value:function(){this.history.clear()}},{key:"write",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.html,o=i===void 0?!0:i,s=r.clear,a=s===void 0?!0:s;this.display.pushContent(this.input.fullValue,o),t&&this.display.pushContent(t,o),a&&this.input.clearContent(),this.scrollToBottom()}},{key:"insertText",value:function(t){this.input.insertText(t)}},{key:"clearContent",value:function(){this.input.clearContent()}},{key:"setCursorPos",value:function(t){this.input.setCursorPos(t)}},{key:"edit",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.editManager.create(t,r)}},{key:"clearTerminal",value:function(){this.display.container.empty(),this.input.clearContent()}},{key:"newLine",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.write("",{html:t})}},{key:"setHeader",value:function(t){this.input.header=t}},{key:"scrollToBottom",value:function(){this.container.el.scrollTop=this.container.el.scrollHeight}},{key:"focus",value:function(){this.input.focus()}},{key:"writeBelow",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.below.write(t,r),this.scrollToBottom()}},{key:"pushBelow",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.below.push(t,r),this.scrollToBottom()}},{key:"clearBelow",value:function(){this.below.clear()}},{key:"resize",value:function(){this.editManager.resize(),this.input.resize()}},{key:"parseCommand",value:function(t){return an(t)}}])}(Un.Eveit);function fn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function lr(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=fo(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function fo(n,e){if(n){if(typeof n=="string")return fn(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fn(n,e):void 0}}function lo(n){if(n=n.trim(),!n)return[];var e=n.split("|").map(function(s){return s.trim()}),t=[],r=lr(e),i;try{var o=function(){var s=i.value,a={name:"",args:[],options:{}},u=s.split(" ");a.name=u.shift()||"";var f="",d=!1,c=function(w){if(d)a.options[f]=w;else{var E=lr(f),A;try{for(E.s();!(A=E.n()).done;){var D=A.value;a.options[D]=w}}catch(B){E.e(B)}finally{E.f()}}},h=function(w){f=w.substring(d?2:1)},y=function(w){d=w[1]==="-"},_=lr(u),v;try{for(_.s();!(v=_.n()).done;){var b=v.value;b=b.trim(),b&&(b[0]==="-"?(y(b),f&&c(!0),h(b)):f?b[0]==="-"?(y(b),c(!0),h(b)):(c(b),f=""):a.args.push(b))}}catch(w){_.e(w)}finally{_.f()}f&&c(!0),t.push(a)};for(r.s();!(i=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return t}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".style-text{font-family:Menlo,Monaco,Courier New,monospace;font-size:var(--font-size);font-kerning:none;white-space:pre;line-height:var(--line-height);box-sizing:border-box}.full-parent{position:absolute;top:0;left:0;width:100%;height:100%}.editor-textarea::-webkit-scrollbar,.web-term-container::-webkit-scrollbar{width:5px;cursor:pointer;height:5px}.editor-textarea::-webkit-scrollbar-button,.web-term-container::-webkit-scrollbar-button{display:none}.editor-textarea::-webkit-scrollbar-track,.web-term-container::-webkit-scrollbar-track{display:none}.editor-textarea::-webkit-scrollbar-thumb,.web-term-container::-webkit-scrollbar-thumb{background-color:#777;cursor:pointer}.editor-textarea ::selection,.web-term-container ::selection{background-color:var(--selection-bg);color:var(--selection)}.web-term-container{position:relative;font-family:Menlo,Monaco,Courier New,monospace;font-size:var(--font-size);font-kerning:none;white-space:pre;line-height:var(--line-height);box-sizing:border-box;background-color:var(--background);color:var(--color);cursor:text}.web-term-container *{font-family:Menlo,Monaco,Courier New,monospace;font-size:var(--font-size);font-kerning:none;white-space:pre;line-height:var(--line-height);box-sizing:border-box}.editor-cursor{position:absolute;z-index:2;height:var(--line-height);background-color:var(--background);color:var(--color)}.editor-cursor.cursor-focus{background-color:var(--selection-bg);color:var(--selection)}.editor-cursor .editor-cursor-border{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--selection-bg)}.editor-cursor .editor-cursor-text{position:absolute;top:0;left:0;width:100%;height:100%}.editor-textarea{color:var(--color)}.term-editor-title{color:var(--color);opacity:.7}.term-display-box>div,.term-below-box>div{padding:2px 0;word-break:break-all;white-space:pre-wrap;color:var(--color)}.term-display-box>div a,.term-below-box>div a{opacity:.7}.term-below-box>div{opacity:.7}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function ln(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(f){return void t(f)}a.done?e(u):Promise.resolve(u).then(r,i)}function tr(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){ln(o,r,i,s,a,"next",u)}function a(u){ln(o,r,i,s,a,"throw",u)}s(void 0)})}}function ho(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function po(n,e,t){if(ni())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(n.bind.apply(n,r));return i}function vo(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,go(r.key),r)}}function mo(n,e,t){return vo(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ni(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ni=function(){return!!n})()}function ie(){ie=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(g,p,k){g[p]=k.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(g,p,k){return Object.defineProperty(g,p,{value:k,enumerable:!0,configurable:!0,writable:!0}),g[p]}try{f({},"")}catch{f=function(g,p,k){return g[p]=k}}function d(g,p,k,L){var I=p&&p.prototype instanceof w?p:w,O=Object.create(I.prototype),j=new S(L||[]);return i(O,"_invoke",{value:at(g,k,j)}),O}function c(g,p,k){try{return{type:"normal",arg:g.call(p,k)}}catch(L){return{type:"throw",arg:L}}}e.wrap=d;var h="suspendedStart",y="suspendedYield",_="executing",v="completed",b={};function w(){}function E(){}function A(){}var D={};f(D,s,function(){return this});var B=Object.getPrototypeOf,Z=B&&B(B(nt([])));Z&&Z!==t&&r.call(Z,s)&&(D=Z);var F=A.prototype=w.prototype=Object.create(D);function tt(g){["next","throw","return"].forEach(function(p){f(g,p,function(k){return this._invoke(p,k)})})}function K(g,p){function k(I,O,j,ot){var et=c(g[I],g,O);if(et.type!=="throw"){var ut=et.arg,kt=ut.value;return kt&&typeof kt=="object"&&r.call(kt,"__await")?p.resolve(kt.__await).then(function(wt){k("next",wt,j,ot)},function(wt){k("throw",wt,j,ot)}):p.resolve(kt).then(function(wt){ut.value=wt,j(ut)},function(wt){return k("throw",wt,j,ot)})}ot(et.arg)}var L;i(this,"_invoke",{value:function(I,O){function j(){return new p(function(ot,et){k(I,O,ot,et)})}return L=L?L.then(j,j):j()}})}function at(g,p,k){var L=h;return function(I,O){if(L===_)throw Error("Generator is already running");if(L===v){if(I==="throw")throw O;return{value:n,done:!0}}for(k.method=I,k.arg=O;;){var j=k.delegate;if(j){var ot=U(j,k);if(ot){if(ot===b)continue;return ot}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===h)throw L=v,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=_;var et=c(g,p,k);if(et.type==="normal"){if(L=k.done?v:y,et.arg===b)continue;return{value:et.arg,done:k.done}}et.type==="throw"&&(L=v,k.method="throw",k.arg=et.arg)}}}function U(g,p){var k=p.method,L=g.iterator[k];if(L===n)return p.delegate=null,k==="throw"&&g.iterator.return&&(p.method="return",p.arg=n,U(g,p),p.method==="throw")||k!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+k+"' method")),b;var I=c(L,g.iterator,p.arg);if(I.type==="throw")return p.method="throw",p.arg=I.arg,p.delegate=null,b;var O=I.arg;return O?O.done?(p[g.resultName]=O.value,p.next=g.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,b):O:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function M(g){var p={tryLoc:g[0]};1 in g&&(p.catchLoc=g[1]),2 in g&&(p.finallyLoc=g[2],p.afterLoc=g[3]),this.tryEntries.push(p)}function Q(g){var p=g.completion||{};p.type="normal",delete p.arg,g.completion=p}function S(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(M,this),this.reset(!0)}function nt(g){if(g||g===""){var p=g[s];if(p)return p.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var k=-1,L=function I(){for(;++k<g.length;)if(r.call(g,k))return I.value=g[k],I.done=!1,I;return I.value=n,I.done=!0,I};return L.next=L}}throw new TypeError(typeof g+" is not iterable")}return E.prototype=A,i(F,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:E,configurable:!0}),E.displayName=f(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(g){var p=typeof g=="function"&&g.constructor;return!!p&&(p===E||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,A):(g.__proto__=A,f(g,u,"GeneratorFunction")),g.prototype=Object.create(F),g},e.awrap=function(g){return{__await:g}},tt(K.prototype),f(K.prototype,a,function(){return this}),e.AsyncIterator=K,e.async=function(g,p,k,L,I){I===void 0&&(I=Promise);var O=new K(d(g,p,k,L),I);return e.isGeneratorFunction(p)?O:O.next().then(function(j){return j.done?j.value:O.next()})},tt(F),f(F,u,"Generator"),f(F,s,function(){return this}),f(F,"toString",function(){return"[object Generator]"}),e.keys=function(g){var p=Object(g),k=[];for(var L in p)k.push(L);return k.reverse(),function I(){for(;k.length;){var O=k.pop();if(O in p)return I.value=O,I.done=!1,I}return I.done=!0,I}},e.values=nt,S.prototype={constructor:S,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Q),!g)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=n)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function k(et,ut){return O.type="throw",O.arg=g,p.next=et,ut&&(p.method="next",p.arg=n),!!ut}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],O=I.completion;if(I.tryLoc==="root")return k("end");if(I.tryLoc<=this.prev){var j=r.call(I,"catchLoc"),ot=r.call(I,"finallyLoc");if(j&&ot){if(this.prev<I.catchLoc)return k(I.catchLoc,!0);if(this.prev<I.finallyLoc)return k(I.finallyLoc)}else if(j){if(this.prev<I.catchLoc)return k(I.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return k(I.finallyLoc)}}}},abrupt:function(g,p){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(g==="break"||g==="continue")&&I.tryLoc<=p&&p<=I.finallyLoc&&(I=null);var O=I?I.completion:{};return O.type=g,O.arg=p,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(O)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.finallyLoc===g)return this.complete(k.completion,k.afterLoc),Q(k),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.tryLoc===g){var L=k.completion;if(L.type==="throw"){var I=L.arg;Q(k)}return I}}throw Error("illegal catch attempt")},delegateYield:function(g,p,k){return this.delegate={iterator:nt(g),resultName:p,nextLoc:k},this.method==="next"&&(this.arg=n),b}},e}function yo(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function go(n){var e=yo(n,"string");return typeof e=="symbol"?e:e+""}function ii(){var n,e,t=new Promise(function(r,i){n=r,e=i});return{ready:t,resolve:n,reject:e}}function er(){for(var n=0,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var s=o[i];n+=s.length}for(var a=new Uint8Array(n),u=0,f=0,d=t;f<d.length;f++){var c=d[f];a.set(c,u),u+=c.length}return a}function Ae(n,e){if(!n||!e)return!1;var t=n.byteLength;if(t!==e.byteLength)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function bo(n){return new Uint8Array(n)}function ye(n){return Sr.apply(this,arguments)}function Sr(){return Sr=tr(ie().mark(function n(e){return ie().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.t0=t.sent,t.abrupt("return",[t.t0,null]);case 7:return t.prev=7,t.t1=t.catch(0),t.abrupt("return",[{},t.t1]);case 10:case"end":return t.stop()}},n,null,[[0,7]])})),Sr.apply(this,arguments)}var hr;function He(n){return hr||(hr=new TextEncoder),hr.encode(n)}var dr;function Dr(n){return dr||(dr=new TextDecoder),dr.decode(n)}function ai(n){return Cr.apply(this,arguments)}function Cr(){return Cr=tr(ie().mark(function n(e){var t;return ie().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<e.length)){r.next=7;break}return r.next=4,e[t]();case 4:t++,r.next=1;break;case 7:case"end":return r.stop()}},n)})),Cr.apply(this,arguments)}function hn(){var n=[];return{add:function(e){n.push(e)},run:function(){return Promise.all(n)}}}function fe(n){if(n==="/")return{path:n,parent:n,name:""};if(n.endsWith("/"))return fe(n.substring(0,n.length-1));var e=n.lastIndexOf("/");return e===-1?{path:n,parent:"",name:n}:{path:n,parent:n.substring(0,e)||"/",name:n.substring(e+1)}}function wo(){var n=[];return{add:function(e){n.push(e)},run:function(){return Promise.all(n)}}}function xo(n){return Ar.apply(this,arguments)}function Ar(){return Ar=tr(ie().mark(function n(e){return ie().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof Promise)){t.next=6;break}return t.next=3,e;case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=e;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}},n)})),Ar.apply(this,arguments)}function pr(n){return typeof n=="function"?n():n}function _o(){return navigator.userAgent.includes("Macintosh")}function ko(n){return Ir.apply(this,arguments)}function Ir(){return Ir=tr(ie().mark(function n(e){var t,r;return ie().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fetch(e);case 3:if(t=i.sent,t.ok){i.next=6;break}return i.abrupt("return","");case 6:return i.next=8,t.text();case 8:return r=i.sent,i.abrupt("return",r);case 12:return i.prev=12,i.t0=i.catch(0),i.abrupt("return","");case 15:case"end":return i.stop()}},n,null,[[0,12]])})),Ir.apply(this,arguments)}function Eo(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Object.keys(e),r=Object.values(e),i=po(Function,t.concat([n]));return i.apply(void 0,r)}var So=function(){function n(){ho(this,n),this.name="",this.helpInfo="",this.helpDetails=""}return mo(n,[{key:"activate",value:function(e,t){this.disk=e,this.provider=t}},{key:"run",value:function(e,t){return""}}])}();function Co(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n.split("/").length===2&&(n+="/".concat(e)),"https://cdn.jsdelivr.net/gh/".concat(n)}function dn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e?"unpkg.com":"cdn.jsdelivr.net/npm";return"https://".concat(t,"/").concat(n)}var Ao={"\r":"Enter","":"Backspace","\x1B[A":"Up","\x1B[B":"Down","\x1B[D":"Left","\x1B[C":"Right","	":"Tab"},Io=Object.values(Ao);new Set(Io);function Xt(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function pn(n,e){for(var t="",r=0,i=-1,o=0,s,a=0;a<=n.length;++a){if(a<n.length)s=n.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var u=t.lastIndexOf("/");if(u!==t.length-1){u===-1?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=a,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,o=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return t}function To(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var Ee={resolve:function(){for(var e="",t=!1,r,i=arguments.length-1;i>=-1&&!t;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),Xt(o),o.length!==0&&(e=o+"/"+e,t=o.charCodeAt(0)===47)}return e=pn(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Xt(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=pn(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Xt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];Xt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Ee.normalize(e)},relative:function(e,t){if(Xt(e),Xt(t),e===t||(e=Ee.resolve(e),t=Ee.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var a=t.length,u=a-s,f=o<u?o:u,d=-1,c=0;c<=f;++c){if(c===f){if(u>f){if(t.charCodeAt(s+c)===47)return t.slice(s+c+1);if(c===0)return t.slice(s+c)}else o>f&&(e.charCodeAt(r+c)===47?d=c:c===0&&(d=0));break}var h=e.charCodeAt(r+c),y=t.charCodeAt(s+c);if(h!==y)break;h===47&&(d=c)}var _="";for(c=r+d+1;c<=i;++c)(c===i||e.charCodeAt(c)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+t.slice(s+d):(s+=d,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(Xt(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,i=-1,o=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!o){i=s;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xt(e);var r=0,i=-1,o=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,u=-1;for(s=e.length-1;s>=0;--s){var f=e.charCodeAt(s);if(f===47){if(!o){r=s+1;break}}else u===-1&&(o=!1,u=s+1),a>=0&&(f===t.charCodeAt(a)?--a===-1&&(i=s):(a=-1,i=u))}return r===i?i=u:i===-1&&(i=e.length),e.slice(r,i)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!o){r=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Xt(e);for(var t=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(u===47){if(!o){r=a+1;break}continue}i===-1&&(o=!1,i=a+1),u===46?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return To("/",e)},parse:function(e){Xt(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,o;i?(t.root="/",o=1):o=0;for(var s=-1,a=0,u=-1,f=!0,d=e.length-1,c=0;d>=o;--d){if(r=e.charCodeAt(d),r===47){if(!f){a=d+1;break}continue}u===-1&&(f=!1,u=d+1),r===46?s===-1?s=d:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===a+1?u!==-1&&(a===0&&i?t.base=t.name=e.slice(1,u):t.base=t.name=e.slice(a,u)):(a===0&&i?(t.name=e.slice(1,s),t.base=e.slice(1,u)):(t.name=e.slice(a,s),t.base=e.slice(a,u)),t.ext=e.slice(s,u)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Ee.posix=Ee;var oi=Ee;const Oo=Fr(oi),Bo=ca({__proto__:null,default:Oo},[oi]);var si={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function s(f,d){if(!i[f]){if(!r[f]){var c=typeof se=="function"&&se;if(!d&&c)return c(f,!0);if(a)return a(f,!0);var h=new Error("Cannot find module '"+f+"'");throw h.code="MODULE_NOT_FOUND",h}var y=i[f]={exports:{}};r[f][0].call(y.exports,function(_){var v=r[f][1][_];return s(v||_)},y,y.exports,t,r,i,o)}return i[f].exports}for(var a=typeof se=="function"&&se,u=0;u<o.length;u++)s(o[u]);return s}({1:[function(t,r,i){var o=t("./utils"),s=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var f,d,c,h,y,_,v,b=[],w=0,E=u.length,A=E,D=o.getTypeOf(u)!=="string";w<u.length;)A=E-w,c=D?(f=u[w++],d=w<E?u[w++]:0,w<E?u[w++]:0):(f=u.charCodeAt(w++),d=w<E?u.charCodeAt(w++):0,w<E?u.charCodeAt(w++):0),h=f>>2,y=(3&f)<<4|d>>4,_=1<A?(15&d)<<2|c>>6:64,v=2<A?63&c:64,b.push(a.charAt(h)+a.charAt(y)+a.charAt(_)+a.charAt(v));return b.join("")},i.decode=function(u){var f,d,c,h,y,_,v=0,b=0,w="data:";if(u.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var E,A=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&A--,u.charAt(u.length-2)===a.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=s.uint8array?new Uint8Array(0|A):new Array(0|A);v<u.length;)f=a.indexOf(u.charAt(v++))<<2|(h=a.indexOf(u.charAt(v++)))>>4,d=(15&h)<<4|(y=a.indexOf(u.charAt(v++)))>>2,c=(3&y)<<6|(_=a.indexOf(u.charAt(v++))),E[b++]=f,y!==64&&(E[b++]=d),_!==64&&(E[b++]=c);return E}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),s=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function f(d,c,h,y,_){this.compressedSize=d,this.uncompressedSize=c,this.crc32=h,this.compression=y,this.compressedContent=_}f.prototype={getContentWorker:function(){var d=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return d.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(d,c,h){return d.pipe(new a).pipe(new u("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),s=function(){for(var a,u=[],f=0;f<256;f++){a=f;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;u[f]=a}return u}();r.exports=function(a,u){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(f,d,c,h){var y=s,_=h+c;f^=-1;for(var v=h;v<_;v++)f=f>>>8^y[255&(f^d[v])];return-1^f}(0|u,a,a.length,0):function(f,d,c,h){var y=s,_=h+c;f^=-1;for(var v=h;v<_;v++)f=f>>>8^y[255&(f^d.charCodeAt(v))];return-1^f}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),a=t("./utils"),u=t("./stream/GenericWorker"),f=o?"uint8array":"array";function d(c,h){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(d,u),d.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(f,c.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},i.compressWorker=function(c){return new d("Deflate",c)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(y,_){var v,b="";for(v=0;v<_;v++)b+=String.fromCharCode(255&y),y>>>=8;return b}function s(y,_,v,b,w,E){var A,D,B=y.file,Z=y.compression,F=E!==f.utf8encode,tt=a.transformTo("string",E(B.name)),K=a.transformTo("string",f.utf8encode(B.name)),at=B.comment,U=a.transformTo("string",E(at)),M=a.transformTo("string",f.utf8encode(at)),Q=K.length!==B.name.length,S=M.length!==at.length,nt="",g="",p="",k=B.dir,L=B.date,I={crc32:0,compressedSize:0,uncompressedSize:0};_&&!v||(I.crc32=y.crc32,I.compressedSize=y.compressedSize,I.uncompressedSize=y.uncompressedSize);var O=0;_&&(O|=8),F||!Q&&!S||(O|=2048);var j=0,ot=0;k&&(j|=16),w==="UNIX"?(ot=798,j|=function(ut,kt){var wt=ut;return ut||(wt=kt?16893:33204),(65535&wt)<<16}(B.unixPermissions,k)):(ot=20,j|=function(ut){return 63&(ut||0)}(B.dosPermissions)),A=L.getUTCHours(),A<<=6,A|=L.getUTCMinutes(),A<<=5,A|=L.getUTCSeconds()/2,D=L.getUTCFullYear()-1980,D<<=4,D|=L.getUTCMonth()+1,D<<=5,D|=L.getUTCDate(),Q&&(g=o(1,1)+o(d(tt),4)+K,nt+="up"+o(g.length,2)+g),S&&(p=o(1,1)+o(d(U),4)+M,nt+="uc"+o(p.length,2)+p);var et="";return et+=`
\0`,et+=o(O,2),et+=Z.magic,et+=o(A,2),et+=o(D,2),et+=o(I.crc32,4),et+=o(I.compressedSize,4),et+=o(I.uncompressedSize,4),et+=o(tt.length,2),et+=o(nt.length,2),{fileRecord:c.LOCAL_FILE_HEADER+et+tt+nt,dirRecord:c.CENTRAL_FILE_HEADER+o(ot,2)+et+o(U.length,2)+"\0\0\0\0"+o(j,4)+o(b,4)+tt+nt+U}}var a=t("../utils"),u=t("../stream/GenericWorker"),f=t("../utf8"),d=t("../crc32"),c=t("../signature");function h(y,_,v,b){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,u),h.prototype.push=function(y){var _=y.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:v?(_+100*(v-b-1))/v:100}}))},h.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var v=s(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,v=s(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),_)this.push({data:function(b){return c.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var v=this.bytesWritten-y,b=function(w,E,A,D,B){var Z=a.transformTo("string",B(D));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(w,2)+o(w,2)+o(E,4)+o(A,4)+o(Z.length,2)+Z}(this.dirRecords.length,v,y,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(v){_.processChunk(v)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(v){_.error(v)}),this},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(y){var _=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var v=0;v<_.length;v++)try{_[v].error(y)}catch{}return!0},h.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(a,u,f){var d=new s(u.streamFiles,f,u.platform,u.encodeFileName),c=0;try{a.forEach(function(h,y){c++;var _=function(E,A){var D=E||A,B=o[D];if(!B)throw new Error(D+" is not a valid compression method !");return B}(y.options.compression,u.compression),v=y.options.compressionOptions||u.compressionOptions||{},b=y.dir,w=y.date;y._compressWorker(_,v).withStreamInfo("file",{name:h,dir:b,date:w,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(d)}),d.entriesCount=c}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),s=t("./external"),a=t("./utf8"),u=t("./zipEntries"),f=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function c(h){return new s.Promise(function(y,_){var v=h.decompressed.getContentWorker().pipe(new f);v.on("error",function(b){_(b)}).on("end",function(){v.streamInfo.crc32!==h.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(h,y){var _=this;return y=o.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,y.optimizedBinaryString,y.base64).then(function(v){var b=new u(y);return b.load(v),b}).then(function(v){var b=[s.Promise.resolve(v)],w=v.files;if(y.checkCRC32)for(var E=0;E<w.length;E++)b.push(c(w[E]));return s.Promise.all(b)}).then(function(v){for(var b=v.shift(),w=b.files,E=0;E<w.length;E++){var A=w[E],D=A.fileNameStr,B=o.resolve(A.fileNameStr);_.file(B,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:y.createFolders}),A.dir||(_.file(B).unsafeOriginalName=D)}return b.zipComment.length&&(_.comment=b.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),s=t("../stream/GenericWorker");function a(u,f){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}o.inherits(a,s),a.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(d){f.push({data:d,meta:{percent:0}})}).on("error",function(d){f.isPaused?this.generatedError=d:f.error(d)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function s(a,u,f){o.call(this,u),this._helper=a;var d=this;a.on("data",function(c,h){d.push(c)||d._helper.pause(),f&&f(h)}).on("error",function(c){d.emit("error",c)}).on("end",function(){d.push(null)})}t("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(B,Z,F){var tt,K=a.getTypeOf(Z),at=a.extend(F||{},d);at.date=at.date||new Date,at.compression!==null&&(at.compression=at.compression.toUpperCase()),typeof at.unixPermissions=="string"&&(at.unixPermissions=parseInt(at.unixPermissions,8)),at.unixPermissions&&16384&at.unixPermissions&&(at.dir=!0),at.dosPermissions&&16&at.dosPermissions&&(at.dir=!0),at.dir&&(B=w(B)),at.createFolders&&(tt=b(B))&&E.call(this,tt,!0);var U=K==="string"&&at.binary===!1&&at.base64===!1;F&&F.binary!==void 0||(at.binary=!U),(Z instanceof c&&Z.uncompressedSize===0||at.dir||!Z||Z.length===0)&&(at.base64=!1,at.binary=!0,Z="",at.compression="STORE",K="string");var M=null;M=Z instanceof c||Z instanceof u?Z:_.isNode&&_.isStream(Z)?new v(B,Z):a.prepareContent(B,Z,at.binary,at.optimizedBinaryString,at.base64);var Q=new h(B,M,at);this.files[B]=Q}var s=t("./utf8"),a=t("./utils"),u=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),d=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),y=t("./generate"),_=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),b=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var Z=B.lastIndexOf("/");return 0<Z?B.substring(0,Z):""},w=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},E=function(B,Z){return Z=Z!==void 0?Z:d.createFolders,B=w(B),this.files[B]||o.call(this,B,null,{dir:!0,createFolders:Z}),this.files[B]};function A(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var Z,F,tt;for(Z in this.files)tt=this.files[Z],(F=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&B(F,tt)},filter:function(B){var Z=[];return this.forEach(function(F,tt){B(F,tt)&&Z.push(tt)}),Z},file:function(B,Z,F){if(arguments.length!==1)return B=this.root+B,o.call(this,B,Z,F),this;if(A(B)){var tt=B;return this.filter(function(at,U){return!U.dir&&tt.test(at)})}var K=this.files[this.root+B];return K&&!K.dir?K:null},folder:function(B){if(!B)return this;if(A(B))return this.filter(function(K,at){return at.dir&&B.test(K)});var Z=this.root+B,F=E.call(this,Z),tt=this.clone();return tt.root=F.name,tt},remove:function(B){B=this.root+B;var Z=this.files[B];if(Z||(B.slice(-1)!=="/"&&(B+="/"),Z=this.files[B]),Z&&!Z.dir)delete this.files[B];else for(var F=this.filter(function(K,at){return at.name.slice(0,B.length)===B}),tt=0;tt<F.length;tt++)delete this.files[F[tt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var Z,F={};try{if((F=a.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var tt=F.comment||this.comment||"";Z=y.generateWorker(this,F,tt)}catch(K){(Z=new u("error")).error(K)}return new f(Z,F.type||"string",F.mimeType)},generateAsync:function(B,Z){return this.generateInternalStream(B).accumulate(Z)},generateNodeStream:function(B,Z){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(Z)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function s(a){o.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}t("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),f=a.charCodeAt(1),d=a.charCodeAt(2),c=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===u&&this.data[h+1]===f&&this.data[h+2]===d&&this.data[h+3]===c)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),f=a.charCodeAt(1),d=a.charCodeAt(2),c=a.charCodeAt(3),h=this.readData(4);return u===h[0]&&f===h[1]&&d===h[2]&&c===h[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,f=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=a,f},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function s(a){o.call(this,a)}t("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function s(a){o.call(this,a)}t("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function s(a){o.call(this,a)}t("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),s=t("../support"),a=t("./ArrayReader"),u=t("./StringReader"),f=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");r.exports=function(c){var h=o.getTypeOf(c);return o.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new f(c):s.uint8array?new d(o.transformTo("uint8array",c)):new a(o.transformTo("array",c)):new u(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),s=t("../utils");function a(u){o.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(a,o),a.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),s=t("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,o),a.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),s=t("./GenericWorker");function a(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(a,s),a.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),s=t("./GenericWorker");function a(u){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=o.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(u){a.processChunk(u)}),s.on("end",function(){a.end()}),s.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),s=t("./ConvertWorker"),a=t("./GenericWorker"),u=t("../base64"),f=t("../support"),d=t("../external"),c=null;if(f.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(_,v){return new d.Promise(function(b,w){var E=[],A=_._internalType,D=_._outputType,B=_._mimeType;_.on("data",function(Z,F){E.push(Z),v&&v(F)}).on("error",function(Z){E=[],w(Z)}).on("end",function(){try{var Z=function(F,tt,K){switch(F){case"blob":return o.newBlob(o.transformTo("arraybuffer",tt),K);case"base64":return u.encode(tt);default:return o.transformTo(F,tt)}}(D,function(F,tt){var K,at=0,U=null,M=0;for(K=0;K<tt.length;K++)M+=tt[K].length;switch(F){case"string":return tt.join("");case"array":return Array.prototype.concat.apply([],tt);case"uint8array":for(U=new Uint8Array(M),K=0;K<tt.length;K++)U.set(tt[K],at),at+=tt[K].length;return U;case"nodebuffer":return Buffer.concat(tt);default:throw new Error("concat : unsupported type '"+F+"'")}}(A,E),B);b(Z)}catch(F){w(F)}E=[]}).resume()})}function y(_,v,b){var w=v;switch(v){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=v,this._mimeType=b,o.checkSupport(w),this._worker=_.pipe(new s(w)),_.lock()}catch(E){this._worker=new a("error"),this._worker.error(E)}}y.prototype={accumulate:function(_){return h(this,_)},on:function(_,v){var b=this;return _==="data"?this._worker.on(_,function(w){v.call(b,w.data,w.meta)}):this._worker.on(_,function(){o.delay(v,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),u=t("./stream/GenericWorker"),f=new Array(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;f[254]=f[254]=1;function c(){u.call(this,"utf-8 decode"),this.leftOver=null}function h(){u.call(this,"utf-8 encode")}i.utf8encode=function(y){return s.nodebuffer?a.newBufferFrom(y,"utf-8"):function(_){var v,b,w,E,A,D=_.length,B=0;for(E=0;E<D;E++)(64512&(b=_.charCodeAt(E)))==55296&&E+1<D&&(64512&(w=_.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),E++),B+=b<128?1:b<2048?2:b<65536?3:4;for(v=s.uint8array?new Uint8Array(B):new Array(B),E=A=0;A<B;E++)(64512&(b=_.charCodeAt(E)))==55296&&E+1<D&&(64512&(w=_.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),E++),b<128?v[A++]=b:(b<2048?v[A++]=192|b>>>6:(b<65536?v[A++]=224|b>>>12:(v[A++]=240|b>>>18,v[A++]=128|b>>>12&63),v[A++]=128|b>>>6&63),v[A++]=128|63&b);return v}(y)},i.utf8decode=function(y){return s.nodebuffer?o.transformTo("nodebuffer",y).toString("utf-8"):function(_){var v,b,w,E,A=_.length,D=new Array(2*A);for(v=b=0;v<A;)if((w=_[v++])<128)D[b++]=w;else if(4<(E=f[w]))D[b++]=65533,v+=E-1;else{for(w&=E===2?31:E===3?15:7;1<E&&v<A;)w=w<<6|63&_[v++],E--;1<E?D[b++]=65533:w<65536?D[b++]=w:(w-=65536,D[b++]=55296|w>>10&1023,D[b++]=56320|1023&w)}return D.length!==b&&(D.subarray?D=D.subarray(0,b):D.length=b),o.applyFromCharCode(D)}(y=o.transformTo(s.uint8array?"uint8array":"array",y))},o.inherits(c,u),c.prototype.processChunk=function(y){var _=o.transformTo(s.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var v=_;(_=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),_.set(v,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var b=function(E,A){var D;for((A=A||E.length)>E.length&&(A=E.length),D=A-1;0<=D&&(192&E[D])==128;)D--;return D<0||D===0?A:D+f[E[D]]>A?D:A}(_),w=_;b!==_.length&&(s.uint8array?(w=_.subarray(0,b),this.leftOver=_.subarray(b,_.length)):(w=_.slice(0,b),this.leftOver=_.slice(b,_.length))),this.push({data:i.utf8decode(w),meta:y.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,o.inherits(h,u),h.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),s=t("./base64"),a=t("./nodejsUtils"),u=t("./external");function f(v){return v}function d(v,b){for(var w=0;w<v.length;++w)b[w]=255&v.charCodeAt(w);return b}t("setimmediate"),i.newBlob=function(v,b){i.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(v),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(v,b,w){var E=[],A=0,D=v.length;if(D<=w)return String.fromCharCode.apply(null,v);for(;A<D;)b==="array"||b==="nodebuffer"?E.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+w,D)))):E.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+w,D)))),A+=w;return E.join("")},stringifyByChar:function(v){for(var b="",w=0;w<v.length;w++)b+=String.fromCharCode(v[w]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(v){var b=65536,w=i.getTypeOf(v),E=!0;if(w==="uint8array"?E=c.applyCanBeUsed.uint8array:w==="nodebuffer"&&(E=c.applyCanBeUsed.nodebuffer),E)for(;1<b;)try{return c.stringifyByChunk(v,w,b)}catch{b=Math.floor(b/2)}return c.stringifyByChar(v)}function y(v,b){for(var w=0;w<v.length;w++)b[w]=v[w];return b}i.applyFromCharCode=h;var _={};_.string={string:f,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return _.string.uint8array(v).buffer},uint8array:function(v){return d(v,new Uint8Array(v.length))},nodebuffer:function(v){return d(v,a.allocBuffer(v.length))}},_.array={string:h,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(v)}},_.arraybuffer={string:function(v){return h(new Uint8Array(v))},array:function(v){return y(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(new Uint8Array(v))}},_.uint8array={string:h,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return a.newBufferFrom(v)}},_.nodebuffer={string:h,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return _.nodebuffer.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:f},i.transformTo=function(v,b){if(b=b||"",!v)return b;i.checkSupport(v);var w=i.getTypeOf(b);return _[w][v](b)},i.resolve=function(v){for(var b=v.split("/"),w=[],E=0;E<b.length;E++){var A=b[E];A==="."||A===""&&E!==0&&E!==b.length-1||(A===".."?w.pop():w.push(A))}return w.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(v)?"nodebuffer":o.uint8array&&v instanceof Uint8Array?"uint8array":o.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!o[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var b,w,E="";for(w=0;w<(v||"").length;w++)E+="\\x"+((b=v.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return E},i.delay=function(v,b,w){setImmediate(function(){v.apply(w||null,b||[])})},i.inherits=function(v,b){function w(){}w.prototype=b.prototype,v.prototype=new w},i.extend=function(){var v,b,w={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&w[b]===void 0&&(w[b]=arguments[v][b]);return w},i.prepareContent=function(v,b,w,E,A){return u.Promise.resolve(b).then(function(D){return o.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new u.Promise(function(B,Z){var F=new FileReader;F.onload=function(tt){B(tt.target.result)},F.onerror=function(tt){Z(tt.target.error)},F.readAsArrayBuffer(D)}):D}).then(function(D){var B=i.getTypeOf(D);return B?(B==="arraybuffer"?D=i.transformTo("uint8array",D):B==="string"&&(A?D=s.decode(D):w&&E!==!0&&(D=function(Z){return d(Z,o.uint8array?new Uint8Array(Z.length):new Array(Z.length))}(D))),D):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),s=t("./utils"),a=t("./signature"),u=t("./zipEntry"),f=t("./support");function d(c){this.files=[],this.loadOptions=c}d.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(c)+")")}},isSignature:function(c,h){var y=this.reader.index;this.reader.setIndex(c);var _=this.reader.readString(4)===h;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=f.uint8array?"uint8array":"array",y=s.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,y,_=this.zip64EndOfCentralSize-44;0<_;)c=this.reader.readInt(2),h=this.reader.readInt(4),y=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(c=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=h-y;if(0<_)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(c){this.reader=o(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),s=t("./utils"),a=t("./compressedObject"),u=t("./crc32"),f=t("./utf8"),d=t("./compressions"),c=t("./support");function h(y,_){this.options=y,this.loadOptions=_}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,v;if(y.skip(22),this.fileNameLength=y.readInt(2),v=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(b){for(var w in d)if(Object.prototype.hasOwnProperty.call(d,w)&&d[w].magic===b)return d[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,v,b,w=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<w;)_=y.readInt(2),v=y.readInt(2),b=y.readData(v),this.extraFields[_]={id:_,length:v,value:b};y.setIndex(w)},handleUTF8:function(){var y=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var v=s.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=s.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=o(y.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:f.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=o(y.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:f.utf8decode(_.readData(y.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(_,v,b){this.name=_,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),u=t("./utf8"),f=t("./compressedObject"),d=t("./stream/GenericWorker");o.prototype={internalStream:function(_){var v=null,b="string";try{if(!_)throw new Error("No output type specified.");var w=(b=_.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var E=!this._dataBinary;E&&!w&&(v=v.pipe(new u.Utf8EncodeWorker)),!E&&w&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(A){(v=new d("error")).error(A)}return new s(v,b,"")},async:function(_,v){return this.internalStream(_).accumulate(v)},nodeStream:function(_,v){return this.internalStream(_||"nodebuffer").toNodejsStream(v)},_compressWorker:function(_,v){if(this._data instanceof f&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(b,_,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<c.length;y++)o.prototype[c[y]]=h;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var s,a,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var f=0,d=new u(_),c=o.document.createTextNode("");d.observe(c,{characterData:!0}),s=function(){c.data=f=++f%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var v=o.document.createElement("script");v.onreadystatechange=function(){_(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:function(){setTimeout(_,0)};else{var h=new o.MessageChannel;h.port1.onmessage=_,s=function(){h.port2.postMessage(0)}}var y=[];function _(){var v,b;a=!0;for(var w=y.length;w;){for(b=y,y=[],v=-1;++v<w;)b[v]();w=y.length}a=!1}r.exports=function(v){y.push(v)!==1||a||s()}}).call(this,typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function s(){}var a={},u=["REJECTED"],f=["FULFILLED"],d=["PENDING"];function c(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,w!==s&&v(this,w)}function h(w,E,A){this.promise=w,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function y(w,E,A){o(function(){var D;try{D=E(A)}catch(B){return a.reject(w,B)}D===w?a.reject(w,new TypeError("Cannot resolve promise with itself")):a.resolve(w,D)})}function _(w){var E=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof E=="function")return function(){E.apply(w,arguments)}}function v(w,E){var A=!1;function D(F){A||(A=!0,a.reject(w,F))}function B(F){A||(A=!0,a.resolve(w,F))}var Z=b(function(){E(B,D)});Z.status==="error"&&D(Z.value)}function b(w,E){var A={};try{A.value=w(E),A.status="success"}catch(D){A.status="error",A.value=D}return A}(r.exports=c).prototype.finally=function(w){if(typeof w!="function")return this;var E=this.constructor;return this.then(function(A){return E.resolve(w()).then(function(){return A})},function(A){return E.resolve(w()).then(function(){throw A})})},c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,E){if(typeof w!="function"&&this.state===f||typeof E!="function"&&this.state===u)return this;var A=new this.constructor(s);return this.state!==d?y(A,this.state===f?w:E,this.outcome):this.queue.push(new h(A,w,E)),A},h.prototype.callFulfilled=function(w){a.resolve(this.promise,w)},h.prototype.otherCallFulfilled=function(w){y(this.promise,this.onFulfilled,w)},h.prototype.callRejected=function(w){a.reject(this.promise,w)},h.prototype.otherCallRejected=function(w){y(this.promise,this.onRejected,w)},a.resolve=function(w,E){var A=b(_,E);if(A.status==="error")return a.reject(w,A.value);var D=A.value;if(D)v(w,D);else{w.state=f,w.outcome=E;for(var B=-1,Z=w.queue.length;++B<Z;)w.queue[B].callFulfilled(E)}return w},a.reject=function(w,E){w.state=u,w.outcome=E;for(var A=-1,D=w.queue.length;++A<D;)w.queue[A].callRejected(E);return w},c.resolve=function(w){return w instanceof this?w:a.resolve(new this(s),w)},c.reject=function(w){var E=new this(s);return a.reject(E,w)},c.all=function(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,D=!1;if(!A)return this.resolve([]);for(var B=new Array(A),Z=0,F=-1,tt=new this(s);++F<A;)K(w[F],F);return tt;function K(at,U){E.resolve(at).then(function(M){B[U]=M,++Z!==A||D||(D=!0,a.resolve(tt,B))},function(M){D||(D=!0,a.reject(tt,M))})}},c.race=function(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,D=!1;if(!A)return this.resolve([]);for(var B=-1,Z=new this(s);++B<A;)F=w[B],E.resolve(F).then(function(tt){D||(D=!0,a.resolve(Z,tt))},function(tt){D||(D=!0,a.reject(Z,tt))});var F;return Z}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/messages"),f=t("./zlib/zstream"),d=Object.prototype.toString,c=0,h=-1,y=0,_=8;function v(w){if(!(this instanceof v))return new v(w);this.options=s.assign({level:h,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},w||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var A=o.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(A!==c)throw new Error(u[A]);if(E.header&&o.deflateSetHeader(this.strm,E.header),E.dictionary){var D;if(D=typeof E.dictionary=="string"?a.string2buf(E.dictionary):d.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(A=o.deflateSetDictionary(this.strm,D))!==c)throw new Error(u[A]);this._dict_set=!0}}function b(w,E){var A=new v(E);if(A.push(w,!0),A.err)throw A.msg||u[A.err];return A.result}v.prototype.push=function(w,E){var A,D,B=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;D=E===~~E?E:E===!0?4:0,typeof w=="string"?B.input=a.string2buf(w):d.call(w)==="[object ArrayBuffer]"?B.input=new Uint8Array(w):B.input=w,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new s.Buf8(Z),B.next_out=0,B.avail_out=Z),(A=o.deflate(B,D))!==1&&A!==c)return this.onEnd(A),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(B.output,B.next_out))):this.onData(s.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&A!==1);return D===4?(A=o.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===c):D!==2||(this.onEnd(c),!(B.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=v,i.deflate=b,i.deflateRaw=function(w,E){return(E=E||{}).raw=!0,b(w,E)},i.gzip=function(w,E){return(E=E||{}).gzip=!0,b(w,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/constants"),f=t("./zlib/messages"),d=t("./zlib/zstream"),c=t("./zlib/gzheader"),h=Object.prototype.toString;function y(v){if(!(this instanceof y))return new y(v);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=o.inflateInit2(this.strm,b.windowBits);if(w!==u.Z_OK)throw new Error(f[w]);this.header=new c,o.inflateGetHeader(this.strm,this.header)}function _(v,b){var w=new y(b);if(w.push(v,!0),w.err)throw w.msg||f[w.err];return w.result}y.prototype.push=function(v,b){var w,E,A,D,B,Z,F=this.strm,tt=this.options.chunkSize,K=this.options.dictionary,at=!1;if(this.ended)return!1;E=b===~~b?b:b===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?F.input=a.binstring2buf(v):h.call(v)==="[object ArrayBuffer]"?F.input=new Uint8Array(v):F.input=v,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(tt),F.next_out=0,F.avail_out=tt),(w=o.inflate(F,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&K&&(Z=typeof K=="string"?a.string2buf(K):h.call(K)==="[object ArrayBuffer]"?new Uint8Array(K):K,w=o.inflateSetDictionary(this.strm,Z)),w===u.Z_BUF_ERROR&&at===!0&&(w=u.Z_OK,at=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&w!==u.Z_STREAM_END&&(F.avail_in!==0||E!==u.Z_FINISH&&E!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=a.utf8border(F.output,F.next_out),D=F.next_out-A,B=a.buf2string(F.output,A),F.next_out=D,F.avail_out=tt-D,D&&s.arraySet(F.output,F.output,A,D,0),this.onData(B)):this.onData(s.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(at=!0)}while((0<F.avail_in||F.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(E=u.Z_FINISH),E===u.Z_FINISH?(w=o.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):E!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(F.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=y,i.inflate=_,i.inflateRaw=function(v,b){return(b=b||{}).raw=!0,_(v,b)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var d=f.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])}}return u},i.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var s={arraySet:function(u,f,d,c,h){if(f.subarray&&u.subarray)u.set(f.subarray(d,d+c),h);else for(var y=0;y<c;y++)u[h+y]=f[d+y]},flattenChunks:function(u){var f,d,c,h,y,_;for(f=c=0,d=u.length;f<d;f++)c+=u[f].length;for(_=new Uint8Array(c),f=h=0,d=u.length;f<d;f++)y=u[f],_.set(y,h),h+=y.length;return _}},a={arraySet:function(u,f,d,c,h){for(var y=0;y<c;y++)u[h+y]=f[d+y]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new o.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function d(c,h){if(h<65537&&(c.subarray&&a||!c.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(c,h));for(var y="",_=0;_<h;_++)y+=String.fromCharCode(c[_]);return y}u[254]=u[254]=1,i.string2buf=function(c){var h,y,_,v,b,w=c.length,E=0;for(v=0;v<w;v++)(64512&(y=c.charCodeAt(v)))==55296&&v+1<w&&(64512&(_=c.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),v++),E+=y<128?1:y<2048?2:y<65536?3:4;for(h=new o.Buf8(E),v=b=0;b<E;v++)(64512&(y=c.charCodeAt(v)))==55296&&v+1<w&&(64512&(_=c.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),v++),y<128?h[b++]=y:(y<2048?h[b++]=192|y>>>6:(y<65536?h[b++]=224|y>>>12:(h[b++]=240|y>>>18,h[b++]=128|y>>>12&63),h[b++]=128|y>>>6&63),h[b++]=128|63&y);return h},i.buf2binstring=function(c){return d(c,c.length)},i.binstring2buf=function(c){for(var h=new o.Buf8(c.length),y=0,_=h.length;y<_;y++)h[y]=c.charCodeAt(y);return h},i.buf2string=function(c,h){var y,_,v,b,w=h||c.length,E=new Array(2*w);for(y=_=0;y<w;)if((v=c[y++])<128)E[_++]=v;else if(4<(b=u[v]))E[_++]=65533,y+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&y<w;)v=v<<6|63&c[y++],b--;1<b?E[_++]=65533:v<65536?E[_++]=v:(v-=65536,E[_++]=55296|v>>10&1023,E[_++]=56320|1023&v)}return d(E,_)},i.utf8border=function(c,h){var y;for((h=h||c.length)>c.length&&(h=c.length),y=h-1;0<=y&&(192&c[y])==128;)y--;return y<0||y===0?h:y+u[c[y]]>h?y:h}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,s,a,u){for(var f=65535&o|0,d=o>>>16&65535|0,c=0;a!==0;){for(a-=c=2e3<a?2e3:a;d=d+(f=f+s[u++]|0)|0,--c;);f%=65521,d%=65521}return f|d<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var s,a=[],u=0;u<256;u++){s=u;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;a[u]=s}return a}();r.exports=function(s,a,u,f){var d=o,c=f+u;s^=-1;for(var h=f;h<c;h++)s=s>>>8^d[255&(s^a[h])];return-1^s}},{}],46:[function(t,r,i){var o,s=t("../utils/common"),a=t("./trees"),u=t("./adler32"),f=t("./crc32"),d=t("./messages"),c=0,h=4,y=0,_=-2,v=-1,b=4,w=2,E=8,A=9,D=286,B=30,Z=19,F=2*D+1,tt=15,K=3,at=258,U=at+K+1,M=42,Q=113,S=1,nt=2,g=3,p=4;function k(x,st){return x.msg=d[st],st}function L(x){return(x<<1)-(4<x?9:0)}function I(x){for(var st=x.length;0<=--st;)x[st]=0}function O(x){var st=x.state,it=st.pending;it>x.avail_out&&(it=x.avail_out),it!==0&&(s.arraySet(x.output,st.pending_buf,st.pending_out,it,x.next_out),x.next_out+=it,st.pending_out+=it,x.total_out+=it,x.avail_out-=it,st.pending-=it,st.pending===0&&(st.pending_out=0))}function j(x,st){a._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,st),x.block_start=x.strstart,O(x.strm)}function ot(x,st){x.pending_buf[x.pending++]=st}function et(x,st){x.pending_buf[x.pending++]=st>>>8&255,x.pending_buf[x.pending++]=255&st}function ut(x,st){var it,N,R=x.max_chain_length,Y=x.strstart,ft=x.prev_length,lt=x.nice_match,q=x.strstart>x.w_size-U?x.strstart-(x.w_size-U):0,pt=x.window,bt=x.w_mask,dt=x.prev,_t=x.strstart+at,C=pt[Y+ft-1],l=pt[Y+ft];x.prev_length>=x.good_match&&(R>>=2),lt>x.lookahead&&(lt=x.lookahead);do if(pt[(it=st)+ft]===l&&pt[it+ft-1]===C&&pt[it]===pt[Y]&&pt[++it]===pt[Y+1]){Y+=2,it++;do;while(pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&pt[++Y]===pt[++it]&&Y<_t);if(N=at-(_t-Y),Y=_t-at,ft<N){if(x.match_start=st,lt<=(ft=N))break;C=pt[Y+ft-1],l=pt[Y+ft]}}while((st=dt[st&bt])>q&&--R!=0);return ft<=x.lookahead?ft:x.lookahead}function kt(x){var st,it,N,R,Y,ft,lt,q,pt,bt,dt=x.w_size;do{if(R=x.window_size-x.lookahead-x.strstart,x.strstart>=dt+(dt-U)){for(s.arraySet(x.window,x.window,dt,dt,0),x.match_start-=dt,x.strstart-=dt,x.block_start-=dt,st=it=x.hash_size;N=x.head[--st],x.head[st]=dt<=N?N-dt:0,--it;);for(st=it=dt;N=x.prev[--st],x.prev[st]=dt<=N?N-dt:0,--it;);R+=dt}if(x.strm.avail_in===0)break;if(ft=x.strm,lt=x.window,q=x.strstart+x.lookahead,pt=R,bt=void 0,bt=ft.avail_in,pt<bt&&(bt=pt),it=bt===0?0:(ft.avail_in-=bt,s.arraySet(lt,ft.input,ft.next_in,bt,q),ft.state.wrap===1?ft.adler=u(ft.adler,lt,bt,q):ft.state.wrap===2&&(ft.adler=f(ft.adler,lt,bt,q)),ft.next_in+=bt,ft.total_in+=bt,bt),x.lookahead+=it,x.lookahead+x.insert>=K)for(Y=x.strstart-x.insert,x.ins_h=x.window[Y],x.ins_h=(x.ins_h<<x.hash_shift^x.window[Y+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[Y+K-1])&x.hash_mask,x.prev[Y&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=Y,Y++,x.insert--,!(x.lookahead+x.insert<K)););}while(x.lookahead<U&&x.strm.avail_in!==0)}function wt(x,st){for(var it,N;;){if(x.lookahead<U){if(kt(x),x.lookahead<U&&st===c)return S;if(x.lookahead===0)break}if(it=0,x.lookahead>=K&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+K-1])&x.hash_mask,it=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),it!==0&&x.strstart-it<=x.w_size-U&&(x.match_length=ut(x,it)),x.match_length>=K)if(N=a._tr_tally(x,x.strstart-x.match_start,x.match_length-K),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=K){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+K-1])&x.hash_mask,it=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else N=a._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(N&&(j(x,!1),x.strm.avail_out===0))return S}return x.insert=x.strstart<K-1?x.strstart:K-1,st===h?(j(x,!0),x.strm.avail_out===0?g:p):x.last_lit&&(j(x,!1),x.strm.avail_out===0)?S:nt}function St(x,st){for(var it,N,R;;){if(x.lookahead<U){if(kt(x),x.lookahead<U&&st===c)return S;if(x.lookahead===0)break}if(it=0,x.lookahead>=K&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+K-1])&x.hash_mask,it=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=K-1,it!==0&&x.prev_length<x.max_lazy_match&&x.strstart-it<=x.w_size-U&&(x.match_length=ut(x,it),x.match_length<=5&&(x.strategy===1||x.match_length===K&&4096<x.strstart-x.match_start)&&(x.match_length=K-1)),x.prev_length>=K&&x.match_length<=x.prev_length){for(R=x.strstart+x.lookahead-K,N=a._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-K),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=R&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+K-1])&x.hash_mask,it=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=K-1,x.strstart++,N&&(j(x,!1),x.strm.avail_out===0))return S}else if(x.match_available){if((N=a._tr_tally(x,0,x.window[x.strstart-1]))&&j(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return S}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(N=a._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<K-1?x.strstart:K-1,st===h?(j(x,!0),x.strm.avail_out===0?g:p):x.last_lit&&(j(x,!1),x.strm.avail_out===0)?S:nt}function At(x,st,it,N,R){this.good_length=x,this.max_lazy=st,this.nice_length=it,this.max_chain=N,this.func=R}function jt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*F),this.dyn_dtree=new s.Buf16(2*(2*B+1)),this.bl_tree=new s.Buf16(2*(2*Z+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(tt+1),this.heap=new s.Buf16(2*D+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*D+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Rt(x){var st;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=w,(st=x.state).pending=0,st.pending_out=0,st.wrap<0&&(st.wrap=-st.wrap),st.status=st.wrap?M:Q,x.adler=st.wrap===2?0:1,st.last_flush=c,a._tr_init(st),y):k(x,_)}function Mt(x){var st=Rt(x);return st===y&&function(it){it.window_size=2*it.w_size,I(it.head),it.max_lazy_match=o[it.level].max_lazy,it.good_match=o[it.level].good_length,it.nice_match=o[it.level].nice_length,it.max_chain_length=o[it.level].max_chain,it.strstart=0,it.block_start=0,it.lookahead=0,it.insert=0,it.match_length=it.prev_length=K-1,it.match_available=0,it.ins_h=0}(x.state),st}function Dt(x,st,it,N,R,Y){if(!x)return _;var ft=1;if(st===v&&(st=6),N<0?(ft=0,N=-N):15<N&&(ft=2,N-=16),R<1||A<R||it!==E||N<8||15<N||st<0||9<st||Y<0||b<Y)return k(x,_);N===8&&(N=9);var lt=new jt;return(x.state=lt).strm=x,lt.wrap=ft,lt.gzhead=null,lt.w_bits=N,lt.w_size=1<<lt.w_bits,lt.w_mask=lt.w_size-1,lt.hash_bits=R+7,lt.hash_size=1<<lt.hash_bits,lt.hash_mask=lt.hash_size-1,lt.hash_shift=~~((lt.hash_bits+K-1)/K),lt.window=new s.Buf8(2*lt.w_size),lt.head=new s.Buf16(lt.hash_size),lt.prev=new s.Buf16(lt.w_size),lt.lit_bufsize=1<<R+6,lt.pending_buf_size=4*lt.lit_bufsize,lt.pending_buf=new s.Buf8(lt.pending_buf_size),lt.d_buf=1*lt.lit_bufsize,lt.l_buf=3*lt.lit_bufsize,lt.level=st,lt.strategy=Y,lt.method=it,Mt(x)}o=[new At(0,0,0,0,function(x,st){var it=65535;for(it>x.pending_buf_size-5&&(it=x.pending_buf_size-5);;){if(x.lookahead<=1){if(kt(x),x.lookahead===0&&st===c)return S;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var N=x.block_start+it;if((x.strstart===0||x.strstart>=N)&&(x.lookahead=x.strstart-N,x.strstart=N,j(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-U&&(j(x,!1),x.strm.avail_out===0))return S}return x.insert=0,st===h?(j(x,!0),x.strm.avail_out===0?g:p):(x.strstart>x.block_start&&(j(x,!1),x.strm.avail_out),S)}),new At(4,4,8,4,wt),new At(4,5,16,8,wt),new At(4,6,32,32,wt),new At(4,4,16,16,St),new At(8,16,32,32,St),new At(8,16,128,128,St),new At(8,32,128,256,St),new At(32,128,258,1024,St),new At(32,258,258,4096,St)],i.deflateInit=function(x,st){return Dt(x,st,E,15,8,0)},i.deflateInit2=Dt,i.deflateReset=Mt,i.deflateResetKeep=Rt,i.deflateSetHeader=function(x,st){return x&&x.state?x.state.wrap!==2?_:(x.state.gzhead=st,y):_},i.deflate=function(x,st){var it,N,R,Y;if(!x||!x.state||5<st||st<0)return x?k(x,_):_;if(N=x.state,!x.output||!x.input&&x.avail_in!==0||N.status===666&&st!==h)return k(x,x.avail_out===0?-5:_);if(N.strm=x,it=N.last_flush,N.last_flush=st,N.status===M)if(N.wrap===2)x.adler=0,ot(N,31),ot(N,139),ot(N,8),N.gzhead?(ot(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),ot(N,255&N.gzhead.time),ot(N,N.gzhead.time>>8&255),ot(N,N.gzhead.time>>16&255),ot(N,N.gzhead.time>>24&255),ot(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),ot(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(ot(N,255&N.gzhead.extra.length),ot(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(x.adler=f(x.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(ot(N,0),ot(N,0),ot(N,0),ot(N,0),ot(N,0),ot(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),ot(N,3),N.status=Q);else{var ft=E+(N.w_bits-8<<4)<<8;ft|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(ft|=32),ft+=31-ft%31,N.status=Q,et(N,ft),N.strstart!==0&&(et(N,x.adler>>>16),et(N,65535&x.adler)),x.adler=1}if(N.status===69)if(N.gzhead.extra){for(R=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>R&&(x.adler=f(x.adler,N.pending_buf,N.pending-R,R)),O(x),R=N.pending,N.pending!==N.pending_buf_size));)ot(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>R&&(x.adler=f(x.adler,N.pending_buf,N.pending-R,R)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){R=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>R&&(x.adler=f(x.adler,N.pending_buf,N.pending-R,R)),O(x),R=N.pending,N.pending===N.pending_buf_size)){Y=1;break}Y=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,ot(N,Y)}while(Y!==0);N.gzhead.hcrc&&N.pending>R&&(x.adler=f(x.adler,N.pending_buf,N.pending-R,R)),Y===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){R=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>R&&(x.adler=f(x.adler,N.pending_buf,N.pending-R,R)),O(x),R=N.pending,N.pending===N.pending_buf_size)){Y=1;break}Y=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,ot(N,Y)}while(Y!==0);N.gzhead.hcrc&&N.pending>R&&(x.adler=f(x.adler,N.pending_buf,N.pending-R,R)),Y===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&O(x),N.pending+2<=N.pending_buf_size&&(ot(N,255&x.adler),ot(N,x.adler>>8&255),x.adler=0,N.status=Q)):N.status=Q),N.pending!==0){if(O(x),x.avail_out===0)return N.last_flush=-1,y}else if(x.avail_in===0&&L(st)<=L(it)&&st!==h)return k(x,-5);if(N.status===666&&x.avail_in!==0)return k(x,-5);if(x.avail_in!==0||N.lookahead!==0||st!==c&&N.status!==666){var lt=N.strategy===2?function(q,pt){for(var bt;;){if(q.lookahead===0&&(kt(q),q.lookahead===0)){if(pt===c)return S;break}if(q.match_length=0,bt=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,bt&&(j(q,!1),q.strm.avail_out===0))return S}return q.insert=0,pt===h?(j(q,!0),q.strm.avail_out===0?g:p):q.last_lit&&(j(q,!1),q.strm.avail_out===0)?S:nt}(N,st):N.strategy===3?function(q,pt){for(var bt,dt,_t,C,l=q.window;;){if(q.lookahead<=at){if(kt(q),q.lookahead<=at&&pt===c)return S;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=K&&0<q.strstart&&(dt=l[_t=q.strstart-1])===l[++_t]&&dt===l[++_t]&&dt===l[++_t]){C=q.strstart+at;do;while(dt===l[++_t]&&dt===l[++_t]&&dt===l[++_t]&&dt===l[++_t]&&dt===l[++_t]&&dt===l[++_t]&&dt===l[++_t]&&dt===l[++_t]&&_t<C);q.match_length=at-(C-_t),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=K?(bt=a._tr_tally(q,1,q.match_length-K),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(bt=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),bt&&(j(q,!1),q.strm.avail_out===0))return S}return q.insert=0,pt===h?(j(q,!0),q.strm.avail_out===0?g:p):q.last_lit&&(j(q,!1),q.strm.avail_out===0)?S:nt}(N,st):o[N.level].func(N,st);if(lt!==g&&lt!==p||(N.status=666),lt===S||lt===g)return x.avail_out===0&&(N.last_flush=-1),y;if(lt===nt&&(st===1?a._tr_align(N):st!==5&&(a._tr_stored_block(N,0,0,!1),st===3&&(I(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),O(x),x.avail_out===0))return N.last_flush=-1,y}return st!==h?y:N.wrap<=0?1:(N.wrap===2?(ot(N,255&x.adler),ot(N,x.adler>>8&255),ot(N,x.adler>>16&255),ot(N,x.adler>>24&255),ot(N,255&x.total_in),ot(N,x.total_in>>8&255),ot(N,x.total_in>>16&255),ot(N,x.total_in>>24&255)):(et(N,x.adler>>>16),et(N,65535&x.adler)),O(x),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?y:1)},i.deflateEnd=function(x){var st;return x&&x.state?(st=x.state.status)!==M&&st!==69&&st!==73&&st!==91&&st!==103&&st!==Q&&st!==666?k(x,_):(x.state=null,st===Q?k(x,-3):y):_},i.deflateSetDictionary=function(x,st){var it,N,R,Y,ft,lt,q,pt,bt=st.length;if(!x||!x.state||(Y=(it=x.state).wrap)===2||Y===1&&it.status!==M||it.lookahead)return _;for(Y===1&&(x.adler=u(x.adler,st,bt,0)),it.wrap=0,bt>=it.w_size&&(Y===0&&(I(it.head),it.strstart=0,it.block_start=0,it.insert=0),pt=new s.Buf8(it.w_size),s.arraySet(pt,st,bt-it.w_size,it.w_size,0),st=pt,bt=it.w_size),ft=x.avail_in,lt=x.next_in,q=x.input,x.avail_in=bt,x.next_in=0,x.input=st,kt(it);it.lookahead>=K;){for(N=it.strstart,R=it.lookahead-(K-1);it.ins_h=(it.ins_h<<it.hash_shift^it.window[N+K-1])&it.hash_mask,it.prev[N&it.w_mask]=it.head[it.ins_h],it.head[it.ins_h]=N,N++,--R;);it.strstart=N,it.lookahead=K-1,kt(it)}return it.strstart+=it.lookahead,it.block_start=it.strstart,it.insert=it.lookahead,it.lookahead=0,it.match_length=it.prev_length=K-1,it.match_available=0,x.next_in=lt,x.input=q,x.avail_in=ft,it.wrap=Y,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,s){var a,u,f,d,c,h,y,_,v,b,w,E,A,D,B,Z,F,tt,K,at,U,M,Q,S,nt;a=o.state,u=o.next_in,S=o.input,f=u+(o.avail_in-5),d=o.next_out,nt=o.output,c=d-(s-o.avail_out),h=d+(o.avail_out-257),y=a.dmax,_=a.wsize,v=a.whave,b=a.wnext,w=a.window,E=a.hold,A=a.bits,D=a.lencode,B=a.distcode,Z=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;t:do{A<15&&(E+=S[u++]<<A,A+=8,E+=S[u++]<<A,A+=8),tt=D[E&Z];e:for(;;){if(E>>>=K=tt>>>24,A-=K,(K=tt>>>16&255)===0)nt[d++]=65535&tt;else{if(!(16&K)){if(!(64&K)){tt=D[(65535&tt)+(E&(1<<K)-1)];continue e}if(32&K){a.mode=12;break t}o.msg="invalid literal/length code",a.mode=30;break t}at=65535&tt,(K&=15)&&(A<K&&(E+=S[u++]<<A,A+=8),at+=E&(1<<K)-1,E>>>=K,A-=K),A<15&&(E+=S[u++]<<A,A+=8,E+=S[u++]<<A,A+=8),tt=B[E&F];r:for(;;){if(E>>>=K=tt>>>24,A-=K,!(16&(K=tt>>>16&255))){if(!(64&K)){tt=B[(65535&tt)+(E&(1<<K)-1)];continue r}o.msg="invalid distance code",a.mode=30;break t}if(U=65535&tt,A<(K&=15)&&(E+=S[u++]<<A,(A+=8)<K&&(E+=S[u++]<<A,A+=8)),y<(U+=E&(1<<K)-1)){o.msg="invalid distance too far back",a.mode=30;break t}if(E>>>=K,A-=K,(K=d-c)<U){if(v<(K=U-K)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break t}if(Q=w,(M=0)===b){if(M+=_-K,K<at){for(at-=K;nt[d++]=w[M++],--K;);M=d-U,Q=nt}}else if(b<K){if(M+=_+b-K,(K-=b)<at){for(at-=K;nt[d++]=w[M++],--K;);if(M=0,b<at){for(at-=K=b;nt[d++]=w[M++],--K;);M=d-U,Q=nt}}}else if(M+=b-K,K<at){for(at-=K;nt[d++]=w[M++],--K;);M=d-U,Q=nt}for(;2<at;)nt[d++]=Q[M++],nt[d++]=Q[M++],nt[d++]=Q[M++],at-=3;at&&(nt[d++]=Q[M++],1<at&&(nt[d++]=Q[M++]))}else{for(M=d-U;nt[d++]=nt[M++],nt[d++]=nt[M++],nt[d++]=nt[M++],2<(at-=3););at&&(nt[d++]=nt[M++],1<at&&(nt[d++]=nt[M++]))}break}}break}}while(u<f&&d<h);u-=at=A>>3,E&=(1<<(A-=at<<3))-1,o.next_in=u,o.next_out=d,o.avail_in=u<f?f-u+5:5-(u-f),o.avail_out=d<h?h-d+257:257-(d-h),a.hold=E,a.bits=A}},{}],49:[function(t,r,i){var o=t("../utils/common"),s=t("./adler32"),a=t("./crc32"),u=t("./inffast"),f=t("./inftrees"),d=1,c=2,h=0,y=-2,_=1,v=852,b=592;function w(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(M){var Q;return M&&M.state?(Q=M.state,M.total_in=M.total_out=Q.total=0,M.msg="",Q.wrap&&(M.adler=1&Q.wrap),Q.mode=_,Q.last=0,Q.havedict=0,Q.dmax=32768,Q.head=null,Q.hold=0,Q.bits=0,Q.lencode=Q.lendyn=new o.Buf32(v),Q.distcode=Q.distdyn=new o.Buf32(b),Q.sane=1,Q.back=-1,h):y}function D(M){var Q;return M&&M.state?((Q=M.state).wsize=0,Q.whave=0,Q.wnext=0,A(M)):y}function B(M,Q){var S,nt;return M&&M.state?(nt=M.state,Q<0?(S=0,Q=-Q):(S=1+(Q>>4),Q<48&&(Q&=15)),Q&&(Q<8||15<Q)?y:(nt.window!==null&&nt.wbits!==Q&&(nt.window=null),nt.wrap=S,nt.wbits=Q,D(M))):y}function Z(M,Q){var S,nt;return M?(nt=new E,(M.state=nt).window=null,(S=B(M,Q))!==h&&(M.state=null),S):y}var F,tt,K=!0;function at(M){if(K){var Q;for(F=new o.Buf32(512),tt=new o.Buf32(32),Q=0;Q<144;)M.lens[Q++]=8;for(;Q<256;)M.lens[Q++]=9;for(;Q<280;)M.lens[Q++]=7;for(;Q<288;)M.lens[Q++]=8;for(f(d,M.lens,0,288,F,0,M.work,{bits:9}),Q=0;Q<32;)M.lens[Q++]=5;f(c,M.lens,0,32,tt,0,M.work,{bits:5}),K=!1}M.lencode=F,M.lenbits=9,M.distcode=tt,M.distbits=5}function U(M,Q,S,nt){var g,p=M.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new o.Buf8(p.wsize)),nt>=p.wsize?(o.arraySet(p.window,Q,S-p.wsize,p.wsize,0),p.wnext=0,p.whave=p.wsize):(nt<(g=p.wsize-p.wnext)&&(g=nt),o.arraySet(p.window,Q,S-nt,g,p.wnext),(nt-=g)?(o.arraySet(p.window,Q,S-nt,nt,0),p.wnext=nt,p.whave=p.wsize):(p.wnext+=g,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=g))),0}i.inflateReset=D,i.inflateReset2=B,i.inflateResetKeep=A,i.inflateInit=function(M){return Z(M,15)},i.inflateInit2=Z,i.inflate=function(M,Q){var S,nt,g,p,k,L,I,O,j,ot,et,ut,kt,wt,St,At,jt,Rt,Mt,Dt,x,st,it,N,R=0,Y=new o.Buf8(4),ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return y;(S=M.state).mode===12&&(S.mode=13),k=M.next_out,g=M.output,I=M.avail_out,p=M.next_in,nt=M.input,L=M.avail_in,O=S.hold,j=S.bits,ot=L,et=I,st=h;t:for(;;)switch(S.mode){case _:if(S.wrap===0){S.mode=13;break}for(;j<16;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(2&S.wrap&&O===35615){Y[S.check=0]=255&O,Y[1]=O>>>8&255,S.check=a(S.check,Y,2,0),j=O=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&O)<<8)+(O>>8))%31){M.msg="incorrect header check",S.mode=30;break}if((15&O)!=8){M.msg="unknown compression method",S.mode=30;break}if(j-=4,x=8+(15&(O>>>=4)),S.wbits===0)S.wbits=x;else if(x>S.wbits){M.msg="invalid window size",S.mode=30;break}S.dmax=1<<x,M.adler=S.check=1,S.mode=512&O?10:12,j=O=0;break;case 2:for(;j<16;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(S.flags=O,(255&S.flags)!=8){M.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){M.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=O>>8&1),512&S.flags&&(Y[0]=255&O,Y[1]=O>>>8&255,S.check=a(S.check,Y,2,0)),j=O=0,S.mode=3;case 3:for(;j<32;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}S.head&&(S.head.time=O),512&S.flags&&(Y[0]=255&O,Y[1]=O>>>8&255,Y[2]=O>>>16&255,Y[3]=O>>>24&255,S.check=a(S.check,Y,4,0)),j=O=0,S.mode=4;case 4:for(;j<16;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}S.head&&(S.head.xflags=255&O,S.head.os=O>>8),512&S.flags&&(Y[0]=255&O,Y[1]=O>>>8&255,S.check=a(S.check,Y,2,0)),j=O=0,S.mode=5;case 5:if(1024&S.flags){for(;j<16;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}S.length=O,S.head&&(S.head.extra_len=O),512&S.flags&&(Y[0]=255&O,Y[1]=O>>>8&255,S.check=a(S.check,Y,2,0)),j=O=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(L<(ut=S.length)&&(ut=L),ut&&(S.head&&(x=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),o.arraySet(S.head.extra,nt,p,ut,x)),512&S.flags&&(S.check=a(S.check,nt,ut,p)),L-=ut,p+=ut,S.length-=ut),S.length))break t;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(L===0)break t;for(ut=0;x=nt[p+ut++],S.head&&x&&S.length<65536&&(S.head.name+=String.fromCharCode(x)),x&&ut<L;);if(512&S.flags&&(S.check=a(S.check,nt,ut,p)),L-=ut,p+=ut,x)break t}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(L===0)break t;for(ut=0;x=nt[p+ut++],S.head&&x&&S.length<65536&&(S.head.comment+=String.fromCharCode(x)),x&&ut<L;);if(512&S.flags&&(S.check=a(S.check,nt,ut,p)),L-=ut,p+=ut,x)break t}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;j<16;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(O!==(65535&S.check)){M.msg="header crc mismatch",S.mode=30;break}j=O=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),M.adler=S.check=0,S.mode=12;break;case 10:for(;j<32;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}M.adler=S.check=w(O),j=O=0,S.mode=11;case 11:if(S.havedict===0)return M.next_out=k,M.avail_out=I,M.next_in=p,M.avail_in=L,S.hold=O,S.bits=j,2;M.adler=S.check=1,S.mode=12;case 12:if(Q===5||Q===6)break t;case 13:if(S.last){O>>>=7&j,j-=7&j,S.mode=27;break}for(;j<3;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}switch(S.last=1&O,j-=1,3&(O>>>=1)){case 0:S.mode=14;break;case 1:if(at(S),S.mode=20,Q!==6)break;O>>>=2,j-=2;break t;case 2:S.mode=17;break;case 3:M.msg="invalid block type",S.mode=30}O>>>=2,j-=2;break;case 14:for(O>>>=7&j,j-=7&j;j<32;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if((65535&O)!=(O>>>16^65535)){M.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&O,j=O=0,S.mode=15,Q===6)break t;case 15:S.mode=16;case 16:if(ut=S.length){if(L<ut&&(ut=L),I<ut&&(ut=I),ut===0)break t;o.arraySet(g,nt,p,ut,k),L-=ut,p+=ut,I-=ut,k+=ut,S.length-=ut;break}S.mode=12;break;case 17:for(;j<14;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(S.nlen=257+(31&O),O>>>=5,j-=5,S.ndist=1+(31&O),O>>>=5,j-=5,S.ncode=4+(15&O),O>>>=4,j-=4,286<S.nlen||30<S.ndist){M.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;j<3;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}S.lens[ft[S.have++]]=7&O,O>>>=3,j-=3}for(;S.have<19;)S.lens[ft[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,it={bits:S.lenbits},st=f(0,S.lens,0,19,S.lencode,0,S.work,it),S.lenbits=it.bits,st){M.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;At=(R=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,jt=65535&R,!((St=R>>>24)<=j);){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(jt<16)O>>>=St,j-=St,S.lens[S.have++]=jt;else{if(jt===16){for(N=St+2;j<N;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(O>>>=St,j-=St,S.have===0){M.msg="invalid bit length repeat",S.mode=30;break}x=S.lens[S.have-1],ut=3+(3&O),O>>>=2,j-=2}else if(jt===17){for(N=St+3;j<N;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}j-=St,x=0,ut=3+(7&(O>>>=St)),O>>>=3,j-=3}else{for(N=St+7;j<N;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}j-=St,x=0,ut=11+(127&(O>>>=St)),O>>>=7,j-=7}if(S.have+ut>S.nlen+S.ndist){M.msg="invalid bit length repeat",S.mode=30;break}for(;ut--;)S.lens[S.have++]=x}}if(S.mode===30)break;if(S.lens[256]===0){M.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,it={bits:S.lenbits},st=f(d,S.lens,0,S.nlen,S.lencode,0,S.work,it),S.lenbits=it.bits,st){M.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,it={bits:S.distbits},st=f(c,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,it),S.distbits=it.bits,st){M.msg="invalid distances set",S.mode=30;break}if(S.mode=20,Q===6)break t;case 20:S.mode=21;case 21:if(6<=L&&258<=I){M.next_out=k,M.avail_out=I,M.next_in=p,M.avail_in=L,S.hold=O,S.bits=j,u(M,et),k=M.next_out,g=M.output,I=M.avail_out,p=M.next_in,nt=M.input,L=M.avail_in,O=S.hold,j=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;At=(R=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,jt=65535&R,!((St=R>>>24)<=j);){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(At&&!(240&At)){for(Rt=St,Mt=At,Dt=jt;At=(R=S.lencode[Dt+((O&(1<<Rt+Mt)-1)>>Rt)])>>>16&255,jt=65535&R,!(Rt+(St=R>>>24)<=j);){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}O>>>=Rt,j-=Rt,S.back+=Rt}if(O>>>=St,j-=St,S.back+=St,S.length=jt,At===0){S.mode=26;break}if(32&At){S.back=-1,S.mode=12;break}if(64&At){M.msg="invalid literal/length code",S.mode=30;break}S.extra=15&At,S.mode=22;case 22:if(S.extra){for(N=S.extra;j<N;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}S.length+=O&(1<<S.extra)-1,O>>>=S.extra,j-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;At=(R=S.distcode[O&(1<<S.distbits)-1])>>>16&255,jt=65535&R,!((St=R>>>24)<=j);){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(!(240&At)){for(Rt=St,Mt=At,Dt=jt;At=(R=S.distcode[Dt+((O&(1<<Rt+Mt)-1)>>Rt)])>>>16&255,jt=65535&R,!(Rt+(St=R>>>24)<=j);){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}O>>>=Rt,j-=Rt,S.back+=Rt}if(O>>>=St,j-=St,S.back+=St,64&At){M.msg="invalid distance code",S.mode=30;break}S.offset=jt,S.extra=15&At,S.mode=24;case 24:if(S.extra){for(N=S.extra;j<N;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}S.offset+=O&(1<<S.extra)-1,O>>>=S.extra,j-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){M.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(I===0)break t;if(ut=et-I,S.offset>ut){if((ut=S.offset-ut)>S.whave&&S.sane){M.msg="invalid distance too far back",S.mode=30;break}kt=ut>S.wnext?(ut-=S.wnext,S.wsize-ut):S.wnext-ut,ut>S.length&&(ut=S.length),wt=S.window}else wt=g,kt=k-S.offset,ut=S.length;for(I<ut&&(ut=I),I-=ut,S.length-=ut;g[k++]=wt[kt++],--ut;);S.length===0&&(S.mode=21);break;case 26:if(I===0)break t;g[k++]=S.length,I--,S.mode=21;break;case 27:if(S.wrap){for(;j<32;){if(L===0)break t;L--,O|=nt[p++]<<j,j+=8}if(et-=I,M.total_out+=et,S.total+=et,et&&(M.adler=S.check=S.flags?a(S.check,g,et,k-et):s(S.check,g,et,k-et)),et=I,(S.flags?O:w(O))!==S.check){M.msg="incorrect data check",S.mode=30;break}j=O=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;j<32;){if(L===0)break t;L--,O+=nt[p++]<<j,j+=8}if(O!==(4294967295&S.total)){M.msg="incorrect length check",S.mode=30;break}j=O=0}S.mode=29;case 29:st=1;break t;case 30:st=-3;break t;case 31:return-4;case 32:default:return y}return M.next_out=k,M.avail_out=I,M.next_in=p,M.avail_in=L,S.hold=O,S.bits=j,(S.wsize||et!==M.avail_out&&S.mode<30&&(S.mode<27||Q!==4))&&U(M,M.output,M.next_out,et-M.avail_out)?(S.mode=31,-4):(ot-=M.avail_in,et-=M.avail_out,M.total_in+=ot,M.total_out+=et,S.total+=et,S.wrap&&et&&(M.adler=S.check=S.flags?a(S.check,g,et,M.next_out-et):s(S.check,g,et,M.next_out-et)),M.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(ot==0&&et===0||Q===4)&&st===h&&(st=-5),st)},i.inflateEnd=function(M){if(!M||!M.state)return y;var Q=M.state;return Q.window&&(Q.window=null),M.state=null,h},i.inflateGetHeader=function(M,Q){var S;return M&&M.state&&2&(S=M.state).wrap?((S.head=Q).done=!1,h):y},i.inflateSetDictionary=function(M,Q){var S,nt=Q.length;return M&&M.state?(S=M.state).wrap!==0&&S.mode!==11?y:S.mode===11&&s(1,Q,nt,0)!==S.check?-3:U(M,Q,nt,nt)?(S.mode=31,-4):(S.havedict=1,h):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,c,h,y,_,v,b,w){var E,A,D,B,Z,F,tt,K,at,U=w.bits,M=0,Q=0,S=0,nt=0,g=0,p=0,k=0,L=0,I=0,O=0,j=null,ot=0,et=new o.Buf16(16),ut=new o.Buf16(16),kt=null,wt=0;for(M=0;M<=15;M++)et[M]=0;for(Q=0;Q<y;Q++)et[c[h+Q]]++;for(g=U,nt=15;1<=nt&&et[nt]===0;nt--);if(nt<g&&(g=nt),nt===0)return _[v++]=20971520,_[v++]=20971520,w.bits=1,0;for(S=1;S<nt&&et[S]===0;S++);for(g<S&&(g=S),M=L=1;M<=15;M++)if(L<<=1,(L-=et[M])<0)return-1;if(0<L&&(d===0||nt!==1))return-1;for(ut[1]=0,M=1;M<15;M++)ut[M+1]=ut[M]+et[M];for(Q=0;Q<y;Q++)c[h+Q]!==0&&(b[ut[c[h+Q]]++]=Q);if(F=d===0?(j=kt=b,19):d===1?(j=s,ot-=257,kt=a,wt-=257,256):(j=u,kt=f,-1),M=S,Z=v,k=Q=O=0,D=-1,B=(I=1<<(p=g))-1,d===1&&852<I||d===2&&592<I)return 1;for(;;){for(tt=M-k,at=b[Q]<F?(K=0,b[Q]):b[Q]>F?(K=kt[wt+b[Q]],j[ot+b[Q]]):(K=96,0),E=1<<M-k,S=A=1<<p;_[Z+(O>>k)+(A-=E)]=tt<<24|K<<16|at|0,A!==0;);for(E=1<<M-1;O&E;)E>>=1;if(E!==0?(O&=E-1,O+=E):O=0,Q++,--et[M]==0){if(M===nt)break;M=c[h+b[Q]]}if(g<M&&(O&B)!==D){for(k===0&&(k=g),Z+=S,L=1<<(p=M-k);p+k<nt&&!((L-=et[p+k])<=0);)p++,L<<=1;if(I+=1<<p,d===1&&852<I||d===2&&592<I)return 1;_[D=O&B]=g<<24|p<<16|Z-v|0}}return O!==0&&(_[Z+O]=M-k<<24|64<<16|0),w.bits=g,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),s=0,a=1;function u(R){for(var Y=R.length;0<=--Y;)R[Y]=0}var f=0,d=29,c=256,h=c+1+d,y=30,_=19,v=2*h+1,b=15,w=16,E=7,A=256,D=16,B=17,Z=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(h+2));u(U);var M=new Array(2*y);u(M);var Q=new Array(512);u(Q);var S=new Array(256);u(S);var nt=new Array(d);u(nt);var g,p,k,L=new Array(y);function I(R,Y,ft,lt,q){this.static_tree=R,this.extra_bits=Y,this.extra_base=ft,this.elems=lt,this.max_length=q,this.has_stree=R&&R.length}function O(R,Y){this.dyn_tree=R,this.max_code=0,this.stat_desc=Y}function j(R){return R<256?Q[R]:Q[256+(R>>>7)]}function ot(R,Y){R.pending_buf[R.pending++]=255&Y,R.pending_buf[R.pending++]=Y>>>8&255}function et(R,Y,ft){R.bi_valid>w-ft?(R.bi_buf|=Y<<R.bi_valid&65535,ot(R,R.bi_buf),R.bi_buf=Y>>w-R.bi_valid,R.bi_valid+=ft-w):(R.bi_buf|=Y<<R.bi_valid&65535,R.bi_valid+=ft)}function ut(R,Y,ft){et(R,ft[2*Y],ft[2*Y+1])}function kt(R,Y){for(var ft=0;ft|=1&R,R>>>=1,ft<<=1,0<--Y;);return ft>>>1}function wt(R,Y,ft){var lt,q,pt=new Array(b+1),bt=0;for(lt=1;lt<=b;lt++)pt[lt]=bt=bt+ft[lt-1]<<1;for(q=0;q<=Y;q++){var dt=R[2*q+1];dt!==0&&(R[2*q]=kt(pt[dt]++,dt))}}function St(R){var Y;for(Y=0;Y<h;Y++)R.dyn_ltree[2*Y]=0;for(Y=0;Y<y;Y++)R.dyn_dtree[2*Y]=0;for(Y=0;Y<_;Y++)R.bl_tree[2*Y]=0;R.dyn_ltree[2*A]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function At(R){8<R.bi_valid?ot(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function jt(R,Y,ft,lt){var q=2*Y,pt=2*ft;return R[q]<R[pt]||R[q]===R[pt]&&lt[Y]<=lt[ft]}function Rt(R,Y,ft){for(var lt=R.heap[ft],q=ft<<1;q<=R.heap_len&&(q<R.heap_len&&jt(Y,R.heap[q+1],R.heap[q],R.depth)&&q++,!jt(Y,lt,R.heap[q],R.depth));)R.heap[ft]=R.heap[q],ft=q,q<<=1;R.heap[ft]=lt}function Mt(R,Y,ft){var lt,q,pt,bt,dt=0;if(R.last_lit!==0)for(;lt=R.pending_buf[R.d_buf+2*dt]<<8|R.pending_buf[R.d_buf+2*dt+1],q=R.pending_buf[R.l_buf+dt],dt++,lt===0?ut(R,q,Y):(ut(R,(pt=S[q])+c+1,Y),(bt=F[pt])!==0&&et(R,q-=nt[pt],bt),ut(R,pt=j(--lt),ft),(bt=tt[pt])!==0&&et(R,lt-=L[pt],bt)),dt<R.last_lit;);ut(R,A,Y)}function Dt(R,Y){var ft,lt,q,pt=Y.dyn_tree,bt=Y.stat_desc.static_tree,dt=Y.stat_desc.has_stree,_t=Y.stat_desc.elems,C=-1;for(R.heap_len=0,R.heap_max=v,ft=0;ft<_t;ft++)pt[2*ft]!==0?(R.heap[++R.heap_len]=C=ft,R.depth[ft]=0):pt[2*ft+1]=0;for(;R.heap_len<2;)pt[2*(q=R.heap[++R.heap_len]=C<2?++C:0)]=1,R.depth[q]=0,R.opt_len--,dt&&(R.static_len-=bt[2*q+1]);for(Y.max_code=C,ft=R.heap_len>>1;1<=ft;ft--)Rt(R,pt,ft);for(q=_t;ft=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Rt(R,pt,1),lt=R.heap[1],R.heap[--R.heap_max]=ft,R.heap[--R.heap_max]=lt,pt[2*q]=pt[2*ft]+pt[2*lt],R.depth[q]=(R.depth[ft]>=R.depth[lt]?R.depth[ft]:R.depth[lt])+1,pt[2*ft+1]=pt[2*lt+1]=q,R.heap[1]=q++,Rt(R,pt,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(l,m){var P,W,J,rt,Et,zt,It=m.dyn_tree,Bt=m.max_code,Tt=m.stat_desc.static_tree,ir=m.stat_desc.has_stree,Vt=m.stat_desc.extra_bits,Re=m.stat_desc.extra_base,de=m.stat_desc.max_length,pe=0;for(rt=0;rt<=b;rt++)l.bl_count[rt]=0;for(It[2*l.heap[l.heap_max]+1]=0,P=l.heap_max+1;P<v;P++)de<(rt=It[2*It[2*(W=l.heap[P])+1]+1]+1)&&(rt=de,pe++),It[2*W+1]=rt,Bt<W||(l.bl_count[rt]++,Et=0,Re<=W&&(Et=Vt[W-Re]),zt=It[2*W],l.opt_len+=zt*(rt+Et),ir&&(l.static_len+=zt*(Tt[2*W+1]+Et)));if(pe!==0){do{for(rt=de-1;l.bl_count[rt]===0;)rt--;l.bl_count[rt]--,l.bl_count[rt+1]+=2,l.bl_count[de]--,pe-=2}while(0<pe);for(rt=de;rt!==0;rt--)for(W=l.bl_count[rt];W!==0;)Bt<(J=l.heap[--P])||(It[2*J+1]!==rt&&(l.opt_len+=(rt-It[2*J+1])*It[2*J],It[2*J+1]=rt),W--)}}(R,Y),wt(pt,C,R.bl_count)}function x(R,Y,ft){var lt,q,pt=-1,bt=Y[1],dt=0,_t=7,C=4;for(bt===0&&(_t=138,C=3),Y[2*(ft+1)+1]=65535,lt=0;lt<=ft;lt++)q=bt,bt=Y[2*(lt+1)+1],++dt<_t&&q===bt||(dt<C?R.bl_tree[2*q]+=dt:q!==0?(q!==pt&&R.bl_tree[2*q]++,R.bl_tree[2*D]++):dt<=10?R.bl_tree[2*B]++:R.bl_tree[2*Z]++,pt=q,C=(dt=0)===bt?(_t=138,3):q===bt?(_t=6,3):(_t=7,4))}function st(R,Y,ft){var lt,q,pt=-1,bt=Y[1],dt=0,_t=7,C=4;for(bt===0&&(_t=138,C=3),lt=0;lt<=ft;lt++)if(q=bt,bt=Y[2*(lt+1)+1],!(++dt<_t&&q===bt)){if(dt<C)for(;ut(R,q,R.bl_tree),--dt!=0;);else q!==0?(q!==pt&&(ut(R,q,R.bl_tree),dt--),ut(R,D,R.bl_tree),et(R,dt-3,2)):dt<=10?(ut(R,B,R.bl_tree),et(R,dt-3,3)):(ut(R,Z,R.bl_tree),et(R,dt-11,7));pt=q,C=(dt=0)===bt?(_t=138,3):q===bt?(_t=6,3):(_t=7,4)}}u(L);var it=!1;function N(R,Y,ft,lt){et(R,(f<<1)+(lt?1:0),3),function(q,pt,bt,dt){At(q),dt&&(ot(q,bt),ot(q,~bt)),o.arraySet(q.pending_buf,q.window,pt,bt,q.pending),q.pending+=bt}(R,Y,ft,!0)}i._tr_init=function(R){it||(function(){var Y,ft,lt,q,pt,bt=new Array(b+1);for(q=lt=0;q<d-1;q++)for(nt[q]=lt,Y=0;Y<1<<F[q];Y++)S[lt++]=q;for(S[lt-1]=q,q=pt=0;q<16;q++)for(L[q]=pt,Y=0;Y<1<<tt[q];Y++)Q[pt++]=q;for(pt>>=7;q<y;q++)for(L[q]=pt<<7,Y=0;Y<1<<tt[q]-7;Y++)Q[256+pt++]=q;for(ft=0;ft<=b;ft++)bt[ft]=0;for(Y=0;Y<=143;)U[2*Y+1]=8,Y++,bt[8]++;for(;Y<=255;)U[2*Y+1]=9,Y++,bt[9]++;for(;Y<=279;)U[2*Y+1]=7,Y++,bt[7]++;for(;Y<=287;)U[2*Y+1]=8,Y++,bt[8]++;for(wt(U,h+1,bt),Y=0;Y<y;Y++)M[2*Y+1]=5,M[2*Y]=kt(Y,5);g=new I(U,F,c+1,h,b),p=new I(M,tt,0,y,b),k=new I(new Array(0),K,0,_,E)}(),it=!0),R.l_desc=new O(R.dyn_ltree,g),R.d_desc=new O(R.dyn_dtree,p),R.bl_desc=new O(R.bl_tree,k),R.bi_buf=0,R.bi_valid=0,St(R)},i._tr_stored_block=N,i._tr_flush_block=function(R,Y,ft,lt){var q,pt,bt=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(dt){var _t,C=4093624447;for(_t=0;_t<=31;_t++,C>>>=1)if(1&C&&dt.dyn_ltree[2*_t]!==0)return s;if(dt.dyn_ltree[18]!==0||dt.dyn_ltree[20]!==0||dt.dyn_ltree[26]!==0)return a;for(_t=32;_t<c;_t++)if(dt.dyn_ltree[2*_t]!==0)return a;return s}(R)),Dt(R,R.l_desc),Dt(R,R.d_desc),bt=function(dt){var _t;for(x(dt,dt.dyn_ltree,dt.l_desc.max_code),x(dt,dt.dyn_dtree,dt.d_desc.max_code),Dt(dt,dt.bl_desc),_t=_-1;3<=_t&&dt.bl_tree[2*at[_t]+1]===0;_t--);return dt.opt_len+=3*(_t+1)+5+5+4,_t}(R),q=R.opt_len+3+7>>>3,(pt=R.static_len+3+7>>>3)<=q&&(q=pt)):q=pt=ft+5,ft+4<=q&&Y!==-1?N(R,Y,ft,lt):R.strategy===4||pt===q?(et(R,2+(lt?1:0),3),Mt(R,U,M)):(et(R,4+(lt?1:0),3),function(dt,_t,C,l){var m;for(et(dt,_t-257,5),et(dt,C-1,5),et(dt,l-4,4),m=0;m<l;m++)et(dt,dt.bl_tree[2*at[m]+1],3);st(dt,dt.dyn_ltree,_t-1),st(dt,dt.dyn_dtree,C-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,bt+1),Mt(R,R.dyn_ltree,R.dyn_dtree)),St(R),lt&&At(R)},i._tr_tally=function(R,Y,ft){return R.pending_buf[R.d_buf+2*R.last_lit]=Y>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&Y,R.pending_buf[R.l_buf+R.last_lit]=255&ft,R.last_lit++,Y===0?R.dyn_ltree[2*ft]++:(R.matches++,Y--,R.dyn_ltree[2*(S[ft]+c+1)]++,R.dyn_dtree[2*j(Y)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){et(R,2,3),ut(R,A,U),function(Y){Y.bi_valid===16?(ot(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(s,a){if(!s.setImmediate){var u,f,d,c,h=1,y={},_=!1,v=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,u={}.toString.call(s.process)==="[object process]"?function(D){process.nextTick(function(){E(D)})}:function(){if(s.postMessage&&!s.importScripts){var D=!0,B=s.onmessage;return s.onmessage=function(){D=!1},s.postMessage("","*"),s.onmessage=B,D}}()?(c="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",A,!1):s.attachEvent("onmessage",A),function(D){s.postMessage(c+D,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(D){E(D.data)},function(D){d.port2.postMessage(D)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(D){var B=v.createElement("script");B.onreadystatechange=function(){E(D),B.onreadystatechange=null,f.removeChild(B),B=null},f.appendChild(B)}):function(D){setTimeout(E,0,D)},b.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var B=new Array(arguments.length-1),Z=0;Z<B.length;Z++)B[Z]=arguments[Z+1];var F={callback:D,args:B};return y[h]=F,u(h),h++},b.clearImmediate=w}function w(D){delete y[D]}function E(D){if(_)setTimeout(E,0,D);else{var B=y[D];if(B){_=!0;try{(function(Z){var F=Z.callback,tt=Z.args;switch(tt.length){case 0:F();break;case 1:F(tt[0]);break;case 2:F(tt[0],tt[1]);break;case 3:F(tt[0],tt[1],tt[2]);break;default:F.apply(a,tt)}})(B)}finally{w(D),_=!1}}}}function A(D){D.source===s&&typeof D.data=="string"&&D.data.indexOf(c)===0&&E(+D.data.slice(c.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof re<"u"?re:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(si);var Lo=si.exports;const vn=Fr(Lo);var Ur={exports:{}},Se=typeof Reflect=="object"?Reflect:null,mn=Se&&typeof Se.apply=="function"?Se.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Me;Se&&typeof Se.ownKeys=="function"?Me=Se.ownKeys:Object.getOwnPropertySymbols?Me=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Me=function(e){return Object.getOwnPropertyNames(e)};function Po(n){console&&console.warn&&console.warn(n)}var ui=Number.isNaN||function(e){return e!==e};function Ft(){Ft.init.call(this)}Ur.exports=Ft;Ur.exports.once=jo;Ft.EventEmitter=Ft;Ft.prototype._events=void 0;Ft.prototype._eventsCount=0;Ft.prototype._maxListeners=void 0;var yn=10;function rr(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(Ft,"defaultMaxListeners",{enumerable:!0,get:function(){return yn},set:function(n){if(typeof n!="number"||n<0||ui(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");yn=n}});Ft.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ft.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ui(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ci(n){return n._maxListeners===void 0?Ft.defaultMaxListeners:n._maxListeners}Ft.prototype.getMaxListeners=function(){return ci(this)};Ft.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(u===void 0)return!1;if(typeof u=="function")mn(u,this,t);else for(var f=u.length,d=pi(u,f),r=0;r<f;++r)mn(d[r],this,t);return!0};function fi(n,e,t,r){var i,o,s;if(rr(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),s=o[e]),s===void 0)s=o[e]=t,++n._eventsCount;else if(typeof s=="function"?s=o[e]=r?[t,s]:[s,t]:r?s.unshift(t):s.push(t),i=ci(n),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=s.length,Po(a)}return n}Ft.prototype.addListener=function(e,t){return fi(this,e,t,!1)};Ft.prototype.on=Ft.prototype.addListener;Ft.prototype.prependListener=function(e,t){return fi(this,e,t,!0)};function zo(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function li(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=zo.bind(r);return i.listener=t,r.wrapFn=i,i}Ft.prototype.once=function(e,t){return rr(t),this.on(e,li(this,e,t)),this};Ft.prototype.prependOnceListener=function(e,t){return rr(t),this.prependListener(e,li(this,e,t)),this};Ft.prototype.removeListener=function(e,t){var r,i,o,s,a;if(rr(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():Fo(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};Ft.prototype.off=Ft.prototype.removeListener;Ft.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function hi(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Ro(i):pi(i,i.length)}Ft.prototype.listeners=function(e){return hi(this,e,!0)};Ft.prototype.rawListeners=function(e){return hi(this,e,!1)};Ft.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):di.call(n,e)};Ft.prototype.listenerCount=di;function di(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Ft.prototype.eventNames=function(){return this._eventsCount>0?Me(this._events):[]};function pi(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function Fo(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function Ro(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function jo(n,e){return new Promise(function(t,r){function i(s){n.removeListener(e,o),r(s)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}vi(n,e,o,{once:!0}),e!=="error"&&No(n,i,{once:!0})})}function No(n,e,t){typeof n.on=="function"&&vi(n,"error",e,t)}function vi(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(o){r.once&&n.removeEventListener(e,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var mi=Ur.exports,Tr={},nr={};nr.byteLength=Mo;nr.toByteArray=Wo;nr.fromByteArray=Go;var qt=[],Yt=[],Do=typeof Uint8Array<"u"?Uint8Array:Array,vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ke=0,Uo=vr.length;ke<Uo;++ke)qt[ke]=vr[ke],Yt[vr.charCodeAt(ke)]=ke;Yt["-".charCodeAt(0)]=62;Yt["_".charCodeAt(0)]=63;function yi(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function Mo(n){var e=yi(n),t=e[0],r=e[1];return(t+r)*3/4-r}function $o(n,e,t){return(e+t)*3/4-t}function Wo(n){var e,t=yi(n),r=t[0],i=t[1],o=new Do($o(n,r,i)),s=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=Yt[n.charCodeAt(u)]<<18|Yt[n.charCodeAt(u+1)]<<12|Yt[n.charCodeAt(u+2)]<<6|Yt[n.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Yt[n.charCodeAt(u)]<<2|Yt[n.charCodeAt(u+1)]>>4,o[s++]=e&255),i===1&&(e=Yt[n.charCodeAt(u)]<<10|Yt[n.charCodeAt(u+1)]<<4|Yt[n.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Ho(n){return qt[n>>18&63]+qt[n>>12&63]+qt[n>>6&63]+qt[n&63]}function Zo(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(Ho(r));return i.join("")}function Go(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(Zo(n,s,s+o>a?a:s+o));return r===1?(e=n[t-1],i.push(qt[e>>2]+qt[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(qt[e>>10]+qt[e>>4&63]+qt[e<<2&63]+"=")),i.join("")}var Mr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Mr.read=function(n,e,t,r,i){var o,s,a=i*8-r-1,u=(1<<a)-1,f=u>>1,d=-7,c=t?i-1:0,h=t?-1:1,y=n[e+c];for(c+=h,o=y&(1<<-d)-1,y>>=-d,d+=a;d>0;o=o*256+n[e+c],c+=h,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=s*256+n[e+c],c+=h,d-=8);if(o===0)o=1-f;else{if(o===u)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-f}return(y?-1:1)*s*Math.pow(2,o-r)};Mr.write=function(n,e,t,r,i,o){var s,a,u,f=o*8-i-1,d=(1<<f)-1,c=d>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:o-1,_=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+c>=1?e+=h/u:e+=h*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=d?(a=0,s=d):s+c>=1?(a=(e*u-1)*Math.pow(2,i),s=s+c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;n[t+y]=a&255,y+=_,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;n[t+y]=s&255,y+=_,s/=256,f-=8);n[t+y-_]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=nr,t=Mr,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=E,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const C=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(C,l),C.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');const l=new Uint8Array(C);return Object.setPrototypeOf(l,a.prototype),l}function a(C,l,m){if(typeof C=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(C)}return u(C,l,m)}a.poolSize=8192;function u(C,l,m){if(typeof C=="string")return h(C,l);if(ArrayBuffer.isView(C))return _(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(q(C,ArrayBuffer)||C&&q(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(C,SharedArrayBuffer)||C&&q(C.buffer,SharedArrayBuffer)))return v(C,l,m);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=C.valueOf&&C.valueOf();if(P!=null&&P!==C)return a.from(P,l,m);const W=b(C);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return a.from(C[Symbol.toPrimitive]("string"),l,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}a.from=function(C,l,m){return u(C,l,m)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function d(C,l,m){return f(C),C<=0?s(C):l!==void 0?typeof m=="string"?s(C).fill(l,m):s(C).fill(l):s(C)}a.alloc=function(C,l,m){return d(C,l,m)};function c(C){return f(C),s(C<0?0:w(C)|0)}a.allocUnsafe=function(C){return c(C)},a.allocUnsafeSlow=function(C){return c(C)};function h(C,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const m=A(C,l)|0;let P=s(m);const W=P.write(C,l);return W!==m&&(P=P.slice(0,W)),P}function y(C){const l=C.length<0?0:w(C.length)|0,m=s(l);for(let P=0;P<l;P+=1)m[P]=C[P]&255;return m}function _(C){if(q(C,Uint8Array)){const l=new Uint8Array(C);return v(l.buffer,l.byteOffset,l.byteLength)}return y(C)}function v(C,l,m){if(l<0||C.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<l+(m||0))throw new RangeError('"length" is outside of buffer bounds');let P;return l===void 0&&m===void 0?P=new Uint8Array(C):m===void 0?P=new Uint8Array(C,l):P=new Uint8Array(C,l,m),Object.setPrototypeOf(P,a.prototype),P}function b(C){if(a.isBuffer(C)){const l=w(C.length)|0,m=s(l);return m.length===0||C.copy(m,0,0,l),m}if(C.length!==void 0)return typeof C.length!="number"||pt(C.length)?s(0):y(C);if(C.type==="Buffer"&&Array.isArray(C.data))return y(C.data)}function w(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function E(C){return+C!=C&&(C=0),a.alloc(+C)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,m){if(q(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),q(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(l)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===m)return 0;let P=l.length,W=m.length;for(let J=0,rt=Math.min(P,W);J<rt;++J)if(l[J]!==m[J]){P=l[J],W=m[J];break}return P<W?-1:W<P?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,m){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let P;if(m===void 0)for(m=0,P=0;P<l.length;++P)m+=l[P].length;const W=a.allocUnsafe(m);let J=0;for(P=0;P<l.length;++P){let rt=l[P];if(q(rt,Uint8Array))J+rt.length>W.length?(a.isBuffer(rt)||(rt=a.from(rt)),rt.copy(W,J)):Uint8Array.prototype.set.call(W,rt,J);else if(a.isBuffer(rt))rt.copy(W,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=rt.length}return W};function A(C,l){if(a.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||q(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const m=C.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&m===0)return 0;let W=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return N(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return ft(C).length;default:if(W)return P?-1:N(C).length;l=(""+l).toLowerCase(),W=!0}}a.byteLength=A;function D(C,l,m){let P=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,l>>>=0,m<=l))return"";for(C||(C="utf8");;)switch(C){case"hex":return L(this,l,m);case"utf8":case"utf-8":return S(this,l,m);case"ascii":return p(this,l,m);case"latin1":case"binary":return k(this,l,m);case"base64":return Q(this,l,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,l,m);default:if(P)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),P=!0}}a.prototype._isBuffer=!0;function B(C,l,m){const P=C[l];C[l]=C[m],C[m]=P}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<l;m+=2)B(this,m,m+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<l;m+=4)B(this,m,m+3),B(this,m+1,m+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<l;m+=8)B(this,m,m+7),B(this,m+1,m+6),B(this,m+2,m+5),B(this,m+3,m+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?S(this,0,l):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const m=n.INSPECT_MAX_BYTES;return l=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,m,P,W,J){if(q(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(m===void 0&&(m=0),P===void 0&&(P=l?l.length:0),W===void 0&&(W=0),J===void 0&&(J=this.length),m<0||P>l.length||W<0||J>this.length)throw new RangeError("out of range index");if(W>=J&&m>=P)return 0;if(W>=J)return-1;if(m>=P)return 1;if(m>>>=0,P>>>=0,W>>>=0,J>>>=0,this===l)return 0;let rt=J-W,Et=P-m;const zt=Math.min(rt,Et),It=this.slice(W,J),Bt=l.slice(m,P);for(let Tt=0;Tt<zt;++Tt)if(It[Tt]!==Bt[Tt]){rt=It[Tt],Et=Bt[Tt];break}return rt<Et?-1:Et<rt?1:0};function Z(C,l,m,P,W){if(C.length===0)return-1;if(typeof m=="string"?(P=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,pt(m)&&(m=W?0:C.length-1),m<0&&(m=C.length+m),m>=C.length){if(W)return-1;m=C.length-1}else if(m<0)if(W)m=0;else return-1;if(typeof l=="string"&&(l=a.from(l,P)),a.isBuffer(l))return l.length===0?-1:F(C,l,m,P,W);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(C,l,m):Uint8Array.prototype.lastIndexOf.call(C,l,m):F(C,[l],m,P,W);throw new TypeError("val must be string, number or Buffer")}function F(C,l,m,P,W){let J=1,rt=C.length,Et=l.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(C.length<2||l.length<2)return-1;J=2,rt/=2,Et/=2,m/=2}function zt(Bt,Tt){return J===1?Bt[Tt]:Bt.readUInt16BE(Tt*J)}let It;if(W){let Bt=-1;for(It=m;It<rt;It++)if(zt(C,It)===zt(l,Bt===-1?0:It-Bt)){if(Bt===-1&&(Bt=It),It-Bt+1===Et)return Bt*J}else Bt!==-1&&(It-=It-Bt),Bt=-1}else for(m+Et>rt&&(m=rt-Et),It=m;It>=0;It--){let Bt=!0;for(let Tt=0;Tt<Et;Tt++)if(zt(C,It+Tt)!==zt(l,Tt)){Bt=!1;break}if(Bt)return It}return-1}a.prototype.includes=function(l,m,P){return this.indexOf(l,m,P)!==-1},a.prototype.indexOf=function(l,m,P){return Z(this,l,m,P,!0)},a.prototype.lastIndexOf=function(l,m,P){return Z(this,l,m,P,!1)};function tt(C,l,m,P){m=Number(m)||0;const W=C.length-m;P?(P=Number(P),P>W&&(P=W)):P=W;const J=l.length;P>J/2&&(P=J/2);let rt;for(rt=0;rt<P;++rt){const Et=parseInt(l.substr(rt*2,2),16);if(pt(Et))return rt;C[m+rt]=Et}return rt}function K(C,l,m,P){return lt(N(l,C.length-m),C,m,P)}function at(C,l,m,P){return lt(R(l),C,m,P)}function U(C,l,m,P){return lt(ft(l),C,m,P)}function M(C,l,m,P){return lt(Y(l,C.length-m),C,m,P)}a.prototype.write=function(l,m,P,W){if(m===void 0)W="utf8",P=this.length,m=0;else if(P===void 0&&typeof m=="string")W=m,P=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(P)?(P=P>>>0,W===void 0&&(W="utf8")):(W=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-m;if((P===void 0||P>J)&&(P=J),l.length>0&&(P<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let rt=!1;for(;;)switch(W){case"hex":return tt(this,l,m,P);case"utf8":case"utf-8":return K(this,l,m,P);case"ascii":case"latin1":case"binary":return at(this,l,m,P);case"base64":return U(this,l,m,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,m,P);default:if(rt)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),rt=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(C,l,m){return l===0&&m===C.length?e.fromByteArray(C):e.fromByteArray(C.slice(l,m))}function S(C,l,m){m=Math.min(C.length,m);const P=[];let W=l;for(;W<m;){const J=C[W];let rt=null,Et=J>239?4:J>223?3:J>191?2:1;if(W+Et<=m){let zt,It,Bt,Tt;switch(Et){case 1:J<128&&(rt=J);break;case 2:zt=C[W+1],(zt&192)===128&&(Tt=(J&31)<<6|zt&63,Tt>127&&(rt=Tt));break;case 3:zt=C[W+1],It=C[W+2],(zt&192)===128&&(It&192)===128&&(Tt=(J&15)<<12|(zt&63)<<6|It&63,Tt>2047&&(Tt<55296||Tt>57343)&&(rt=Tt));break;case 4:zt=C[W+1],It=C[W+2],Bt=C[W+3],(zt&192)===128&&(It&192)===128&&(Bt&192)===128&&(Tt=(J&15)<<18|(zt&63)<<12|(It&63)<<6|Bt&63,Tt>65535&&Tt<1114112&&(rt=Tt))}}rt===null?(rt=65533,Et=1):rt>65535&&(rt-=65536,P.push(rt>>>10&1023|55296),rt=56320|rt&1023),P.push(rt),W+=Et}return g(P)}const nt=4096;function g(C){const l=C.length;if(l<=nt)return String.fromCharCode.apply(String,C);let m="",P=0;for(;P<l;)m+=String.fromCharCode.apply(String,C.slice(P,P+=nt));return m}function p(C,l,m){let P="";m=Math.min(C.length,m);for(let W=l;W<m;++W)P+=String.fromCharCode(C[W]&127);return P}function k(C,l,m){let P="";m=Math.min(C.length,m);for(let W=l;W<m;++W)P+=String.fromCharCode(C[W]);return P}function L(C,l,m){const P=C.length;(!l||l<0)&&(l=0),(!m||m<0||m>P)&&(m=P);let W="";for(let J=l;J<m;++J)W+=bt[C[J]];return W}function I(C,l,m){const P=C.slice(l,m);let W="";for(let J=0;J<P.length-1;J+=2)W+=String.fromCharCode(P[J]+P[J+1]*256);return W}a.prototype.slice=function(l,m){const P=this.length;l=~~l,m=m===void 0?P:~~m,l<0?(l+=P,l<0&&(l=0)):l>P&&(l=P),m<0?(m+=P,m<0&&(m=0)):m>P&&(m=P),m<l&&(m=l);const W=this.subarray(l,m);return Object.setPrototypeOf(W,a.prototype),W};function O(C,l,m){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+l>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,m,P){l=l>>>0,m=m>>>0,P||O(l,m,this.length);let W=this[l],J=1,rt=0;for(;++rt<m&&(J*=256);)W+=this[l+rt]*J;return W},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,m,P){l=l>>>0,m=m>>>0,P||O(l,m,this.length);let W=this[l+--m],J=1;for(;m>0&&(J*=256);)W+=this[l+--m]*J;return W},a.prototype.readUint8=a.prototype.readUInt8=function(l,m){return l=l>>>0,m||O(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,m){return l=l>>>0,m||O(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,m){return l=l>>>0,m||O(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,m){return l=l>>>0,m||O(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,m){return l=l>>>0,m||O(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=dt(function(l){l=l>>>0,Dt(l,"offset");const m=this[l],P=this[l+7];(m===void 0||P===void 0)&&x(l,this.length-8);const W=m+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,J=this[++l]+this[++l]*2**8+this[++l]*2**16+P*2**24;return BigInt(W)+(BigInt(J)<<BigInt(32))}),a.prototype.readBigUInt64BE=dt(function(l){l=l>>>0,Dt(l,"offset");const m=this[l],P=this[l+7];(m===void 0||P===void 0)&&x(l,this.length-8);const W=m*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],J=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+P;return(BigInt(W)<<BigInt(32))+BigInt(J)}),a.prototype.readIntLE=function(l,m,P){l=l>>>0,m=m>>>0,P||O(l,m,this.length);let W=this[l],J=1,rt=0;for(;++rt<m&&(J*=256);)W+=this[l+rt]*J;return J*=128,W>=J&&(W-=Math.pow(2,8*m)),W},a.prototype.readIntBE=function(l,m,P){l=l>>>0,m=m>>>0,P||O(l,m,this.length);let W=m,J=1,rt=this[l+--W];for(;W>0&&(J*=256);)rt+=this[l+--W]*J;return J*=128,rt>=J&&(rt-=Math.pow(2,8*m)),rt},a.prototype.readInt8=function(l,m){return l=l>>>0,m||O(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,m){l=l>>>0,m||O(l,2,this.length);const P=this[l]|this[l+1]<<8;return P&32768?P|4294901760:P},a.prototype.readInt16BE=function(l,m){l=l>>>0,m||O(l,2,this.length);const P=this[l+1]|this[l]<<8;return P&32768?P|4294901760:P},a.prototype.readInt32LE=function(l,m){return l=l>>>0,m||O(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,m){return l=l>>>0,m||O(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=dt(function(l){l=l>>>0,Dt(l,"offset");const m=this[l],P=this[l+7];(m===void 0||P===void 0)&&x(l,this.length-8);const W=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(P<<24);return(BigInt(W)<<BigInt(32))+BigInt(m+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=dt(function(l){l=l>>>0,Dt(l,"offset");const m=this[l],P=this[l+7];(m===void 0||P===void 0)&&x(l,this.length-8);const W=(m<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(W)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+P)}),a.prototype.readFloatLE=function(l,m){return l=l>>>0,m||O(l,4,this.length),t.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,m){return l=l>>>0,m||O(l,4,this.length),t.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,m){return l=l>>>0,m||O(l,8,this.length),t.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,m){return l=l>>>0,m||O(l,8,this.length),t.read(this,l,!1,52,8)};function j(C,l,m,P,W,J){if(!a.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>W||l<J)throw new RangeError('"value" argument is out of bounds');if(m+P>C.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,m,P,W){if(l=+l,m=m>>>0,P=P>>>0,!W){const Et=Math.pow(2,8*P)-1;j(this,l,m,P,Et,0)}let J=1,rt=0;for(this[m]=l&255;++rt<P&&(J*=256);)this[m+rt]=l/J&255;return m+P},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,m,P,W){if(l=+l,m=m>>>0,P=P>>>0,!W){const Et=Math.pow(2,8*P)-1;j(this,l,m,P,Et,0)}let J=P-1,rt=1;for(this[m+J]=l&255;--J>=0&&(rt*=256);)this[m+J]=l/rt&255;return m+P},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,1,255,0),this[m]=l&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,2,65535,0),this[m]=l&255,this[m+1]=l>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,2,65535,0),this[m]=l>>>8,this[m+1]=l&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,4,4294967295,0),this[m+3]=l>>>24,this[m+2]=l>>>16,this[m+1]=l>>>8,this[m]=l&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,4,4294967295,0),this[m]=l>>>24,this[m+1]=l>>>16,this[m+2]=l>>>8,this[m+3]=l&255,m+4};function ot(C,l,m,P,W){Mt(l,P,W,C,m,7);let J=Number(l&BigInt(4294967295));C[m++]=J,J=J>>8,C[m++]=J,J=J>>8,C[m++]=J,J=J>>8,C[m++]=J;let rt=Number(l>>BigInt(32)&BigInt(4294967295));return C[m++]=rt,rt=rt>>8,C[m++]=rt,rt=rt>>8,C[m++]=rt,rt=rt>>8,C[m++]=rt,m}function et(C,l,m,P,W){Mt(l,P,W,C,m,7);let J=Number(l&BigInt(4294967295));C[m+7]=J,J=J>>8,C[m+6]=J,J=J>>8,C[m+5]=J,J=J>>8,C[m+4]=J;let rt=Number(l>>BigInt(32)&BigInt(4294967295));return C[m+3]=rt,rt=rt>>8,C[m+2]=rt,rt=rt>>8,C[m+1]=rt,rt=rt>>8,C[m]=rt,m+8}a.prototype.writeBigUInt64LE=dt(function(l,m=0){return ot(this,l,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=dt(function(l,m=0){return et(this,l,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,m,P,W){if(l=+l,m=m>>>0,!W){const zt=Math.pow(2,8*P-1);j(this,l,m,P,zt-1,-zt)}let J=0,rt=1,Et=0;for(this[m]=l&255;++J<P&&(rt*=256);)l<0&&Et===0&&this[m+J-1]!==0&&(Et=1),this[m+J]=(l/rt>>0)-Et&255;return m+P},a.prototype.writeIntBE=function(l,m,P,W){if(l=+l,m=m>>>0,!W){const zt=Math.pow(2,8*P-1);j(this,l,m,P,zt-1,-zt)}let J=P-1,rt=1,Et=0;for(this[m+J]=l&255;--J>=0&&(rt*=256);)l<0&&Et===0&&this[m+J+1]!==0&&(Et=1),this[m+J]=(l/rt>>0)-Et&255;return m+P},a.prototype.writeInt8=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,1,127,-128),l<0&&(l=255+l+1),this[m]=l&255,m+1},a.prototype.writeInt16LE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,2,32767,-32768),this[m]=l&255,this[m+1]=l>>>8,m+2},a.prototype.writeInt16BE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,2,32767,-32768),this[m]=l>>>8,this[m+1]=l&255,m+2},a.prototype.writeInt32LE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,4,2147483647,-2147483648),this[m]=l&255,this[m+1]=l>>>8,this[m+2]=l>>>16,this[m+3]=l>>>24,m+4},a.prototype.writeInt32BE=function(l,m,P){return l=+l,m=m>>>0,P||j(this,l,m,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[m]=l>>>24,this[m+1]=l>>>16,this[m+2]=l>>>8,this[m+3]=l&255,m+4},a.prototype.writeBigInt64LE=dt(function(l,m=0){return ot(this,l,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=dt(function(l,m=0){return et(this,l,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ut(C,l,m,P,W,J){if(m+P>C.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function kt(C,l,m,P,W){return l=+l,m=m>>>0,W||ut(C,l,m,4),t.write(C,l,m,P,23,4),m+4}a.prototype.writeFloatLE=function(l,m,P){return kt(this,l,m,!0,P)},a.prototype.writeFloatBE=function(l,m,P){return kt(this,l,m,!1,P)};function wt(C,l,m,P,W){return l=+l,m=m>>>0,W||ut(C,l,m,8),t.write(C,l,m,P,52,8),m+8}a.prototype.writeDoubleLE=function(l,m,P){return wt(this,l,m,!0,P)},a.prototype.writeDoubleBE=function(l,m,P){return wt(this,l,m,!1,P)},a.prototype.copy=function(l,m,P,W){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(P||(P=0),!W&&W!==0&&(W=this.length),m>=l.length&&(m=l.length),m||(m=0),W>0&&W<P&&(W=P),W===P||l.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),l.length-m<W-P&&(W=l.length-m+P);const J=W-P;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,P,W):Uint8Array.prototype.set.call(l,this.subarray(P,W),m),J},a.prototype.fill=function(l,m,P,W){if(typeof l=="string"){if(typeof m=="string"?(W=m,m=0,P=this.length):typeof P=="string"&&(W=P,P=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!a.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(l.length===1){const rt=l.charCodeAt(0);(W==="utf8"&&rt<128||W==="latin1")&&(l=rt)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(m<0||this.length<m||this.length<P)throw new RangeError("Out of range index");if(P<=m)return this;m=m>>>0,P=P===void 0?this.length:P>>>0,l||(l=0);let J;if(typeof l=="number")for(J=m;J<P;++J)this[J]=l;else{const rt=a.isBuffer(l)?l:a.from(l,W),Et=rt.length;if(Et===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(J=0;J<P-m;++J)this[J+m]=rt[J%Et]}return this};const St={};function At(C,l,m){St[C]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}At("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),At("ERR_INVALID_ARG_TYPE",function(C,l){return`The "${C}" argument must be of type number. Received type ${typeof l}`},TypeError),At("ERR_OUT_OF_RANGE",function(C,l,m){let P=`The value of "${C}" is out of range.`,W=m;return Number.isInteger(m)&&Math.abs(m)>2**32?W=jt(String(m)):typeof m=="bigint"&&(W=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(W=jt(W)),W+="n"),P+=` It must be ${l}. Received ${W}`,P},RangeError);function jt(C){let l="",m=C.length;const P=C[0]==="-"?1:0;for(;m>=P+4;m-=3)l=`_${C.slice(m-3,m)}${l}`;return`${C.slice(0,m)}${l}`}function Rt(C,l,m){Dt(l,"offset"),(C[l]===void 0||C[l+m]===void 0)&&x(l,C.length-(m+1))}function Mt(C,l,m,P,W,J){if(C>m||C<l){const rt=typeof l=="bigint"?"n":"";let Et;throw J>3?l===0||l===BigInt(0)?Et=`>= 0${rt} and < 2${rt} ** ${(J+1)*8}${rt}`:Et=`>= -(2${rt} ** ${(J+1)*8-1}${rt}) and < 2 ** ${(J+1)*8-1}${rt}`:Et=`>= ${l}${rt} and <= ${m}${rt}`,new St.ERR_OUT_OF_RANGE("value",Et,C)}Rt(P,W,J)}function Dt(C,l){if(typeof C!="number")throw new St.ERR_INVALID_ARG_TYPE(l,"number",C)}function x(C,l,m){throw Math.floor(C)!==C?(Dt(C,m),new St.ERR_OUT_OF_RANGE(m||"offset","an integer",C)):l<0?new St.ERR_BUFFER_OUT_OF_BOUNDS:new St.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${l}`,C)}const st=/[^+/0-9A-Za-z-_]/g;function it(C){if(C=C.split("=")[0],C=C.trim().replace(st,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function N(C,l){l=l||1/0;let m;const P=C.length;let W=null;const J=[];for(let rt=0;rt<P;++rt){if(m=C.charCodeAt(rt),m>55295&&m<57344){if(!W){if(m>56319){(l-=3)>-1&&J.push(239,191,189);continue}else if(rt+1===P){(l-=3)>-1&&J.push(239,191,189);continue}W=m;continue}if(m<56320){(l-=3)>-1&&J.push(239,191,189),W=m;continue}m=(W-55296<<10|m-56320)+65536}else W&&(l-=3)>-1&&J.push(239,191,189);if(W=null,m<128){if((l-=1)<0)break;J.push(m)}else if(m<2048){if((l-=2)<0)break;J.push(m>>6|192,m&63|128)}else if(m<65536){if((l-=3)<0)break;J.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((l-=4)<0)break;J.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return J}function R(C){const l=[];for(let m=0;m<C.length;++m)l.push(C.charCodeAt(m)&255);return l}function Y(C,l){let m,P,W;const J=[];for(let rt=0;rt<C.length&&!((l-=2)<0);++rt)m=C.charCodeAt(rt),P=m>>8,W=m%256,J.push(W),J.push(P);return J}function ft(C){return e.toByteArray(it(C))}function lt(C,l,m,P){let W;for(W=0;W<P&&!(W+m>=l.length||W>=C.length);++W)l[W+m]=C[W];return W}function q(C,l){return C instanceof l||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===l.name}function pt(C){return C!==C}const bt=function(){const C="0123456789abcdef",l=new Array(256);for(let m=0;m<16;++m){const P=m*16;for(let W=0;W<16;++W)l[P+W]=C[m]+C[W]}return l}();function dt(C){return typeof BigInt>"u"?_t:C}function _t(){throw new Error("BigInt not supported")}})(Tr);function gn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Yo(n){if(Array.isArray(n))return n}function Ko(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function De(n){var e,t,r,i=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(t&&(e=n[t])!=null)return e.call(n);if(r&&(e=n[r])!=null)return new $e(e.call(n));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function $e(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then(function(i){return{value:i,done:r}})}return $e=function(t){this.s=t,this.n=t.next},$e.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return r===void 0?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return r===void 0?Promise.reject(t):e(r.apply(this.s,arguments))}},new $e(n)}function bn(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(f){return void t(f)}a.done?e(u):Promise.resolve(u).then(r,i)}function gt(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){bn(o,r,i,s,a,"next",u)}function a(u){bn(o,r,i,s,a,"throw",u)}s(void 0)})}}function Vo(n,e,t){return e=Ge(e),Qo(n,gi()?Reflect.construct(e,[],Ge(n).constructor):e.apply(n,t))}function Jt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wn(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,bi(r.key),r)}}function Qt(n,e,t){return e&&wn(n.prototype,e),t&&wn(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ne(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=wi(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function Ze(n,e,t){return(e=bi(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ge(n){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(n)}function Xo(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Or(n,e)}function gi(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gi=function(){return!!n})()}function qo(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(d){f=!0,i=d}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return a}}function Jo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qo(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ko(n)}function X(){X=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(g,p,k){g[p]=k.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(g,p,k){return Object.defineProperty(g,p,{value:k,enumerable:!0,configurable:!0,writable:!0}),g[p]}try{f({},"")}catch{f=function(g,p,k){return g[p]=k}}function d(g,p,k,L){var I=p&&p.prototype instanceof w?p:w,O=Object.create(I.prototype),j=new S(L||[]);return i(O,"_invoke",{value:at(g,k,j)}),O}function c(g,p,k){try{return{type:"normal",arg:g.call(p,k)}}catch(L){return{type:"throw",arg:L}}}e.wrap=d;var h="suspendedStart",y="suspendedYield",_="executing",v="completed",b={};function w(){}function E(){}function A(){}var D={};f(D,s,function(){return this});var B=Object.getPrototypeOf,Z=B&&B(B(nt([])));Z&&Z!==t&&r.call(Z,s)&&(D=Z);var F=A.prototype=w.prototype=Object.create(D);function tt(g){["next","throw","return"].forEach(function(p){f(g,p,function(k){return this._invoke(p,k)})})}function K(g,p){function k(I,O,j,ot){var et=c(g[I],g,O);if(et.type!=="throw"){var ut=et.arg,kt=ut.value;return kt&&typeof kt=="object"&&r.call(kt,"__await")?p.resolve(kt.__await).then(function(wt){k("next",wt,j,ot)},function(wt){k("throw",wt,j,ot)}):p.resolve(kt).then(function(wt){ut.value=wt,j(ut)},function(wt){return k("throw",wt,j,ot)})}ot(et.arg)}var L;i(this,"_invoke",{value:function(I,O){function j(){return new p(function(ot,et){k(I,O,ot,et)})}return L=L?L.then(j,j):j()}})}function at(g,p,k){var L=h;return function(I,O){if(L===_)throw Error("Generator is already running");if(L===v){if(I==="throw")throw O;return{value:n,done:!0}}for(k.method=I,k.arg=O;;){var j=k.delegate;if(j){var ot=U(j,k);if(ot){if(ot===b)continue;return ot}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===h)throw L=v,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=_;var et=c(g,p,k);if(et.type==="normal"){if(L=k.done?v:y,et.arg===b)continue;return{value:et.arg,done:k.done}}et.type==="throw"&&(L=v,k.method="throw",k.arg=et.arg)}}}function U(g,p){var k=p.method,L=g.iterator[k];if(L===n)return p.delegate=null,k==="throw"&&g.iterator.return&&(p.method="return",p.arg=n,U(g,p),p.method==="throw")||k!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+k+"' method")),b;var I=c(L,g.iterator,p.arg);if(I.type==="throw")return p.method="throw",p.arg=I.arg,p.delegate=null,b;var O=I.arg;return O?O.done?(p[g.resultName]=O.value,p.next=g.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,b):O:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function M(g){var p={tryLoc:g[0]};1 in g&&(p.catchLoc=g[1]),2 in g&&(p.finallyLoc=g[2],p.afterLoc=g[3]),this.tryEntries.push(p)}function Q(g){var p=g.completion||{};p.type="normal",delete p.arg,g.completion=p}function S(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(M,this),this.reset(!0)}function nt(g){if(g||g===""){var p=g[s];if(p)return p.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var k=-1,L=function I(){for(;++k<g.length;)if(r.call(g,k))return I.value=g[k],I.done=!1,I;return I.value=n,I.done=!0,I};return L.next=L}}throw new TypeError(typeof g+" is not iterable")}return E.prototype=A,i(F,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:E,configurable:!0}),E.displayName=f(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(g){var p=typeof g=="function"&&g.constructor;return!!p&&(p===E||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,A):(g.__proto__=A,f(g,u,"GeneratorFunction")),g.prototype=Object.create(F),g},e.awrap=function(g){return{__await:g}},tt(K.prototype),f(K.prototype,a,function(){return this}),e.AsyncIterator=K,e.async=function(g,p,k,L,I){I===void 0&&(I=Promise);var O=new K(d(g,p,k,L),I);return e.isGeneratorFunction(p)?O:O.next().then(function(j){return j.done?j.value:O.next()})},tt(F),f(F,u,"Generator"),f(F,s,function(){return this}),f(F,"toString",function(){return"[object Generator]"}),e.keys=function(g){var p=Object(g),k=[];for(var L in p)k.push(L);return k.reverse(),function I(){for(;k.length;){var O=k.pop();if(O in p)return I.value=O,I.done=!1,I}return I.done=!0,I}},e.values=nt,S.prototype={constructor:S,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Q),!g)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=n)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function k(et,ut){return O.type="throw",O.arg=g,p.next=et,ut&&(p.method="next",p.arg=n),!!ut}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],O=I.completion;if(I.tryLoc==="root")return k("end");if(I.tryLoc<=this.prev){var j=r.call(I,"catchLoc"),ot=r.call(I,"finallyLoc");if(j&&ot){if(this.prev<I.catchLoc)return k(I.catchLoc,!0);if(this.prev<I.finallyLoc)return k(I.finallyLoc)}else if(j){if(this.prev<I.catchLoc)return k(I.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return k(I.finallyLoc)}}}},abrupt:function(g,p){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(g==="break"||g==="continue")&&I.tryLoc<=p&&p<=I.finallyLoc&&(I=null);var O=I?I.completion:{};return O.type=g,O.arg=p,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(O)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.finallyLoc===g)return this.complete(k.completion,k.afterLoc),Q(k),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.tryLoc===g){var L=k.completion;if(L.type==="throw"){var I=L.arg;Q(k)}return I}}throw Error("illegal catch attempt")},delegateYield:function(g,p,k){return this.delegate={iterator:nt(g),resultName:p,nextLoc:k},this.method==="next"&&(this.arg=n),b}},e}function Or(n,e){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Or(n,e)}function te(n,e){return Yo(n)||qo(n,e)||wi(n,e)||Jo()}function ts(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function bi(n){var e=ts(n,"string");return typeof e=="symbol"?e:e+""}function wi(n,e){if(n){if(typeof n=="string")return gn(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gn(n,e):void 0}}var ge=Bo;function es(n){if(n=$t(n),!n)return[[],""];var e=n.split("/");e[0]===""&&e.shift();var t=e.pop();return[e,t]}function $t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n=n.trim(),n=n.replace(/(^\/*)|(\/*$)/g,""),n=n.replace(/\/+/g,"/"),n?(n="/".concat(n),e?"".concat(n,"/"):n):"/"}function ee(n){return fe(n).parent}function rs(n){return ns(n,"/")}function ns(n,e){n=$t(n);var t=n.lastIndexOf(e);return t===-1?n:n.substring(t+1)}function Ye(n,e,t,r){var i=new Set(t),o={},s=ne(n),a;try{for(s.s();!(a=s.n()).done;){var u=a.value,f=(r==null?void 0:r[u])||u,d=fe(f),c=d.name,h=i.has(c)?is(c,i):c;i.add(h),o[u]=ge.join(e,h)}}catch(y){s.e(y)}finally{s.f()}return o}function is(n,e){for(;e.has(n);){var t=n.match(/(\((\d+)\))?(\..*)?$/);if(!t){n="".concat(n,"(1)");break}var r=te(t,3),i=r[0],o=r[1],s=r[2];if(!i)n="".concat(n,"(1)");else{var a="";s?a=i.replace(o,"(".concat(parseInt(s)+1,")")):a="(1)".concat(i),n=n.replace(i,a)}}return n}function as(n,e){n.endsWith("/")&&(n=n.substring(0,n.length-1));var t=new RegExp("^".concat(n,"/([^/]+)")),r=e.match(t);return r?"".concat(n,"/").concat(r[1]):""}var os="_$*%#@♧⊙";function $r(n){var e="".concat(n,"-").concat(os),t=He(e);return{data:t,length:t.byteLength}}var xi=function(){return $r("dir")},ss=xi(),_i=ss.data,ki=$r("link"),Wr=ki.data,Ei=ki.length;function Kt(n){return n?Ae(n,_i)?"dir":Si(n,Wr)?"link":"file":"empty"}function Si(n,e){var t=e.byteLength;return!!(n.byteLength>=t&&Ae(n.slice(0,t),e))}function Ce(n,e){if(n==="empty")return new Uint8Array([]);if(n==="dir")return bo(_i);var t=typeof e=="string"?He(n==="link"?$t(e):e):e;return n==="link"?er(Wr,t):t}function us(n){return Dr(n.slice(Ei))}var xn=function(){function n(){Jt(this,n)}return Qt(n,[{key:"init",value:function(){var e=gt(X().mark(function r(){var i,o,s,a,u;return X().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,navigator.permissions.query({name:"persistent-storage"});case 2:return f.next=4,navigator.storage.estimate();case 4:if(i=f.sent,o=i.usage,s=o===void 0?0:o,a=i.quota,u=a===void 0?0:a,!(s>=u)){f.next=11;break}throw new Error("存储空间不足");case 11:return f.next=13,navigator.storage.getDirectory();case 13:this.root=f.sent;case 14:case"end":return f.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=gt(X().mark(function r(i){var o,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getHandleByPath(i);case 2:if(o=a.sent,s=o.file,s){a.next=6;break}return a.abrupt("return",null);case 6:return a.abrupt("return",this._readFile(s));case 7:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"write",value:function(){var e=gt(X().mark(function r(i,o){var s,a;return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.getHandleByPath(i);case 2:if(s=u.sent,a=s.file,a){u.next=6;break}return u.abrupt("return",!1);case 6:return u.next=8,this._writeFile(a,o);case 8:return u.abrupt("return",!0);case 9:case"end":return u.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"_writeFile",value:function(){var e=gt(X().mark(function r(i,o){var s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.createWritable();case 2:return s=a.sent,a.next=5,s.write(o);case 5:return a.next=7,s.close();case 7:case"end":return a.stop()}},r)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"append",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f;return X().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.getHandleByPath(i);case 2:if(s=d.sent,a=s.file,a){d.next=6;break}return d.abrupt("return",!1);case 6:return d.next=8,a.createWritable();case 8:return u=d.sent,d.next=11,this._readFile(a);case 11:return f=d.sent,d.next=14,u.write(f);case 14:return d.next=16,u.write({type:"write",position:f.byteLength,data:o});case 16:return d.next=18,u.close();case 18:return d.abrupt("return",!0);case 19:case"end":return d.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.getParentByPath(i);case 2:if(o=c.sent,s=o.name,a=o.dir,a){c.next=7;break}return c.abrupt("return",!1);case 7:return c.next=9,ye(a.removeEntry(s,{recursive:!0}));case 9:return u=c.sent,f=te(u,2),d=f[1],c.abrupt("return",!d);case 13:case"end":return c.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"stat",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d,c,h,y=arguments;return X().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=y.length>1&&y[1]!==void 0?y[1]:!0,_.next=3,this.getHandleByPath(i);case 3:if(s=_.sent,a=s.type,u=s.file,f=s.dir,a!=="empty"){_.next=9;break}return _.abrupt("return",{size:0,type:a});case 9:if(d=0,a!=="file"){_.next=21;break}return _.next=13,u.getFile();case 13:return c=_.sent,d=c.size,_.next=17,this._isLinkFile(c);case 17:if(!_.sent){_.next=19;break}return _.abrupt("return",{type:"link",size:d});case 19:_.next=27;break;case 21:if(!o){_.next=27;break}return h=[],_.next=25,this.traverse(f,function(v){h.push(gt(X().mark(function b(){return X().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.t0=d,w.next=3,v.getFile();case 3:d=w.t0+=w.sent.size;case 4:case"end":return w.stop()}},b)}))())});case 25:return _.next=27,Promise.all(h);case 27:return _.abrupt("return",{type:a,size:d});case 28:case"end":return _.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"_isLinkFile",value:function(){var e=gt(X().mark(function r(i){var o,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=i.size,o!==Ei){a.next=9;break}return a.t0=Uint8Array,a.next=5,i.arrayBuffer();case 5:if(a.t1=a.sent,s=new a.t0(a.t1),!Ae(s,Wr)){a.next=9;break}return a.abrupt("return",!0);case 9:return a.abrupt("return",!1);case 10:case"end":return a.stop()}},r)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"traverse",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=!1,a=!1,h.prev=2,f=De(i.entries());case 4:return h.next=6,f.next();case 6:if(!(s=!(d=h.sent).done)){h.next=17;break}if(c=d.value,c[1].kind!=="directory"){h.next=13;break}return h.next=11,this.traverse(c[1],o);case 11:h.next=14;break;case 13:o(c[1],c[0]);case 14:s=!1,h.next=4;break;case 17:h.next=23;break;case 19:h.prev=19,h.t0=h.catch(2),a=!0,u=h.t0;case 23:if(h.prev=23,h.prev=24,!(s&&f.return!=null)){h.next=28;break}return h.next=28,f.return();case 28:if(h.prev=28,!a){h.next=31;break}throw u;case 31:return h.finish(28);case 32:return h.finish(23);case 33:case"end":return h.stop()}},r,this,[[2,19,23,33],[24,,28,32]])}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"traverseContent",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d=arguments;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=d.length>1&&d[1]!==void 0?d[1]:"",s=d.length>2&&d[2]!==void 0?d[2]:!0,o){c.next=6;break}a=this.root,c.next=13;break;case 6:return c.next=8,this.getHandleByPath(o);case 8:if(u=c.sent,f=u.dir,f){c.next=12;break}throw new Error("dir not found: ".concat(o));case 12:a=f;case 13:return c.next=15,this._traverseContent(o,a,i,s);case 15:case"end":return c.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"_traverseContent",value:function(){var e=gt(X().mark(function r(i,o,s,a){var u,f,d,c,h,y,_,v,b,w;return X().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:u=!1,f=!1,E.prev=2,c=De(o.entries());case 4:return E.next=6,c.next();case 6:if(!(u=!(h=E.sent).done)){E.next=22;break}if(y=h.value,_=te(y,2),v=_[0],b=_[1],w="".concat(i,"/").concat(v),b.kind!=="directory"){E.next=17;break}return E.next=13,s(w,Promise.resolve(null),v);case 13:return E.next=15,this._traverseContent(w,b,s,a);case 15:E.next=19;break;case 17:return E.next=19,s(w,a?this._readFile(b):Promise.resolve(null),v);case 19:u=!1,E.next=4;break;case 22:E.next=28;break;case 24:E.prev=24,E.t0=E.catch(2),f=!0,d=E.t0;case 28:if(E.prev=28,E.prev=29,!(u&&c.return!=null)){E.next=33;break}return E.next=33,c.return();case 33:if(E.prev=33,!f){E.next=36;break}throw d;case 36:return E.finish(33);case 37:return E.finish(28);case 38:case"end":return E.stop()}},r,this,[[2,24,28,38],[29,,33,37]])}));function t(r,i,o,s){return e.apply(this,arguments)}return t}()},{key:"exist",value:function(){var e=gt(X().mark(function r(i){var o,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getHandleByPath(i);case 2:return o=a.sent,s=o.type,a.abrupt("return",s!=="empty");case 5:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"ls",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d,c,h,y,_;return X().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.getHandleByPath(i);case 2:if(o=v.sent,s=o.type,a=o.dir,s==="dir"){v.next=7;break}return v.abrupt("return",null);case 7:u=[],f=!1,d=!1,v.prev=10,h=De(a.keys());case 12:return v.next=14,h.next();case 14:if(!(f=!(y=v.sent).done)){v.next=20;break}_=y.value,u.push(_);case 17:f=!1,v.next=12;break;case 20:v.next=26;break;case 22:v.prev=22,v.t0=v.catch(10),d=!0,c=v.t0;case 26:if(v.prev=26,v.prev=27,!(f&&h.return!=null)){v.next=31;break}return v.next=31,h.return();case 31:if(v.prev=31,!d){v.next=34;break}throw c;case 34:return v.finish(31);case 35:return v.finish(26);case 36:return v.abrupt("return",u);case 37:case"end":return v.stop()}},r,this,[[10,22,26,36],[27,,31,35]])}));function t(r){return e.apply(this,arguments)}return t}()},{key:"existInDir",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=!1,a=!1,h.prev=2,f=De(o.keys());case 4:return h.next=6,f.next();case 6:if(!(s=!(d=h.sent).done)){h.next=13;break}if(c=d.value,i!==c){h.next=10;break}return h.abrupt("return",!0);case 10:s=!1,h.next=4;break;case 13:h.next=19;break;case 15:h.prev=15,h.t0=h.catch(2),a=!0,u=h.t0;case 19:if(h.prev=19,h.prev=20,!(s&&f.return!=null)){h.next=24;break}return h.next=24,f.return();case 24:if(h.prev=24,!a){h.next=27;break}throw u;case 27:return h.finish(24);case 28:return h.finish(19);case 29:return h.abrupt("return",!1);case 30:case"end":return h.stop()}},r,null,[[2,15,19,29],[20,,24,28]])}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"createLink",value:function(){var e=gt(X().mark(function r(i,o){var s,a=arguments;return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=a.length>2&&a[2]!==void 0?a[2]:!1,u.abrupt("return",this.createFile(i,Ce("link",o),s));case 2:case"end":return u.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"createFile",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c=arguments;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=c.length>2&&c[2]!==void 0?c[2]:!1,h.next=3,this.clearTarget(i,s);case 3:if(a=h.sent,u=a.dir,f=a.name,u){h.next=8;break}return h.abrupt("return",!1);case 8:return h.next=10,u.getFileHandle(f,{create:!0});case 10:if(d=h.sent,!o){h.next=14;break}return h.next=14,this._writeFile(d,o);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"createDir",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f=arguments;return X().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=f.length>1&&f[1]!==void 0?f[1]:!1,d.next=3,this.clearTarget(i,o);case 3:if(s=d.sent,a=s.dir,u=s.name,a){d.next=8;break}return d.abrupt("return",!1);case 8:return d.next=10,a.getDirectoryHandle(u,{create:!0});case 10:return d.abrupt("return",!0);case 11:case"end":return d.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"clearTarget",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u;return X().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getParentByPath(i);case 2:if(s=f.sent,a=s.name,u=s.dir,u){f.next=7;break}return f.abrupt("return",{dir:null,name:a});case 7:return f.next=9,this.existInDir(a,u);case 9:if(!f.sent){f.next=16;break}if(!o){f.next=15;break}return f.next=13,u.removeEntry(a,{recursive:!0});case 13:f.next=16;break;case 15:return f.abrupt("return",{dir:null,name:a});case 16:return f.abrupt("return",{dir:u,name:a});case 17:case"end":return f.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"_readFile",value:function(){var e=gt(X().mark(function r(i){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.getFile();case 2:return o=s.sent,s.t0=Uint8Array,s.next=6,o.arrayBuffer();case 6:return s.t1=s.sent,s.abrupt("return",new s.t0(s.t1));case 8:case"end":return s.stop()}},r)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"getHandleByPath",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d,c,h,y,_,v;return X().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(i!=="/"){b.next=2;break}return b.abrupt("return",{type:"dir",dir:this.root});case 2:return b.next=4,this.getParentByPath(i);case 4:if(o=b.sent,s=o.name,a=o.dir,a){b.next=9;break}return b.abrupt("return",{type:"empty"});case 9:return b.next=11,ye(a.getFileHandle(s));case 11:if(u=b.sent,f=te(u,2),d=f[0],c=f[1],!c){b.next=27;break}return b.next=18,ye(a.getDirectoryHandle(s));case 18:if(h=b.sent,y=te(h,2),_=y[0],v=y[1],!v){b.next=24;break}return b.abrupt("return",{type:"empty"});case 24:return b.abrupt("return",{type:"dir",dir:_});case 27:return b.abrupt("return",{type:"file",file:d});case 28:case"end":return b.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"getParentByPath",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d,c,h,y,_,v,b;return X().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=es(i),s=te(o,2),a=s[0],u=s[1],u){w.next=3;break}return w.abrupt("return",{name:u});case 3:f=this.root,d=ne(a),w.prev=5,d.s();case 7:if((c=d.n()).done){w.next=20;break}return h=c.value,w.next=11,ye(f.getDirectoryHandle(h));case 11:if(y=w.sent,_=te(y,2),v=_[0],b=_[1],!b){w.next=17;break}return w.abrupt("return",{name:h});case 17:f=v;case 18:w.next=7;break;case 20:w.next=25;break;case 22:w.prev=22,w.t0=w.catch(5),d.e(w.t0);case 25:return w.prev=25,d.f(),w.finish(25);case 28:return w.abrupt("return",{name:u,dir:f});case 29:case"end":return w.stop()}},r,this,[[5,22,25,28]])}));function t(r){return e.apply(this,arguments)}return t}()},{key:"getType",value:function(){var e=gt(X().mark(function r(i){var o,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getHandleByPath(i);case 2:return o=a.sent,s=o.type,a.abrupt("return",s);case 5:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()}],[{key:"Supported",value:function(){return typeof navigator.storage<"u"&&typeof FileSystemWritableFileStream<"u"}}])}(),_n=function(){function n(){Jt(this,n)}return Qt(n,[{key:"traverseContent",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d,c=arguments;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=c.length>1&&c[1]!==void 0?c[1]:"",s=c.length>2&&c[2]!==void 0?c[2]:!0,h.next=4,Wt.keys();case 4:a=h.sent,u=ne(a);try{for(u.s();!(f=u.n()).done;)d=f.value,d.startsWith(o)&&i(d,s?Wt.getItem(d):Promise.resolve(null),fe(d).name)}catch(y){u.e(y)}finally{u.f()}case 7:case"end":return h.stop()}},r)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=gt(X().mark(function r(){return X().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Wt.ready();case 2:case"end":return i.stop()}},r)}));function t(){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=gt(X().mark(function r(i){var o,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Wt.getItem($t(i));case 2:if(o=a.sent,s=Kt(o),!(s==="empty"||s==="dir")){a.next=6;break}return a.abrupt("return",null);case 6:return a.abrupt("return",o);case 7:case"end":return a.stop()}},r)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"write",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u;return X().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,ye(Wt.setItem($t(i),o));case 2:return s=f.sent,a=te(s,2),u=a[1],f.abrupt("return",!u);case 6:case"end":return f.stop()}},r)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"append",value:function(){var e=gt(X().mark(function r(i,o){var s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=$t(i),a.next=3,this.read(i);case 3:if(s=a.sent,s){a.next=6;break}return a.abrupt("return",!1);case 6:return a.abrupt("return",this.write(i,er(s,o)));case 7:case"end":return a.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=$t(i),c.next=3,this.read($t(i));case 3:if(o=c.sent,s=Kt(o),s!=="empty"){c.next=7;break}return c.abrupt("return",!1);case 7:return c.next=9,ye(Wt.removeItem(i));case 9:if(a=c.sent,u=te(a,2),f=u[1],f){c.next=14;break}return c.abrupt("return",!f);case 14:if(s!=="file"){c.next=16;break}return c.abrupt("return",!0);case 16:return d=[],c.next=19,this.traverse(i,function(h){var y=h.path;d.push(Wt.removeItem(y))});case 19:return c.next=21,Promise.all(d);case 21:return c.abrupt("return",!0);case 22:case"end":return c.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"stat",value:function(){var e=gt(X().mark(function r(i,o){var s=this,a,u,f,d;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=$t(i),c.next=3,this.read(i);case 3:if(a=c.sent,u=Kt(a),u!=="empty"){c.next=7;break}return c.abrupt("return",{size:0,type:u});case 7:if(!(u==="file"||u==="link")){c.next=9;break}return c.abrupt("return",{size:a.byteLength,type:u});case 9:if(o){c.next=11;break}return c.abrupt("return",{size:0,type:u});case 11:return f=0,d=[],c.next=15,this.traverse(i,function(h){var y=h.path;d.push(gt(X().mark(function _(){return X().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.t0=f,v.next=3,s.stat(y,o);case 3:f=v.t0+=v.sent.size;case 4:case"end":return v.stop()}},_)}))())});case 15:return c.next=17,Promise.all(d);case 17:return c.abrupt("return",{size:f,type:u});case 18:case"end":return c.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"exist",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.read($t(i));case 2:return o.abrupt("return",!!o.sent);case 3:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"ls",value:function(){var e=gt(X().mark(function r(i){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=[],s.next=3,this.traverse(i,function(a){var u=a.parent,f=a.name;u===i&&o.push(f)});case 3:return s.abrupt("return",o);case 4:case"end":return s.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"createFile",value:function(){var e=gt(X().mark(function r(i){var o,s,a=arguments;return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o=a.length>1&&a[1]!==void 0?a[1]:new Uint8Array([]),s=a.length>2&&a[2]!==void 0?a[2]:!1,s){u.next=7;break}return u.next=5,this.exist(i);case 5:if(!u.sent){u.next=7;break}return u.abrupt("return",!1);case 7:return u.next=9,this.write(i,o);case 9:return u.abrupt("return",!0);case 10:case"end":return u.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"createDir",value:function(){var e=gt(X().mark(function r(i,o){var s=this,a;return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=$t(i),u.next=3,this.exist(i);case 3:if(!u.sent){u.next=11;break}if(o){u.next=6;break}return u.abrupt("return",!1);case 6:return a=[],u.next=9,this.traverse(i,function(f){var d=f.path;a.push(s.remove(d))});case 9:return u.next=11,Promise.all(a);case 11:return u.next=13,this.write(i,Ce("dir"));case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"traverse",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Wt.keys();case 2:s=c.sent,a=$t(i,!0),u=ne(s);try{for(u.s();!(f=u.n()).done;)d=f.value,d.startsWith(a)&&o(fe(d))}catch(h){u.e(h)}finally{u.f()}case 6:case"end":return c.stop()}},r)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"getType",value:function(){var e=gt(X().mark(function r(i){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.read(i);case 2:return o=s.sent,s.abrupt("return",Kt(o));case 4:case"end":return s.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()}],[{key:"Supported",value:function(){return!0}}])}(),le=Ci(),ze=Ci(!0);function Ci(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(e,t,r){var i=r.value;r.value=function(){for(var o=this,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];var f=this.fmtPath(a[0]||""),d=function(v){return a[0]=v||f,i.apply(o,a)};if(n){var c=this._link.getSync(f);return d(c)}else{var h=ii(),y=h.ready,_=h.resolve;return this._link.get(f).then(function(v){return d(v)}).then(function(v){_(v)}),y}}}}var cs=function(){function n(e,t){Jt(this,n),this.backend=e,this.syncMiddleware=t}return Qt(n,[{key:"get",value:function(){var e=gt(X().mark(function r(i,o){var s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=o,a.t0){a.next=5;break}return a.next=4,this.backend.read(i);case 4:a.t0=a.sent;case 5:return s=a.t0,a.abrupt("return",this._get(s));case 7:case"end":return a.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"getSync",value:function(e,t){var r,i=t||((r=this.syncMiddleware)===null||r===void 0?void 0:r.read(e));return this._get(i)}},{key:"_get",value:function(e){var t=Kt(e);return t==="link"?us(e):""}}])}(),fs=$r("zip"),mr=fs.data,ls=function(){function n(e){Jt(this,n),this.disk=e}return Qt(n,[{key:"zip",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d,c,h,y,_,v,b,w,E=arguments;return X().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:o=E.length>1&&E[1]!==void 0?E[1]:"compress.zip",o=this.disk.fmtPath(o),s=new vn,a=hn(),u=a.add,f=a.run,d=ne(i);try{for(d.s();!(c=d.n()).done;)h=c.value,h=this.disk.fmtPath(h),u(this.zipSingleFile(s,h))}catch(D){d.e(D)}finally{d.f()}return A.next=8,f();case 8:if(y=A.sent,y.find(function(D){return D})){A.next=11;break}return A.abrupt("return",{success:!1,info:"zip fail: no files"});case 11:return A.next=13,s.generateAsync({type:"uint8array"});case 13:return _=A.sent,v=fe(o),b=v.parent,A.t0=Ye,A.t1=[o],A.t2=b,A.next=20,this.disk.ls(b);case 20:if(A.t3=A.sent,A.t3){A.next=23;break}A.t3=[];case 23:return A.t4=A.t3,w=(0,A.t0)(A.t1,A.t2,A.t4),A.next=27,this.disk.createFile(w[o],er(mr,_));case 27:return A.abrupt("return",{success:!0,info:w[o]});case 28:case"end":return A.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"zipSingleFile",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c,h,y,_,v,b;return X().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.disk.getType(o);case 2:if(s=w.sent,s!=="empty"){w.next=5;break}return w.abrupt("return",!1);case 5:if(s!=="dir"){w.next=23;break}if(a=i.folder(o),a){w.next=9;break}return w.abrupt("return",!1);case 9:return w.next=11,this.disk.ls(o);case 11:if(w.t0=w.sent,w.t0){w.next=14;break}w.t0=[];case 14:u=w.t0,u=u.map(function(E){return ge.join(o,E)}),f=hn(),d=f.add,c=f.run,h=ne(u);try{for(h.s();!(y=h.n()).done;)_=y.value,d(this.zipSingleFile(a,_))}catch(E){h.e(E)}finally{h.f()}return w.next=21,c();case 21:w.next=30;break;case 23:return w.next=25,this.disk.read(o);case 25:if(v=w.sent,v){w.next=28;break}return w.abrupt("return",!1);case 28:b=o.replace(i.root,""),i.file(b,v,{binary:!0});case 30:return w.abrupt("return",!0);case 31:case"end":return w.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"unzip",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c,h,y,_,v,b,w,E,A,D,B,Z;return X().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.disk.read(i);case 2:if(s=F.sent,a=this.getZipData(s),a){F.next=6;break}return F.abrupt("return",[]);case 6:return i=this.disk.fmtPath(i),F.next=9,this.unzipU8Arr(a);case 9:u=F.sent,o=o?this.disk.fmtPath(o):this.disk.current,f=new Set,d={},c=ne(u);try{for(c.s();!(h=c.n()).done;)y=h.value,_=as(o,y.path),_&&(d[y.path]=_,f.add(_))}catch(tt){c.e(tt)}finally{c.f()}return F.t0=Ye,F.t1=Array.from(f),F.t2=o,F.next=20,this.disk.ls(o);case 20:if(F.t3=F.sent,F.t3){F.next=23;break}F.t3=[];case 23:F.t4=F.t3,v=(0,F.t0)(F.t1,F.t2,F.t4),b=[],w=ne(u),F.prev=27,w.s();case 29:if((E=w.n()).done){F.next=44;break}if(A=E.value,D=A.path,B=d[A.path],B&&(Z=v[B],Z&&(D=D.replace(B,Z))),!A.isDir){F.next=40;break}return b.push({path:D,isDir:!0}),F.next=38,this.disk.createDir(D);case 38:F.next=42;break;case 40:b.push({path:D,isDir:!1}),this.disk.createFile(D,A.data);case 42:F.next=29;break;case 44:F.next=49;break;case 46:F.prev=46,F.t5=F.catch(27),w.e(F.t5);case 49:return F.prev=49,w.f(),F.finish(49);case 52:return F.abrupt("return",b);case 53:case"end":return F.stop()}},r,this,[[27,46,49,52]])}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"unzipU8Arr",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c,h,y,_;return X().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,vn.loadAsync(i);case 2:s=v.sent,a=0,u=s.files,f=Object.keys(u).length,d=[],v.t0=X().keys(s.files);case 8:if((v.t1=v.t0()).done){v.next=20;break}return c=v.t1.value,h=s.files[c],v.next=13,h.async("uint8array");case 13:y=v.sent,a++,_={curName:h.name,count:a,curIndex:a,curSize:f,data:y,path:c,isDir:h.dir},o==null||o(_),d.push(_),v.next=8;break;case 20:return v.abrupt("return",d);case 21:case"end":return v.stop()}},r)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"isZip",value:function(){var e=gt(X().mark(function r(i){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.disk.read(i);case 2:if(o=s.sent,o){s.next=5;break}return s.abrupt("return",!1);case 5:return s.abrupt("return",this.isZipData(o));case 6:case"end":return s.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"isZipData",value:function(e){return Si(e,mr)}},{key:"getZipData",value:function(e){return e&&this.isZipData(e)?e.slice(mr.byteLength):null}}])}(),ue=function(n){return n[n.Create=0]="Create",n[n.Remove=1]="Remove",n[n.Change=2]="Change",n}(ue||{}),kn=function(n){function e(t){var r,i=t.watch,o=t.options,s=t.callback,a=t.path;return Jt(this,e),r=Vo(this,e),i&&(r.options=Object.assign({persistent:!0,recursive:!1,encoding:"utf8"},o),r.watch=i,r.callback=s,r.path=a),r}return Xo(e,n),Qt(e,[{key:"close",value:function(){var t=this.watch.watchers.indexOf(this);t>-1&&this.watch.watchers.splice(t,1),this.removeAllListeners()}},{key:"checkChange",value:function(t,r){var i=this.options,o=i.recursive,s=i.encoding,a=o?t.startsWith(this.path):t===this.path;if(a){var u=t.replace(this.path,""),f=s==="buffer"?Tr.Buffer.from(u):Tr.Buffer.from(u,s).toString();this.emit("change",r,f),this.callback(r,f)}}}],[{key:"empty",value:function(){return new e({})}}])}(mi.EventEmitter),hs=function(){function n(e){Jt(this,n),this.disk=e,this.events=new mi.EventEmitter,this.watchers=[],this.fileWatchers={}}return Qt(n,[{key:"fireRename",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r&&this.events.emit("watch",{type:t?ue.Remove:ue.Create,path:e}),this.watchers.forEach(function(i){i.checkChange(e,"rename")})}},{key:"fireChange",value:function(){var e=gt(X().mark(function r(i){var o=this,s,a,u,f,d=arguments;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s=d.length>1&&d[1]!==void 0?d[1]:!0,s&&this.events.emit("watch",{type:ue.Change,path:i}),a=this.fileWatchers[i],u=null,!(a&&a.length>0)){c.next=9;break}return c.next=7,this.disk.stat(i);case 7:f=c.sent,u=function(){a.forEach(function(){var h=gt(X().mark(function y(_){return X().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.t0=_,v.next=3,o.disk.stat(i);case 3:return v.t1=v.sent,v.t2=f,v.abrupt("return",(0,v.t0)(v.t1,v.t2));case 6:case"end":return v.stop()}},y)}));return function(y){return h.apply(this,arguments)}}())};case 9:return this.watchers.forEach(function(h){h.checkChange(i,"change")}),c.abrupt("return",u);case 11:case"end":return c.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"fireChangeSync",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r&&this.events.emit("watch",{type:ue.Change,path:e});var i=this.fileWatchers[e],o=null;if(i&&i.length>0){var s=this.disk._sync.stat(e);o=function(){i.forEach(function(a){return a(t.disk._sync.stat(e),s)})}}return this.watchers.forEach(function(a){a.checkChange(e,"change")}),o}},{key:"watch",value:function(e,t,r){if(e=this.disk.fmtPath(e),typeof t=="function"?(r=t,t={}):typeof t=="string"&&(t={encoding:t}),t.persistent===!1&&this.watchers.find(function(o){return o.path===e}))return kn.empty();var i=new kn({watch:this,options:t,callback:r,path:e});return this.watchers.push(i),i}},{key:"watchFile",value:function(e,t,r){e=this.disk.fmtPath(e),typeof t=="function"&&(r=t,t={});var i=t,o=i.persistent,s=o===void 0?!0:o;s&&this.fileWatchers[e]||(this.fileWatchers[e]||(this.fileWatchers[e]=[]),this.fileWatchers[e].push(r))}},{key:"unwatchFile",value:function(e,t){e=this.disk.fmtPath(e);var r=this.fileWatchers[e];if(r)if(!t)delete this.fileWatchers[e];else{var i=r.indexOf(t);i>-1&&r.splice(i,1),r.length===0&&delete this.fileWatchers[e]}}}])}(),ds=function(){function n(){Jt(this,n),this.fileMap={}}return Qt(n,[{key:"init",value:function(){var e=gt(X().mark(function r(i){var o=this,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=[],a.next=3,i.traverseContent(function(u,f){s.push(gt(X().mark(function d(){var c;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,f;case 2:c=h.sent,o.fileMap[u]=c||xi().data;case 4:case"end":return h.stop()}},d)}))())});case 3:return a.next=5,Promise.all(s);case 5:case"end":return a.stop()}},r)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"read",value:function(e){var t=this.fileMap[e],r=Kt(t);return r==="empty"||r==="dir"?null:t}},{key:"pureRead",value:function(e){return this.fileMap[e]}},{key:"write",value:function(e,t){return this.fileMap[e]=t,!0}},{key:"append",value:function(e,t){if(e in this.fileMap)return!1;var r=this.read(e);if(!r)throw new Error("file not found");return this.write(e,er(r,t))}},{key:"remove",value:function(e,t){var r=this,i=this.getType(e);return i==="empty"||!(e in this.fileMap)?!1:(this._removeSingle(e,t),i==="file"||this.traverse(e,function(o){var s=o.path;r._removeSingle(s,t)}),!0)}},{key:"_removeSingle",value:function(e,t){delete this.fileMap[e],t==null||t(e)}},{key:"stat",value:function(e,t){var r=this,i=this.fileMap[e],o=Kt(i);if(o==="empty")return{size:0,type:o};if(o==="file"||o==="link")return{size:i.byteLength,type:o};if(!t)return{size:0,type:o};var s=0;return this.traverse(e,function(a){var u=a.path,f=r.fileMap[u],d=Kt(f);d==="file"&&(s+=f.byteLength)}),{size:s,type:o}}},{key:"exist",value:function(e){return e in this.fileMap}},{key:"ls",value:function(e){var t=[];return this.traverse(e,function(r){var i=r.parent,o=r.name;i===e&&t.push(o)}),t}},{key:"createFile",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Uint8Array([]),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!r&&this.exist(e)?!1:(this.write(e,t),!0)}},{key:"createDir",value:function(e,t){var r=this;if(this.exist(e)){if(!t)return!1;this.traverse(e,function(i){var o=i.path;r.remove(o)})}return this.write(e,Ce("dir")),!0}},{key:"getType",value:function(e){var t=this.fileMap[e];return Kt(t)}},{key:"traverse",value:function(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=Object.keys(this.fileMap),o=$t(e,!r),s=0,a=i;s<a.length;s++){var u=a[s];u.startsWith(o)&&t(fe(u))}}},{key:"traverseContent",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";this.traverse(r,function(i){var o=i.path;e(o,t.read(o))})}}])}(),ps=Object.defineProperty,vs=Object.getOwnPropertyDescriptor,Fe=function(n,e,t,r){for(var i=vs(e,t),o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=s(e,t,i)||i);return i&&ps(e,t,i),i},be=function(){function n(e){Jt(this,n),this.syncMiddleware=new ds,this.disk=e}return Qt(n,[{key:"init",value:function(){var e=gt(X().mark(function r(){return X().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.syncMiddleware.init(this.backend);case 2:case"end":return i.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"fmtPath",value:function(e){return this.disk.fmtPath(e)}},{key:"_link",get:function(){return this.disk._link}},{key:"_watch",get:function(){return this.disk._watch}},{key:"backend",get:function(){return this.disk.backend}},{key:"size",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"/";return this.syncMiddleware.stat(this.fmtPath(e)).size}},{key:"cd",value:function(e){return e=this.fmtPath(e),this.isDir(e)?(this.disk.current=e,!0):!1}},{key:"isDir",value:function(e){return e=this.fmtPath(e),e==="/"||this.getType(e)==="dir"}},{key:"getType",value:function(e){return this.syncMiddleware.getType(this.fmtPath(e))}},{key:"pwd",value:function(){return this.disk.current}},{key:"copy",value:function(e){return this.disk.copy(e),!0}},{key:"cut",value:function(e){return this.disk.cut(e),!0}},{key:"move",value:function(e,t,r){var i=this.fmtPath(t),o=this.fmtPath(e),s=ee(i);return this.pasteBase(s,{paths:[o],active:!0,isCut:!0},Ze({},o,i),function(a){r==null||r(a[o])})}},{key:"rename",value:function(e,t,r){e=this.fmtPath(e);var i=ee(e),o=ge.join(i,t);return this.pasteBase(i,{paths:[e],active:!0,isCut:!0},Ze({},e,o),function(s){r==null||r(s[e])})}},{key:"paste",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=this.pasteBase(e,this.disk.clipboard,t,r);return!i&&this.disk.clipboard.isCut&&(this.disk.clipboard={paths:[],active:!1,isCut:!1}),i}},{key:"pasteBase",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!t.active)return"No Copy Files";var o=this.ls(e),s=o||[],a=t.isCut,u=t.paths,f=Ye(u,this.fmtPath(e),s,r);i==null||i(f);var d=[];for(var c in f){var h=c,y=f[h];this.copySingle(h,y)?a&&this.remove(h):d.push(h)}return d.length>0?"Copy Failed: ".concat(d.join(", ")):""}},{key:"ls",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e=this.fmtPath(e),this.isDir(e)?this.syncMiddleware.ls(e):null}},{key:"remove",value:function(e){var t=this;return e=this.fmtPath(e),this.backend.remove(e),this.syncMiddleware.remove(e,function(r){t._watch.fireRename(r,!0)})}},{key:"clear",value:function(){var e=this,t=this.ls("/");!t||t.length===0||(t.forEach(function(r){e.remove(ge.join("/",r))}),this.cd("/"))}},{key:"copySingle",value:function(e,t){var r=this,i=this.read(e),o="empty";if(i?o=Kt(i):o=this.isDir(e)?"dir":"empty",o==="empty")return!1;if(o==="file"||o==="link")return this.createFile(t,i,{ensure:!0});var s=[],a=!0,u=function(f,d,c){var h={ensure:!0},y=function(){return Promise.resolve(!0)},_=r._create(f,c||void 0,h,d==="dir",function(v){y=v});if(r.createFile(f,c||void 0,h),!_)throw a=!1,new Error("create fail: ".concat(f));return s.push(y),_};return u(t,"dir"),this.syncMiddleware.traverseContent(function(f,d){var c=f.replace(e,t);u(c,d?"file":"dir",d)},e),ai(s),a}},{key:"traverseContent",value:function(e,t){return this.syncMiddleware.traverseContent(function(r,i){t(r,i,rs(r))},e)}},{key:"traverse",value:function(e,t){return this.syncMiddleware.traverse(e,t)}},{key:"read",value:function(e){return this.syncMiddleware.read(e)}},{key:"readText",value:function(e){var t=this.syncMiddleware.read(e);return t?Dr(t):""}},{key:"write",value:function(e,t){e=this.fmtPath(e);var r=this.syncMiddleware.pureRead(e);if(Ae(t,r))return!0;if(!this.exist(e))return this.createFile(e,t);var i=this._watch.fireChangeSync(e),o=this.syncMiddleware.write(e,t);return o?(this.backend.write(e,t),i==null||i(),!0):!1}},{key:"append",value:function(e,t){if(e=this.fmtPath(e),!this.exist(e))return this.createFile(e,t);var r=this._watch.fireChangeSync(e),i=this.syncMiddleware.append(e,t);return i?(this.backend.append(e,t),r==null||r(),!0):!1}},{key:"exist",value:function(e){return e=this.fmtPath(e),e==="/"?!0:this.syncMiddleware.exist(e)}},{key:"stat",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return this.disk._transStat(this.syncMiddleware.stat(this.fmtPath(e),t))}},{key:"createFile",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._create(e,t,r)}},{key:"createDir",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._create(e,void 0,t,!0)}},{key:"createLink",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.createFile(e,Ce("link",t),r)}},{key:"_create",value:function(e,t){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.overwrite,s=i.ensure,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=arguments.length>4?arguments[4]:void 0;e=this.fmtPath(e);var f=ee(e);if(!s&&!this.exist(f))return!1;var d=s?this.ensureParentPath(e):null,c=a?this.syncMiddleware.createDir(e,o):this.syncMiddleware.createFile(e,t,o);if(!c)return!1;this._watch.fireRename(e);var h=function(){var y=gt(X().mark(function _(){return X().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!s){v.next=3;break}return v.next=3,d;case 3:return v.abrupt("return",a?r.backend.createDir(e,o):r.backend.createFile(e,t,o));case 4:case"end":return v.stop()}},_)}));return function(){return y.apply(this,arguments)}}();return u?u(h):h(),!0}},{key:"ensureParentPath",value:function(e){return this._ensureParentPath(e),this.disk._ensureParentPath(e)}},{key:"_ensureParentPath",value:function(e){e=ee(e),!this.exist(e)&&(this._ensureParentPath(e),this._create(e,void 0,{},!0,function(){}))}}])}();Fe([ze],be.prototype,"ls");Fe([ze],be.prototype,"read");Fe([ze],be.prototype,"readText");Fe([ze],be.prototype,"write");Fe([ze],be.prototype,"append");var En=500,Ue=function(){var n="webos_fs_update_info",e=Wt.createInstance({name:"sync-manager",driver:Wt.INDEXEDDB}),t=Math.random().toString(16).substring(2),r=function(i){return e.setItem(n,i)};return{id:t,writeData:function(i){return gt(X().mark(function o(){return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r(i);case 2:case"end":return s.stop()}},o)}))()},writeChanges:function(i){var o=this;return gt(X().mark(function s(){var a,u,f;return X().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,o.read();case 2:return a=d.sent,u={time:Date.now(),id:t,changes:i},a.length===0?a.push(u):(f=a.findIndex(function(c){return c.time>u.time}),f===-1?a.push(u):a.splice(f,0,u)),d.next=7,r(a);case 7:case"end":return d.stop()}},s)}))()},read:function(){return gt(X().mark(function i(){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.getItem(n);case 2:if(o=s.sent,Array.isArray(o)){s.next=5;break}return s.abrupt("return",[]);case 5:return s.abrupt("return",o);case 6:case"end":return s.stop()}},i)}))()}}}(),ms=function(){function n(e){Jt(this,n),this.tempChange={},this.lastOprateId="",this.disk=e}return Qt(n,[{key:"init",value:function(){var e=this;this.timer=setInterval(gt(X().mark(function r(){return X().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.checkUpdate();case 2:return i.next=4,e.checkWriteChange();case 4:case"end":return i.stop()}},r)})),En);var t=function(r){var i=r.path,o=r.type;e.tempChange[i]=o};this.disk._watch.events.on("watch",t),this.offWatch=function(){e.disk._watch.events.off("watch",t)}}},{key:"sync",get:function(){var e;return(e=this.disk._sync)===null||e===void 0?void 0:e.syncMiddleware}},{key:"checkUpdate",value:function(){var e=gt(X().mark(function r(){var i,o,s,a,u,f,d,c;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Ue.read();case 2:if(i=h.sent,i.length!==0){h.next=5;break}return h.abrupt("return");case 5:o=[],s=Date.now(),a=function(y){return s-y>En*2},u={},f=0;case 10:if(!(f<i.length)){h.next=21;break}if(d=i[f],!a(d.time)){h.next=15;break}return o.push(f),h.abrupt("continue",18);case 15:if(d.id!==Ue.id){h.next=17;break}return h.abrupt("continue",18);case 17:Object.assign(u,d.changes);case 18:f++,h.next=10;break;case 21:if(!o.length){h.next=25;break}for(c=o.length-1;c>=0;c--)i.splice(o[c],1);return h.next=25,Ue.writeData(i);case 25:this.useChanges(u);case 26:case"end":return h.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"writeFile",value:function(){var e=gt(X().mark(function r(i){var o,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.disk.enableSync){a.next=2;break}return a.abrupt("return",!0);case 2:return a.next=4,this.disk.read(i);case 4:if(o=a.sent,!o){a.next=11;break}if(s=this.sync.pureRead(i),!Ae(o,s)){a.next=9;break}return a.abrupt("return",!1);case 9:return this.sync.write(i,o),a.abrupt("return",!0);case 11:return a.abrupt("return",!1);case 12:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"useChanges",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u,f,d;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(Object.keys(i).length!==0){c.next=2;break}return c.abrupt("return");case 2:o=Object.keys(i).sort(function(h,y){return h.length-y.length}),s=ne(o),c.prev=4,s.s();case 6:if((a=s.n()).done){c.next=36;break}u=a.value,f=i[u],c.t0=f,c.next=c.t0===ue.Change?12:c.t0===ue.Remove?20:c.t0===ue.Create?26:33;break;case 12:return c.next=14,this.disk.exist(u);case 14:if(!c.sent){c.next=19;break}return c.next=17,this.writeFile(u);case 17:if(!c.sent){c.next=19;break}this.disk._watch.fireChangeSync(u,!1);case 19:return c.abrupt("break",34);case 20:return c.next=22,this.disk.exist(u);case 22:if(!c.sent){c.next=25;break}(d=this.sync)===null||d===void 0||d.remove(u),this.disk._watch.fireRename(u,!0,!1);case 25:return c.abrupt("break",34);case 26:return c.next=28,this.disk.exist(u);case 28:if(c.sent){c.next=32;break}return c.next=31,this.writeFile(u);case 31:this.disk._watch.fireRename(u,!1,!1);case 32:return c.abrupt("break",34);case 33:return c.abrupt("break",34);case 34:c.next=6;break;case 36:c.next=41;break;case 38:c.prev=38,c.t1=c.catch(4),s.e(c.t1);case 41:return c.prev=41,s.f(),c.finish(41);case 44:case"end":return c.stop()}},r,this,[[4,38,41,44]])}));function t(r){return e.apply(this,arguments)}return t}()},{key:"checkWriteChange",value:function(){var e=gt(X().mark(function r(){return X().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(Object.keys(this.tempChange).length!==0){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Ue.writeChanges(this.tempChange);case 4:this.tempChange={};case 5:case"end":return i.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){clearInterval(this.timer),this.offWatch()}}])}(),ys=Object.defineProperty,gs=Object.getOwnPropertyDescriptor,he=function(n,e,t,r){for(var i=gs(e,t),o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=s(e,t,i)||i);return i&&ys(e,t,i),i},ae=function(){function n(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.enableSync,i=r===void 0?!1:r;if(Jt(this,n),this.current="/",this.clipboard={paths:[],isCut:!1,active:!1},n.instance)return n.instance._initSyncAlone(i),n.instance;if(n.instance=this,this.enableSync=i,xn.Supported())this.backend=new xn;else if(_n.Supported())this.backend=new _n;else throw new Error("No supported storage backend");this.enableSync&&(this._sync=new be(this)),this._link=new cs(this.backend,(e=this._sync)===null||e===void 0?void 0:e.syncMiddleware),this._zip=new ls(this),this._watch=new hs(this),this._update=new ms(this),this._update.init(),this.ready=this.init()}return Qt(n,[{key:"sync",get:function(){return this._sync}},{key:"initSync",value:function(){return this._initSyncAlone(!0)}},{key:"_initSyncAlone",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(i&&!this.enableSync)){o.next=6;break}return this.enableSync=i,this._sync=new be(this),this.ready=this._sync.init(),o.next=6,this.ready;case 6:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=gt(X().mark(function r(){var i;return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.backend.init();case 2:return o.next=4,(i=this._sync)===null||i===void 0?void 0:i.init();case 4:case"end":return o.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"fmtPath",value:function(e){return e=e.trim(),e[0]==="/"?$t(e):ge.join(this.current,$t(e))}},{key:"size",value:function(){var e=gt(X().mark(function r(){var i,o=arguments;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=o.length>0&&o[0]!==void 0?o[0]:"/",s.next=3,this.backend.stat(this.fmtPath(i));case 3:return s.abrupt("return",s.sent.size);case 4:case"end":return s.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cd",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.fmtPath(i),o.next=3,this.isDir(i);case 3:if(o.sent){o.next=5;break}return o.abrupt("return",!1);case 5:return this.current=i,o.abrupt("return",!0);case 7:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"isDir",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this.fmtPath(i),o.t0=i==="/",o.t0){o.next=7;break}return o.next=5,this.getType(i);case 5:o.t1=o.sent,o.t0=o.t1==="dir";case 7:return o.abrupt("return",o.t0);case 8:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"getType",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.fmtPath(i),o.abrupt("return",this.backend.getType(i));case 2:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"pwd",value:function(){return this.current}},{key:"copy",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this._addToClipboard(i));case 1:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"cut",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this._addToClipboard(i,!0));case 1:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"_addToClipboard",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof e=="string"&&(e=[e]),this.clipboard={paths:e.map(function(i){return t.fmtPath(i)}),active:!0,isCut:r},!0}},{key:"move",value:function(e,t,r){var i=this.fmtPath(t),o=this.fmtPath(e),s=ee(i);return this.pasteBase(s,{paths:[o],active:!0,isCut:!0},Ze({},o,i),function(a){r==null||r(a[o])})}},{key:"rename",value:function(e,t,r){e=this.fmtPath(e);var i=ee(e),o=ge.join(i,t);return this.pasteBase(i,{paths:[e],active:!0,isCut:!0},Ze({},e,o),function(s){r==null||r(s[e])})}},{key:"paste",value:function(){var e=gt(X().mark(function r(i){var o,s,a,u=arguments;return X().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=u.length>1&&u[1]!==void 0?u[1]:{},s=u.length>2?u[2]:void 0,f.next=4,this.pasteBase(i,this.clipboard,o,s);case 4:return a=f.sent,!a&&this.clipboard.isCut&&(this.clipboard={paths:[],active:!1,isCut:!1}),f.abrupt("return",a);case 7:case"end":return f.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"pasteBase",value:function(){var e=gt(X().mark(function r(i,o){var s=this,a,u,f,d,c,h,y,_,v,b,w,E=arguments;return X().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(a=E.length>2&&E[2]!==void 0?E[2]:{},u=E.length>3?E[3]:void 0,o.active){A.next=4;break}return A.abrupt("return","No Copy Files");case 4:return A.next=6,this.ls(i);case 6:f=A.sent,d=f||[],c=o.isCut,h=o.paths,y=Ye(h,this.fmtPath(i),d,a),u==null||u(y),_=[],v=[],b=X().mark(function D(B){return X().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:v.push(gt(X().mark(function F(){var tt,K;return X().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return tt=B,K=y[tt],at.next=4,s.copySingle(tt,K);case 4:if(at.sent){at.next=8;break}_.push(tt),at.next=11;break;case 8:if(!c){at.next=11;break}return at.next=11,s.remove(tt);case 11:case"end":return at.stop()}},F)}))());case 1:case"end":return Z.stop()}},D)}),A.t0=X().keys(y);case 15:if((A.t1=A.t0()).done){A.next=20;break}return w=A.t1.value,A.delegateYield(b(w),"t2",18);case 18:A.next=15;break;case 20:return A.next=22,Promise.all(v);case 22:if(!(_.length>0)){A.next=24;break}return A.abrupt("return","Copy Failed: ".concat(_.join(", ")));case 24:return A.abrupt("return","");case 25:case"end":return A.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"copySingle",value:function(){var e=gt(X().mark(function r(i,o){var s=this,a,u,f,d;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.read(i);case 2:if(a=c.sent,u="empty",!a){c.next=8;break}u=Kt(a),c.next=16;break;case 8:return c.next=10,this.isDir(i);case 10:if(!c.sent){c.next=14;break}c.t0="dir",c.next=15;break;case 14:c.t0="empty";case 15:u=c.t0;case 16:if(u!=="empty"){c.next=18;break}return c.abrupt("return",!1);case 18:if(!(u==="file"||u==="link")){c.next=22;break}return c.next=21,this.createFile(o,a,{ensure:!0});case 21:return c.abrupt("return",c.sent);case 22:return f=!0,d=[function(){return s.createDir(o)}],c.next=26,this.backend.traverseContent(function(h,y){d.push(gt(X().mark(function _(){var v,b;return X().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,y;case 2:if(v=w.sent,b=h.replace(i,o),!v){w.next=11;break}return w.next=7,s.createFile(b,v);case 7:if(w.sent){w.next=9;break}f=!1;case 9:w.next=15;break;case 11:return w.next=13,s.createDir(b);case 13:if(w.sent){w.next=15;break}f=!1;case 15:case"end":return w.stop()}},_)})))},i);case 26:return c.next=28,ai(d);case 28:return c.abrupt("return",f);case 29:case"end":return c.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"traverseContent",value:function(e,t){return this.backend.traverseContent(t,e)}},{key:"traverse",value:function(e,t){return this.backend.traverseContent(function(r,i,o){t({path:r,parent:ee(r),name:o})},e,!1)}},{key:"readText",value:function(){var e=gt(X().mark(function r(i){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.backend.read(i);case 2:if(o=s.sent,o){s.next=5;break}return s.abrupt("return","");case 5:return s.abrupt("return",Dr(o));case 6:case"end":return s.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"read",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.backend.read(i));case 1:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"write",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f;return X().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i=this.fmtPath(i),!this.enableSync){d.next=5;break}d.t0=this._sync.syncMiddleware.pureRead(i),d.next=8;break;case 5:return d.next=7,this.backend.read(i);case 7:d.t0=d.sent;case 8:if(a=d.t0,!Ae(o,a)){d.next=11;break}return d.abrupt("return",!0);case 11:return d.next=13,this.exist(i);case 13:if(d.sent){d.next=15;break}return d.abrupt("return",this.createFile(i,o));case 15:return d.next=17,this._watch.fireChange(i);case 17:return u=d.sent,d.next=20,this.backend.write(i,o);case 20:if(f=d.sent,f){d.next=23;break}return d.abrupt("return",!1);case 23:return(s=this._sync)===null||s===void 0||s.syncMiddleware.write(i,o),u==null||u(),d.abrupt("return",!0);case 26:case"end":return d.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"append",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u;return X().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return i=this.fmtPath(i),f.next=3,this.exist(i);case 3:if(f.sent){f.next=5;break}return f.abrupt("return",this.createFile(i,o));case 5:return f.next=7,this._watch.fireChange(i);case 7:return a=f.sent,f.next=10,this.backend.append(i,o);case 10:if(u=f.sent,u){f.next=13;break}return f.abrupt("return",!1);case 13:return(s=this._sync)===null||s===void 0||s.syncMiddleware.append(i,o),a==null||a(),f.abrupt("return",!0);case 16:case"end":return f.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=gt(X().mark(function r(i){var o=this,s;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.fmtPath(i),a.next=3,this.backend.remove(i);case 3:if(s=a.sent,s){a.next=6;break}return a.abrupt("return",s);case 6:return this.enableSync?this._sync.syncMiddleware.remove(i,function(u){o._watch.fireRename(u,!0)}):this._watch.fireRename(i,!0),a.abrupt("return",!0);case 8:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"stat",value:function(){var e=gt(X().mark(function r(i){var o,s=arguments;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=s.length>1&&s[1]!==void 0?s[1]:!0,a.t0=this,a.next=4,this.backend.stat(this.fmtPath(i),o);case 4:return a.t1=a.sent,a.abrupt("return",a.t0._transStat.call(a.t0,a.t1));case 6:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"_transStat",value:function(e){var t=e.size,r=e.type;return{size:t,type:r,isDirectory:function(){return r==="dir"},isFile:function(){return r==="file"}}}},{key:"exist",value:function(e){return e=this.fmtPath(e),e==="/"?Promise.resolve(!0):this.backend.exist(e)}},{key:"ls",value:function(){var e=gt(X().mark(function r(){var i,o=arguments;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=o.length>0&&o[0]!==void 0?o[0]:"",i=this.fmtPath(i),this.isDir(i)){s.next=4;break}return s.abrupt("return",null);case 4:return s.next=6,this.backend.ls(i);case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"createFile",value:function(){var e=gt(X().mark(function r(i,o){var s,a=arguments;return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=a.length>2&&a[2]!==void 0?a[2]:{},u.abrupt("return",this._create(i,o,s,!1));case 2:case"end":return u.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"createDir",value:function(){var e=gt(X().mark(function r(i){var o,s=arguments;return X().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=s.length>1&&s[1]!==void 0?s[1]:{},a.abrupt("return",this._create(i,void 0,o,!0));case 2:case"end":return a.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"_create",value:function(){var e=gt(X().mark(function r(i,o){var s,a,u,f,d,c,h=arguments;return X().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s=h.length>2&&h[2]!==void 0?h[2]:{},a=s.overwrite,u=s.ensure,f=h.length>3&&h[3]!==void 0?h[3]:!1,i=this.fmtPath(i),d=ee(i),y.t0=!u,!y.t0){y.next=9;break}return y.next=8,this.exist(d);case 8:y.t0=!y.sent;case 9:if(!y.t0){y.next=11;break}return y.abrupt("return",!1);case 11:if(!u){y.next=14;break}return y.next=14,this.ensureParentPath(i);case 14:return y.next=16,f?this.backend.createDir(i,a):this.backend.createFile(i,o,a);case 16:if(c=y.sent,c){y.next=19;break}return y.abrupt("return",!1);case 19:return this._watch.fireRename(i),this.enableSync&&(f?this._sync.syncMiddleware.createDir(i,a):this._sync.syncMiddleware.createFile(i,o,a)),y.abrupt("return",c);case 22:case"end":return y.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"createLink",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.createFile(e,Ce("link",t),r)}},{key:"zip",value:function(){var e;return(e=this._zip).zip.apply(e,arguments)}},{key:"unzip",value:function(){var e;return(e=this._zip).unzip.apply(e,arguments)}},{key:"isZip",value:function(){var e;return(e=this._zip).isZip.apply(e,arguments)}},{key:"watch",value:function(){var e;return(e=this._watch).watch.apply(e,arguments)}},{key:"watchFile",value:function(){var e;return(e=this._watch).watchFile.apply(e,arguments)}},{key:"unwatchFile",value:function(){var e;return(e=this._watch).unwatchFile.apply(e,arguments)}},{key:"clear",value:function(){var e=gt(X().mark(function r(){var i=this,o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.ls("/");case 2:if(o=s.sent,!(!o||o.length===0)){s.next=5;break}return s.abrupt("return");case 5:return s.next=7,Promise.all(o.map(function(a){return i.remove(ge.join("/",a))}));case 7:return s.next=9,this.cd("/");case 9:case"end":return s.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"ensureParentPath",value:function(){var e=gt(X().mark(function r(i){var o;return X().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(o=this._sync)===null||o===void 0||o._ensureParentPath(i),s.abrupt("return",this._ensureParentPath(i));case 2:case"end":return s.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"_ensureParentPath",value:function(){var e=gt(X().mark(function r(i){return X().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=ee(i),o.next=3,this.exist(i);case 3:if(!o.sent){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,this.ensureParentPath(i);case 7:return o.next=9,this._create(i,void 0,{},!0);case 9:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"createFileContent",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"file";return Ce(t,e)}}],[{key:"initSync",value:function(){if(!n.instance){var e=new n({enableSync:!0});return e.ready}return n.instance.initSync()}}])}();he([le],ae.prototype,"readText");he([le],ae.prototype,"read");he([le],ae.prototype,"write");he([le],ae.prototype,"append");he([le],ae.prototype,"ls");he([le],ae.prototype,"watch");he([le],ae.prototype,"watchFile");he([le],ae.prototype,"unwatchFile");var bs=ae;function ws(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(n.length===0)return"";if(n.length===1)return n[0];for(var t=n[0].substring(0,e),r=e;;){var i=n[0][r];if(!i)return t;for(var o=1;o<n.length;o++)if(n[o][r]!==i)return t;t+=i,r++}}function Sn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function xs(n){if(Array.isArray(n))return n}function _s(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cn(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(f){return void t(f)}a.done?e(u):Promise.resolve(u).then(r,i)}function Zt(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){Cn(o,r,i,s,a,"next",u)}function a(u){Cn(o,r,i,s,a,"throw",u)}s(void 0)})}}function ks(n,e,t){return e=Ke(e),Is(n,Ai()?Reflect.construct(e,t||[],Ke(n).constructor):e.apply(n,t))}function Hr(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Os(r.key),r)}}function Zr(n,e,t){return e&&Es(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function An(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Ti(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function Ke(n){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(n)}function Ss(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Br(n,e)}function Ai(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ai=function(){return!!n})()}function Cs(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(d){f=!0,i=d}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return a}}function As(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Is(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _s(n)}function Pt(){Pt=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(g,p,k){g[p]=k.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(g,p,k){return Object.defineProperty(g,p,{value:k,enumerable:!0,configurable:!0,writable:!0}),g[p]}try{f({},"")}catch{f=function(g,p,k){return g[p]=k}}function d(g,p,k,L){var I=p&&p.prototype instanceof w?p:w,O=Object.create(I.prototype),j=new S(L||[]);return i(O,"_invoke",{value:at(g,k,j)}),O}function c(g,p,k){try{return{type:"normal",arg:g.call(p,k)}}catch(L){return{type:"throw",arg:L}}}e.wrap=d;var h="suspendedStart",y="suspendedYield",_="executing",v="completed",b={};function w(){}function E(){}function A(){}var D={};f(D,s,function(){return this});var B=Object.getPrototypeOf,Z=B&&B(B(nt([])));Z&&Z!==t&&r.call(Z,s)&&(D=Z);var F=A.prototype=w.prototype=Object.create(D);function tt(g){["next","throw","return"].forEach(function(p){f(g,p,function(k){return this._invoke(p,k)})})}function K(g,p){function k(I,O,j,ot){var et=c(g[I],g,O);if(et.type!=="throw"){var ut=et.arg,kt=ut.value;return kt&&typeof kt=="object"&&r.call(kt,"__await")?p.resolve(kt.__await).then(function(wt){k("next",wt,j,ot)},function(wt){k("throw",wt,j,ot)}):p.resolve(kt).then(function(wt){ut.value=wt,j(ut)},function(wt){return k("throw",wt,j,ot)})}ot(et.arg)}var L;i(this,"_invoke",{value:function(I,O){function j(){return new p(function(ot,et){k(I,O,ot,et)})}return L=L?L.then(j,j):j()}})}function at(g,p,k){var L=h;return function(I,O){if(L===_)throw Error("Generator is already running");if(L===v){if(I==="throw")throw O;return{value:n,done:!0}}for(k.method=I,k.arg=O;;){var j=k.delegate;if(j){var ot=U(j,k);if(ot){if(ot===b)continue;return ot}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===h)throw L=v,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=_;var et=c(g,p,k);if(et.type==="normal"){if(L=k.done?v:y,et.arg===b)continue;return{value:et.arg,done:k.done}}et.type==="throw"&&(L=v,k.method="throw",k.arg=et.arg)}}}function U(g,p){var k=p.method,L=g.iterator[k];if(L===n)return p.delegate=null,k==="throw"&&g.iterator.return&&(p.method="return",p.arg=n,U(g,p),p.method==="throw")||k!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+k+"' method")),b;var I=c(L,g.iterator,p.arg);if(I.type==="throw")return p.method="throw",p.arg=I.arg,p.delegate=null,b;var O=I.arg;return O?O.done?(p[g.resultName]=O.value,p.next=g.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,b):O:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function M(g){var p={tryLoc:g[0]};1 in g&&(p.catchLoc=g[1]),2 in g&&(p.finallyLoc=g[2],p.afterLoc=g[3]),this.tryEntries.push(p)}function Q(g){var p=g.completion||{};p.type="normal",delete p.arg,g.completion=p}function S(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(M,this),this.reset(!0)}function nt(g){if(g||g===""){var p=g[s];if(p)return p.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var k=-1,L=function I(){for(;++k<g.length;)if(r.call(g,k))return I.value=g[k],I.done=!1,I;return I.value=n,I.done=!0,I};return L.next=L}}throw new TypeError(typeof g+" is not iterable")}return E.prototype=A,i(F,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:E,configurable:!0}),E.displayName=f(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(g){var p=typeof g=="function"&&g.constructor;return!!p&&(p===E||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,A):(g.__proto__=A,f(g,u,"GeneratorFunction")),g.prototype=Object.create(F),g},e.awrap=function(g){return{__await:g}},tt(K.prototype),f(K.prototype,a,function(){return this}),e.AsyncIterator=K,e.async=function(g,p,k,L,I){I===void 0&&(I=Promise);var O=new K(d(g,p,k,L),I);return e.isGeneratorFunction(p)?O:O.next().then(function(j){return j.done?j.value:O.next()})},tt(F),f(F,u,"Generator"),f(F,s,function(){return this}),f(F,"toString",function(){return"[object Generator]"}),e.keys=function(g){var p=Object(g),k=[];for(var L in p)k.push(L);return k.reverse(),function I(){for(;k.length;){var O=k.pop();if(O in p)return I.value=O,I.done=!1,I}return I.done=!0,I}},e.values=nt,S.prototype={constructor:S,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Q),!g)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=n)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function k(et,ut){return O.type="throw",O.arg=g,p.next=et,ut&&(p.method="next",p.arg=n),!!ut}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],O=I.completion;if(I.tryLoc==="root")return k("end");if(I.tryLoc<=this.prev){var j=r.call(I,"catchLoc"),ot=r.call(I,"finallyLoc");if(j&&ot){if(this.prev<I.catchLoc)return k(I.catchLoc,!0);if(this.prev<I.finallyLoc)return k(I.finallyLoc)}else if(j){if(this.prev<I.catchLoc)return k(I.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return k(I.finallyLoc)}}}},abrupt:function(g,p){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(g==="break"||g==="continue")&&I.tryLoc<=p&&p<=I.finallyLoc&&(I=null);var O=I?I.completion:{};return O.type=g,O.arg=p,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(O)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.finallyLoc===g)return this.complete(k.completion,k.afterLoc),Q(k),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.tryLoc===g){var L=k.completion;if(L.type==="throw"){var I=L.arg;Q(k)}return I}}throw Error("illegal catch attempt")},delegateYield:function(g,p,k){return this.delegate={iterator:nt(g),resultName:p,nextLoc:k},this.method==="next"&&(this.arg=n),b}},e}function Br(n,e){return Br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Br(n,e)}function Ii(n,e){return xs(n)||Cs(n,e)||Ti(n,e)||As()}function Ts(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Os(n){var e=Ts(n,"string");return typeof e=="symbol"?e:e+""}function Ti(n,e){if(n){if(typeof n=="string")return Sn(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Sn(n,e):void 0}}var Bs=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Hr(this,n),n.instance)return n.instance.disk._initSyncAlone(e),n.instance;n.instance=this,this.disk=new bs({enableSync:e}),this.ready=this.disk.ready}return Zr(n,[{key:"ls",value:function(e){return this.disk.ls(e)}},{key:"cd",value:function(e){return this.disk.cd(e)}},{key:"pwd",value:function(){return this.disk.pwd()}},{key:"touch",value:function(e){return this.disk.createFile(e)}},{key:"mkdir",value:function(e){return this.disk.createDir(e)}},{key:"rmdir",value:function(e){return this.disk.remove(e)}},{key:"cp",value:function(e,t){return this.disk.copySingle(e,t)}},{key:"mv",value:function(e,t){return this.disk.move(e,t)}},{key:"rm",value:function(e){return this.disk.remove(e)}},{key:"cat",value:function(e){return this.disk.readText(e)}},{key:"more",value:function(e){return this.disk.readText(e)}},{key:"less",value:function(e){return this.disk.readText(e)}},{key:"head",value:function(){var e=Zt(Pt().mark(function r(i,o){var s;return Pt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.disk.readText(i);case 2:if(s=a.sent,s){a.next=5;break}return a.abrupt("return","");case 5:return a.abrupt("return",s.split(`
`).slice(0,o).join(`
`));case 6:case"end":return a.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"tail",value:function(){var e=Zt(Pt().mark(function r(i,o){var s;return Pt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.disk.readText(i);case 2:if(s=a.sent,s){a.next=5;break}return a.abrupt("return","");case 5:return a.abrupt("return",s.split(`
`).slice(-o).join(`
`));case 6:case"end":return a.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"grep",value:function(){var e=Zt(Pt().mark(function r(i,o){var s,a,u,f,d,c;return Pt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.disk.readText(i);case 2:if(s=h.sent,s){h.next=5;break}return h.abrupt("return",[""]);case 5:if(typeof o=="string"&&(o=new RegExp(o,"g")),a=s.match(o),u=[],a){h.next=10;break}return h.abrupt("return",u);case 10:for(f=0,d=u;f<d.length;f++)c=d[f],u.push(c[0]);return h.abrupt("return",u);case 12:case"end":return h.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"find",value:function(){var e=Zt(Pt().mark(function r(i){var o=this,s,a,u,f,d,c=arguments;return Pt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=c.length>1&&c[1]!==void 0?c[1]:{},a=s.name,u=s.type,f=typeof a=="string"?new RegExp(a):a,d=[],!this.disk._sync){h.next=7;break}this.disk._sync.syncMiddleware.traverse(i,function(y){var _=y.path,v=y.name,b=!0;if(f&&!f.test(v)&&(b=!1),b&&u){var w=o.disk._sync.syncMiddleware.getType(_);w!==u&&(b=!1)}b&&d.push(_)}),h.next=9;break;case 7:return h.next=9,this.disk.backend.traverseContent(function(){var y=Zt(Pt().mark(function _(v,b,w){var E,A;return Pt().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(E=!0,f&&!f.test(w)&&(E=!1),!(E&&u)){D.next=9;break}return D.t0=Kt,D.next=6,b;case 6:D.t1=D.sent,A=(0,D.t0)(D.t1),A!==u&&(E=!1);case 9:E&&d.push(v);case 10:case"end":return D.stop()}},_)}));return function(_,v,b){return y.apply(this,arguments)}}(),i);case 9:return h.abrupt("return",d);case 10:case"end":return h.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()},{key:"zip",value:function(e,t){return this.disk.zip(e,t)}},{key:"unzip",value:function(e,t){return this.disk.unzip(e,t)}},{key:"tar",value:function(e,t){return this.disk.zip(e,t)}},{key:"du",value:function(){var e=Zt(Pt().mark(function r(i){return Pt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.disk.stat(i);case 2:return o.abrupt("return",o.sent.size);case 3:case"end":return o.stop()}},r,this)}));function t(r){return e.apply(this,arguments)}return t}()}])}(),Ls={name:"open-url",helpInfo:"Open Url in Browser",run:function(n){var e=n.args[0],t="fail.";return globalThis!=null&&globalThis.open&&(globalThis.open(e),t="success!"),'Open "'.concat(e||"",'" ').concat(t)}},Ps=[Ls];function In(n){return Ps.find(function(e){return e.name===n})||null}var Lr="/WebOS/System/Commands";function Pr(n){return"".concat(Lr,"/").concat(n)}var zr=100,zs=function(n){function e(){var t;return Hr(this,e),t=ks(this,e,arguments),t.name="install",t.helpDetails=t._viewDetails,t}return Ss(e,n),Zr(e,[{key:"run",value:function(){var t=Zt(Pt().mark(function i(o){var s,a,u,f,d,c,h,y,_,v,b,w,E,A,D,B,Z;return Pt().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(s=o.options.rm,!s){F.next=3;break}return F.abrupt("return",this.removeCommand(s));case 3:if(this.provider.registerCommand){F.next=5;break}return F.abrupt("return","CommandProvider not support Install");case 5:if(u="",f=this.parseUrl(o),d=f.name,c=f.local,h=f.url,!h){F.next=17;break}return F.next=10,this._installFromUrl(h);case 10:if(y=F.sent,y.command){F.next=13;break}return F.abrupt("return","Install fail ".concat(h,": ").concat(y.info));case 13:a=y.command,u=y.text,F.next=43;break;case 17:if(!d){F.next=28;break}if(_=In(d),_){F.next=21;break}return F.abrupt("return","Not a Built-in Command: ".concat(d));case 21:if(a=_,u=d,v=this.provider.registerCommand(a),b=v.success,w=v.info,b){F.next=26;break}return F.abrupt("return","Install fail: ".concat(w));case 26:F.next=43;break;case 28:if(!c){F.next=42;break}return F.next=31,this.disk.readText(c);case 31:if(E=F.sent,E){F.next=34;break}return F.abrupt("return","Install from local fail: ".concat(c));case 34:return F.next=36,this._installFromText(E);case 36:if(A=F.sent,A.command){F.next=39;break}return F.abrupt("return","Install from local fail: ".concat(A.info));case 39:a=A.command,F.next=43;break;case 42:return F.abrupt("return","Install fail: parse command fail");case 43:if(c){F.next=51;break}return F.next=46,ye(this.saveCommand(a,u));case 46:if(D=F.sent,B=Ii(D,2),Z=B[1],!Z){F.next=51;break}return F.abrupt("return",Z);case 51:return F.abrupt("return","Install ".concat(a.name," success!"));case 52:case"end":return F.stop()}},i,this)}));function r(i){return t.apply(this,arguments)}return r}()},{key:"saveCommand",value:function(){var t=Zt(Pt().mark(function i(o,s){var a,u;return Pt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=Pr(o.name),f.next=3,this.disk.createFile(a,this.disk.createFileContent(s),{ensure:!0,overwrite:!0});case 3:if(u=f.sent,u){f.next=6;break}throw"Save command fail: ".concat(a);case 6:case"end":return f.stop()}},i,this)}));function r(i,o){return t.apply(this,arguments)}return r}()},{key:"parseUrl",value:function(t){var r=t.args,i=t.options,o=r[0],s="",a="",u="";return i.ol?s=i.ol:i.gh?s=Co(i.gh):i.npm?s=dn(i.npm):i.of?s=dn("webos-commands/dist/".concat(i.of,".js")):i.l?a=i.l:u=o,{url:s,local:a,name:u}}},{key:"removeCommand",value:function(){var t=Zt(Pt().mark(function i(o){var s,a,u;return Pt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(typeof o!="string"||o==="")){f.next=2;break}return f.abrupt("return","Remove fail: name is not valid (".concat(o,")"));case 2:if(this.provider.removeCommand){f.next=4;break}return f.abrupt("return","CommandProvider not support Install -rm");case 4:if(s=this.provider.removeCommand(o),a=s.success,u=s.info,a){f.next=7;break}return f.abrupt("return",u);case 7:return f.next=9,this.disk.remove(Pr(o));case 9:return f.abrupt("return","Remove command ".concat(o," success!"));case 10:case"end":return f.stop()}},i,this)}));function r(i){return t.apply(this,arguments)}return r}()},{key:"_installFromUrl",value:function(){var t=Zt(Pt().mark(function i(o){var s,a,u,f,d;return Pt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ko(o);case 2:return s=c.sent,c.next=5,this._installFromText(s);case 5:return a=c.sent,u=a.success,f=a.info,d=a.command,c.abrupt("return",{success:u,info:f,text:s,command:d||null});case 10:case"end":return c.stop()}},i,this)}));function r(i){return t.apply(this,arguments)}return r}()},{key:"_installFromText",value:function(t){var r=this;if(!this.provider.registerCommand)return Promise.resolve({success:!1,info:"RegisterCommand not Exists"});if(t.length<=zr){var i=In(t);if(i){var o=this.provider.registerCommand(i);return o.success&&Object.assign(o,{command:i}),Promise.resolve(o)}}var s=ii(),a=s.ready,u=s.resolve;return Eo(t,{registerCommand:function(f){var d=r.provider.registerCommand(f);d.success&&Object.assign(d,{command:f}),u(d)}}),setTimeout(function(){u({success:!1,info:"Install timeout"})},2e3),a}},{key:"_viewDetails",value:function(){return["install command_name : Install Built-in command","install -ol url : Install from url","install -gh user/repo[/filepath] : Install from github","install -npm pkg_name[/filepath] : Install from npm","install -l filepath : Install from local file","install -rm command_name: Remove command"].join(`\r
`)}}])}(So),oe={clear:"Clear the terminal.",ls:"View all the files under the folder.",mkdir:"Create a new directory.",cd:"Change the current working directory and switch the displayed PWD in the terminal.",pwd:"Display the current working directory.",rm:"Remove a file.",rmdir:"Remove a directory.",cat:"Display the content of a file.",touch:"Create a new empty file or update the access and modification times of an existing file.",echo:"Output the joined content of the provided arguments.",vi:"Edit file",mv:"Move or rename a file or directory from one location to another.",cp:"Copy a file or directory from one location to another.",more:"Display the content of a file in a paginated way (with limited functionality compared to less).",less:"Display the content of a file in a paginated way with more functionality like scrolling back and forth.",head:"Display the first few lines of a file (the number of lines is specified by an argument).",tail:"Display the last few lines of a file (the number of lines is specified by an argument).",grep:"Search for a specific pattern in files and return the matching lines.",find:"Search for files or directories based on certain conditions and return the results.",zip:"Compress files and directories into a zip file.(-t for compress file name)",unzip:"Extract the contents of a zip file.(unzip zip_file target_dir)",tar:"Compress files and directories into a zip file.",du:"Display the disk usage of a file or directory.",help:"Show commands information."};function Fs(){for(var n=[],e=Object.keys(oe),t=0,r=0,i=e;r<i.length;r++){var o=i[r];o.length>t&&(t=o.length)}for(var s in oe)n.push("".concat(s.padEnd(t," ")," : ").concat(oe[s]));return n.join(`\r
`)}var Tn="Target is not a directory.",On="Target is already exists.",Rs=function(){function n(e,t){Hr(this,n),this.methods=t,this.thirdCommands={},this.cmd=new Bs(e),this.installCommand=new zs,this.registerCommand(this.installCommand),this._loadCommands()}return Zr(n,[{key:"getPwd",value:function(){return this.cmd.pwd()}},{key:"disk",get:function(){return this.cmd.disk}},{key:"onCommand",value:function(){var e=Zt(Pt().mark(function r(i){var o,s,a,u,f,d;return Pt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=typeof i=="string"?lo(i):i,o.length!==0){c.next=3;break}return c.abrupt("return",this.methods.getHeader());case 3:s="",a=An(o),c.prev=5,a.s();case 7:if((u=a.n()).done){c.next=25;break}return f=u.value,d=void 0,c.prev=10,c.next=13,this.runSingleCommand(f,s,o);case 13:d=c.sent,c.next=20;break;case 16:c.prev=16,c.t0=c.catch(10),console.error(c.t0),d=c.t0.toString();case 20:if(!(!d&&typeof d!="string")){c.next=22;break}return c.abrupt("return",!1);case 22:s=typeof d=="boolean"?"":d;case 23:c.next=7;break;case 25:c.next=30;break;case 27:c.prev=27,c.t1=c.catch(5),a.e(c.t1);case 30:return c.prev=30,a.f(),c.finish(30);case 33:return c.abrupt("return",s);case 34:case"end":return c.stop()}},r,this,[[5,27,30,33],[10,16]])}));function t(r){return e.apply(this,arguments)}return t}()},{key:"runSingleCommand",value:function(){var e=Zt(Pt().mark(function r(i,o,s){var a=this,u,f,d,c,h,y,_,v,b,w,E,A,D,B,Z,F,tt,K,at;return Pt().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:f=this.methods,d=f.clearTerminal,c=f.setPwd,h=f.openEditor,y=i.name,_=i.args,v=i.options,b="",w=Ii(_,2),E=w[0],A=w[1],D=this.cmd,U.t0=y,U.next=U.t0==="vi"?8:U.t0==="clear"?25:U.t0==="ls"?27:U.t0==="mkdir"?41:U.t0==="cd"?44:U.t0==="pwd"?53:U.t0==="rm"?55:U.t0==="rmdir"?59:U.t0==="cat"?65:U.t0==="touch"?72:U.t0==="echo"?78:U.t0==="mv"?81:U.t0==="cp"?84:U.t0==="more"?87:U.t0==="less"?94:U.t0==="head"?101:U.t0==="tail"?108:U.t0==="grep"?115:U.t0==="find"?119:U.t0==="zip"||U.t0==="tar"?123:U.t0==="unzip"?130:U.t0==="du"?133:U.t0==="help"?139:141;break;case 8:if(E){U.next=10;break}return U.abrupt("return","Target is empty");case 10:return U.next=12,this.disk.exist(E);case 12:if(U.sent){U.next=14;break}return U.abrupt("return","Target file not exists: ".concat(E));case 14:return U.next=16,this.disk.isDir(E);case 16:if(!U.sent){U.next=18;break}return U.abrupt("return","Target is Not File: ".concat(E));case 18:return U.next=20,D.cat(E);case 20:if(B=U.sent,B!==null){U.next=23;break}return U.abrupt("return","Open file fail: ".concat(E));case 23:return h({path:this.disk.fmtPath(E),content:B,save:function(M){a.disk.write(E,He(M))}}),U.abrupt("return",!1);case 25:return d(),U.abrupt("return",!1);case 27:return U.next=29,D.ls(E);case 29:if(U.t2=u=U.sent,U.t1=U.t2===null,U.t1){U.next=33;break}U.t1=u===void 0;case 33:if(!U.t1){U.next=37;break}U.t3=void 0,U.next=38;break;case 37:U.t3=u.join(" ");case 38:return Z=U.t3,b=typeof Z!="string"?Tn:Z||" ",U.abrupt("break",158);case 41:return U.next=43,D.mkdir(E);case 43:return U.abrupt("break",158);case 44:return U.next=46,D.cd(E);case 46:if(!U.sent){U.next=50;break}c(D.pwd()),U.next=51;break;case 50:b=Tn;case 51:return U.abrupt("break",158);case 53:return b=D.pwd(),U.abrupt("break",158);case 55:return U.next=57,D.rm(E);case 57:return U.abrupt("break",158);case 59:return U.next=61,D.rmdir(E);case 61:if(U.sent){U.next=63;break}b=On;case 63:return U.abrupt("break",158);case 65:return U.next=67,D.cat(E);case 67:if(U.t4=U.sent,U.t4){U.next=70;break}U.t4="";case 70:return b=U.t4,U.abrupt("break",158);case 72:return U.next=74,D.touch(E);case 74:if(U.sent){U.next=76;break}b=On;case 76:return U.abrupt("break",158);case 78:return b=this.handleEchoCmd(_),U.abrupt("break",158);case 81:return U.next=83,D.mv(E,A);case 83:return U.abrupt("break",158);case 84:return U.next=86,D.cp(E,A);case 86:return U.abrupt("break",158);case 87:return U.next=89,D.more(E);case 89:if(U.t5=U.sent,U.t5){U.next=92;break}U.t5="";case 92:return b=U.t5,U.abrupt("break",158);case 94:return U.next=96,D.less(E);case 96:if(U.t6=U.sent,U.t6){U.next=99;break}U.t6="";case 99:return b=U.t6,U.abrupt("break",158);case 101:return U.next=103,D.head(E,parseInt(A));case 103:if(U.t7=U.sent,U.t7){U.next=106;break}U.t7="";case 106:return b=U.t7,U.abrupt("break",158);case 108:return U.next=110,D.tail(E,parseInt(A));case 110:if(U.t8=U.sent,U.t8){U.next=113;break}U.t8="";case 113:return b=U.t8,U.abrupt("break",158);case 115:return U.next=117,D.grep(E,A);case 117:return b=U.sent.join(`\r
`),U.abrupt("break",158);case 119:return U.next=121,D.find(E,v);case 121:return b=U.sent.join(`\r
`),U.abrupt("break",158);case 123:return U.next=125,D.zip(_,v.t);case 125:return F=U.sent,tt=F.success,K=F.info,b=tt?"Zip to ".concat(K):K,U.abrupt("break",158);case 130:return U.next=132,D.unzip(E,A);case 132:return U.abrupt("break",158);case 133:return U.t9="size = ",U.next=136,D.du(E);case 136:return U.t10=U.sent,b=U.t9.concat.call(U.t9,U.t10),U.abrupt("break",158);case 139:return b=Fs(),U.abrupt("break",158);case 141:if(at=this.thirdCommands[y],!at){U.next=156;break}if(!(at.helpDetails&&i.options.d)){U.next=147;break}b=pr(at.helpDetails),U.next=154;break;case 147:if(!(at.version&&(i.options.v||i.options.version))){U.next=151;break}b=pr(at.version),U.next=154;break;case 151:return U.next=153,xo(at.run(i,{commands:s,disk:this.disk,data:o,term:at.term,run:function(M){return a.onCommand(M)}}));case 153:b=U.sent;case 154:U.next=157;break;case 156:b="".concat(y,": Command not found");case 157:return U.abrupt("break",158);case 158:return U.abrupt("return",b);case 159:case"end":return U.stop()}},r,this)}));function t(r,i,o){return e.apply(this,arguments)}return t}()},{key:"handleEchoCmd",value:function(e){var t=e.indexOf(">"),r=!1;if(t===-1&&(t=e.indexOf(">>"),t!==-1&&(r=!0)),t===-1)return e.join(" ");var i=e[t+1];return i?(this.disk[r?"appendSync":"writeSync"](i,He(e.slice(0,t).join(" "))),""):e.join(" ")}},{key:"onTab",value:function(){var e=Zt(Pt().mark(function r(i,o){var s,a,u,f,d,c,h,y,_;return Pt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=!o.includes(" "),a="",u="",f=[],!s){v.next=7;break}a=i,f=Object.keys(oe),v.next=16;break;case 7:return d=fe(i),a=d.name,u=d.parent,v.next=12,this.cmd.ls(u);case 12:if(v.t0=v.sent,v.t0){v.next=15;break}v.t0=[];case 15:f=v.t0;case 16:if(c=f.filter(function(b){return b.startsWith(a)}),h=ws(c,a.length),y="",!(a===h&&c.length>1)){v.next=23;break}y=c.join(" "),v.next=35;break;case 23:if(s){v.next=34;break}if(_="".concat(u).concat(u?"/":"").concat(h),v.t1=h,!v.t1){v.next=30;break}return v.next=29,this.cmd.disk.isDir(_);case 29:v.t1=v.sent;case 30:if(!v.t1){v.next=32;break}h+="/";case 32:v.next=35;break;case 34:c.length===1&&(h+=" ");case 35:return v.abrupt("return",{line:y,result:h.replace(a,"")});case 36:case"end":return v.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"registerCommand",value:function(e){if(e.name.length>zr)return{success:!1,info:"Command name should less then ".concat(zr,": ").concat(e.name)};if(!oe[e.name]){var t;this.thirdCommands[e.name]=e;var r=pr(e.helpInfo);return r||(r=e.helpDetails?"Run '".concat(e.name," -d' to view details"):"".concat(e.name," <args>.")),oe[e.name]=r,(t=e.activate)===null||t===void 0||t.call(e,this.disk,this),{success:!0,info:"Register success"}}return{success:!1,info:"Command already exists ".concat(name)}}},{key:"removeCommand",value:function(e){if(e in this.thirdCommands){var t,r=this.thirdCommands[e];return delete this.thirdCommands[e],delete oe[e],(t=r.dispose)===null||t===void 0||t.call(r),{success:!0,info:"Remove success"}}else if(e in oe)return{success:!1,info:"Cannot remove built-in command: ".concat(e)};return{success:!1,info:"Command ".concat(e," not exists")}}},{key:"_loadCommands",value:function(){var e=Zt(Pt().mark(function r(){var i,o,s,a,u,f,d;return Pt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.disk.ready;case 2:return c.next=4,this.disk.exist(Lr);case 4:if(c.sent){c.next=6;break}return c.abrupt("return");case 6:return c.next=8,this.disk.ls(Lr);case 8:if(i=c.sent,i){c.next=11;break}return c.abrupt("return");case 11:o=wo(),s=An(i),c.prev=13,s.s();case 15:if((a=s.n()).done){c.next=30;break}return u=a.value,f=Pr(u),c.next=20,this.disk.isDir(f);case 20:if(!c.sent){c.next=22;break}return c.abrupt("continue",28);case 22:return c.next=24,this.disk.readText(f);case 24:if(d=c.sent,d){c.next=27;break}return c.abrupt("continue",28);case 27:o.add(this.installCommand._installFromText(d));case 28:c.next=15;break;case 30:c.next=35;break;case 32:c.prev=32,c.t0=c.catch(13),s.e(c.t0);case 35:return c.prev=35,s.f(),c.finish(35);case 38:return c.next=40,o.run();case 40:case"end":return c.stop()}},r,this,[[13,32,35,38]])}));function t(){return e.apply(this,arguments)}return t}()}])}();function Bn(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(f){return void t(f)}a.done?e(u):Promise.resolve(u).then(r,i)}function Ln(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){Bn(o,r,i,s,a,"next",u)}function a(u){Bn(o,r,i,s,a,"throw",u)}s(void 0)})}}function js(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ns(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ms(r.key),r)}}function Ds(n,e,t){return Ns(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Be(){Be=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(g,p,k){g[p]=k.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(g,p,k){return Object.defineProperty(g,p,{value:k,enumerable:!0,configurable:!0,writable:!0}),g[p]}try{f({},"")}catch{f=function(g,p,k){return g[p]=k}}function d(g,p,k,L){var I=p&&p.prototype instanceof w?p:w,O=Object.create(I.prototype),j=new S(L||[]);return i(O,"_invoke",{value:at(g,k,j)}),O}function c(g,p,k){try{return{type:"normal",arg:g.call(p,k)}}catch(L){return{type:"throw",arg:L}}}e.wrap=d;var h="suspendedStart",y="suspendedYield",_="executing",v="completed",b={};function w(){}function E(){}function A(){}var D={};f(D,s,function(){return this});var B=Object.getPrototypeOf,Z=B&&B(B(nt([])));Z&&Z!==t&&r.call(Z,s)&&(D=Z);var F=A.prototype=w.prototype=Object.create(D);function tt(g){["next","throw","return"].forEach(function(p){f(g,p,function(k){return this._invoke(p,k)})})}function K(g,p){function k(I,O,j,ot){var et=c(g[I],g,O);if(et.type!=="throw"){var ut=et.arg,kt=ut.value;return kt&&typeof kt=="object"&&r.call(kt,"__await")?p.resolve(kt.__await).then(function(wt){k("next",wt,j,ot)},function(wt){k("throw",wt,j,ot)}):p.resolve(kt).then(function(wt){ut.value=wt,j(ut)},function(wt){return k("throw",wt,j,ot)})}ot(et.arg)}var L;i(this,"_invoke",{value:function(I,O){function j(){return new p(function(ot,et){k(I,O,ot,et)})}return L=L?L.then(j,j):j()}})}function at(g,p,k){var L=h;return function(I,O){if(L===_)throw Error("Generator is already running");if(L===v){if(I==="throw")throw O;return{value:n,done:!0}}for(k.method=I,k.arg=O;;){var j=k.delegate;if(j){var ot=U(j,k);if(ot){if(ot===b)continue;return ot}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===h)throw L=v,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=_;var et=c(g,p,k);if(et.type==="normal"){if(L=k.done?v:y,et.arg===b)continue;return{value:et.arg,done:k.done}}et.type==="throw"&&(L=v,k.method="throw",k.arg=et.arg)}}}function U(g,p){var k=p.method,L=g.iterator[k];if(L===n)return p.delegate=null,k==="throw"&&g.iterator.return&&(p.method="return",p.arg=n,U(g,p),p.method==="throw")||k!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+k+"' method")),b;var I=c(L,g.iterator,p.arg);if(I.type==="throw")return p.method="throw",p.arg=I.arg,p.delegate=null,b;var O=I.arg;return O?O.done?(p[g.resultName]=O.value,p.next=g.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,b):O:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function M(g){var p={tryLoc:g[0]};1 in g&&(p.catchLoc=g[1]),2 in g&&(p.finallyLoc=g[2],p.afterLoc=g[3]),this.tryEntries.push(p)}function Q(g){var p=g.completion||{};p.type="normal",delete p.arg,g.completion=p}function S(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(M,this),this.reset(!0)}function nt(g){if(g||g===""){var p=g[s];if(p)return p.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var k=-1,L=function I(){for(;++k<g.length;)if(r.call(g,k))return I.value=g[k],I.done=!1,I;return I.value=n,I.done=!0,I};return L.next=L}}throw new TypeError(typeof g+" is not iterable")}return E.prototype=A,i(F,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:E,configurable:!0}),E.displayName=f(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(g){var p=typeof g=="function"&&g.constructor;return!!p&&(p===E||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,A):(g.__proto__=A,f(g,u,"GeneratorFunction")),g.prototype=Object.create(F),g},e.awrap=function(g){return{__await:g}},tt(K.prototype),f(K.prototype,a,function(){return this}),e.AsyncIterator=K,e.async=function(g,p,k,L,I){I===void 0&&(I=Promise);var O=new K(d(g,p,k,L),I);return e.isGeneratorFunction(p)?O:O.next().then(function(j){return j.done?j.value:O.next()})},tt(F),f(F,u,"Generator"),f(F,s,function(){return this}),f(F,"toString",function(){return"[object Generator]"}),e.keys=function(g){var p=Object(g),k=[];for(var L in p)k.push(L);return k.reverse(),function I(){for(;k.length;){var O=k.pop();if(O in p)return I.value=O,I.done=!1,I}return I.done=!0,I}},e.values=nt,S.prototype={constructor:S,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Q),!g)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=n)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function k(et,ut){return O.type="throw",O.arg=g,p.next=et,ut&&(p.method="next",p.arg=n),!!ut}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],O=I.completion;if(I.tryLoc==="root")return k("end");if(I.tryLoc<=this.prev){var j=r.call(I,"catchLoc"),ot=r.call(I,"finallyLoc");if(j&&ot){if(this.prev<I.catchLoc)return k(I.catchLoc,!0);if(this.prev<I.finallyLoc)return k(I.finallyLoc)}else if(j){if(this.prev<I.catchLoc)return k(I.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return k(I.finallyLoc)}}}},abrupt:function(g,p){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(g==="break"||g==="continue")&&I.tryLoc<=p&&p<=I.finallyLoc&&(I=null);var O=I?I.completion:{};return O.type=g,O.arg=p,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(O)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.finallyLoc===g)return this.complete(k.completion,k.afterLoc),Q(k),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.tryLoc===g){var L=k.completion;if(L.type==="throw"){var I=L.arg;Q(k)}return I}}throw Error("illegal catch attempt")},delegateYield:function(g,p,k){return this.delegate={iterator:nt(g),resultName:p,nextLoc:k},this.method==="next"&&(this.arg=n),b}},e}function Us(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Ms(n){var e=Us(n,"string");return typeof e=="symbol"?e:e+""}var $s=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.container,i=t.title,o=i===void 0?`Welcome to WebOS! Try running "help".
`:i,s=t.padding,a=s===void 0?10:s,u=t.enableSync,f=u===void 0?!1:u;if(js(this,n),this.pwd="/",n.instance)return n.instance.disk._initSyncAlone(f),n.instance;n.instance=this;var d=new Rs(f,{setPwd:function(c){e.pwd=c,e.term.setHeader(e.header)},clearTerminal:function(){e.term.clearTerminal()},getHeader:function(){return e.header},openEditor:function(c){var h=c.path,y=c.content,_=c.save,v=e.term.edit(y,{title:"Edit ".concat(h,' ("').concat(_o()?"cmd":"ctrl",'+s" to save, "esc" to exit)')});v.on("edit-done",function(b){_(b),e.term.newLine()})}});this.term=new co({style:{padding:a},title:o,container:r,header:this.header}),this.commandProvider=d,this.term.on("enter",function(){var c=Ln(Be().mark(function h(y){var _;return Be().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(y){v.next=3;break}return e.term.write(y),v.abrupt("return");case 3:return v.next=5,d.onCommand(y);case 5:_=v.sent,typeof _=="string"&&(_?e.term.write(_):e.term.newLine());case 7:case"end":return v.stop()}},h)}));return function(h){return c.apply(this,arguments)}}()),this.term.on("tab",function(){var c=Ln(Be().mark(function h(y){var _,v,b,w;return Be().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return _=y.substring(y.lastIndexOf(" ")+1),E.next=3,e.commandProvider.onTab(_,y);case 3:v=E.sent,b=v.line,w=v.result,b&&e.term.write(b,{clear:!1}),e.term.insertText(w);case 7:case"end":return E.stop()}},h)}));return function(h){return c.apply(this,arguments)}}())}return Ds(n,[{key:"disk",get:function(){return this.commandProvider.disk}},{key:"header",get:function(){return"".concat(this.pwd," admin$ ")}},{key:"registerCommand",value:function(e){return e.term=this.term,this.commandProvider.registerCommand(e)}},{key:"removeCommand",get:function(){return this.commandProvider.removeCommand.bind(this.commandProvider)||function(){}}}])}();function Pn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function zn(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(f){return void t(f)}a.done?e(u):Promise.resolve(u).then(r,i)}function yr(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){zn(o,r,i,s,a,"next",u)}function a(u){zn(o,r,i,s,a,"throw",u)}s(void 0)})}}function Ws(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Hs(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ks(r.key),r)}}function Zs(n,e,t){return Hs(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gs(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Vs(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function me(){me=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(g,p,k){g[p]=k.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(g,p,k){return Object.defineProperty(g,p,{value:k,enumerable:!0,configurable:!0,writable:!0}),g[p]}try{f({},"")}catch{f=function(g,p,k){return g[p]=k}}function d(g,p,k,L){var I=p&&p.prototype instanceof w?p:w,O=Object.create(I.prototype),j=new S(L||[]);return i(O,"_invoke",{value:at(g,k,j)}),O}function c(g,p,k){try{return{type:"normal",arg:g.call(p,k)}}catch(L){return{type:"throw",arg:L}}}e.wrap=d;var h="suspendedStart",y="suspendedYield",_="executing",v="completed",b={};function w(){}function E(){}function A(){}var D={};f(D,s,function(){return this});var B=Object.getPrototypeOf,Z=B&&B(B(nt([])));Z&&Z!==t&&r.call(Z,s)&&(D=Z);var F=A.prototype=w.prototype=Object.create(D);function tt(g){["next","throw","return"].forEach(function(p){f(g,p,function(k){return this._invoke(p,k)})})}function K(g,p){function k(I,O,j,ot){var et=c(g[I],g,O);if(et.type!=="throw"){var ut=et.arg,kt=ut.value;return kt&&typeof kt=="object"&&r.call(kt,"__await")?p.resolve(kt.__await).then(function(wt){k("next",wt,j,ot)},function(wt){k("throw",wt,j,ot)}):p.resolve(kt).then(function(wt){ut.value=wt,j(ut)},function(wt){return k("throw",wt,j,ot)})}ot(et.arg)}var L;i(this,"_invoke",{value:function(I,O){function j(){return new p(function(ot,et){k(I,O,ot,et)})}return L=L?L.then(j,j):j()}})}function at(g,p,k){var L=h;return function(I,O){if(L===_)throw Error("Generator is already running");if(L===v){if(I==="throw")throw O;return{value:n,done:!0}}for(k.method=I,k.arg=O;;){var j=k.delegate;if(j){var ot=U(j,k);if(ot){if(ot===b)continue;return ot}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===h)throw L=v,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);L=_;var et=c(g,p,k);if(et.type==="normal"){if(L=k.done?v:y,et.arg===b)continue;return{value:et.arg,done:k.done}}et.type==="throw"&&(L=v,k.method="throw",k.arg=et.arg)}}}function U(g,p){var k=p.method,L=g.iterator[k];if(L===n)return p.delegate=null,k==="throw"&&g.iterator.return&&(p.method="return",p.arg=n,U(g,p),p.method==="throw")||k!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+k+"' method")),b;var I=c(L,g.iterator,p.arg);if(I.type==="throw")return p.method="throw",p.arg=I.arg,p.delegate=null,b;var O=I.arg;return O?O.done?(p[g.resultName]=O.value,p.next=g.nextLoc,p.method!=="return"&&(p.method="next",p.arg=n),p.delegate=null,b):O:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,b)}function M(g){var p={tryLoc:g[0]};1 in g&&(p.catchLoc=g[1]),2 in g&&(p.finallyLoc=g[2],p.afterLoc=g[3]),this.tryEntries.push(p)}function Q(g){var p=g.completion||{};p.type="normal",delete p.arg,g.completion=p}function S(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(M,this),this.reset(!0)}function nt(g){if(g||g===""){var p=g[s];if(p)return p.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var k=-1,L=function I(){for(;++k<g.length;)if(r.call(g,k))return I.value=g[k],I.done=!1,I;return I.value=n,I.done=!0,I};return L.next=L}}throw new TypeError(typeof g+" is not iterable")}return E.prototype=A,i(F,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:E,configurable:!0}),E.displayName=f(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(g){var p=typeof g=="function"&&g.constructor;return!!p&&(p===E||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,A):(g.__proto__=A,f(g,u,"GeneratorFunction")),g.prototype=Object.create(F),g},e.awrap=function(g){return{__await:g}},tt(K.prototype),f(K.prototype,a,function(){return this}),e.AsyncIterator=K,e.async=function(g,p,k,L,I){I===void 0&&(I=Promise);var O=new K(d(g,p,k,L),I);return e.isGeneratorFunction(p)?O:O.next().then(function(j){return j.done?j.value:O.next()})},tt(F),f(F,u,"Generator"),f(F,s,function(){return this}),f(F,"toString",function(){return"[object Generator]"}),e.keys=function(g){var p=Object(g),k=[];for(var L in p)k.push(L);return k.reverse(),function I(){for(;k.length;){var O=k.pop();if(O in p)return I.value=O,I.done=!1,I}return I.done=!0,I}},e.values=nt,S.prototype={constructor:S,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Q),!g)for(var p in this)p.charAt(0)==="t"&&r.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=n)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function k(et,ut){return O.type="throw",O.arg=g,p.next=et,ut&&(p.method="next",p.arg=n),!!ut}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],O=I.completion;if(I.tryLoc==="root")return k("end");if(I.tryLoc<=this.prev){var j=r.call(I,"catchLoc"),ot=r.call(I,"finallyLoc");if(j&&ot){if(this.prev<I.catchLoc)return k(I.catchLoc,!0);if(this.prev<I.finallyLoc)return k(I.finallyLoc)}else if(j){if(this.prev<I.catchLoc)return k(I.catchLoc,!0)}else{if(!ot)throw Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return k(I.finallyLoc)}}}},abrupt:function(g,p){for(var k=this.tryEntries.length-1;k>=0;--k){var L=this.tryEntries[k];if(L.tryLoc<=this.prev&&r.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(g==="break"||g==="continue")&&I.tryLoc<=p&&p<=I.finallyLoc&&(I=null);var O=I?I.completion:{};return O.type=g,O.arg=p,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(O)},complete:function(g,p){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&p&&(this.next=p),b},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.finallyLoc===g)return this.complete(k.completion,k.afterLoc),Q(k),b}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var k=this.tryEntries[p];if(k.tryLoc===g){var L=k.completion;if(L.type==="throw"){var I=L.arg;Q(k)}return I}}throw Error("illegal catch attempt")},delegateYield:function(g,p,k){return this.delegate={iterator:nt(g),resultName:p,nextLoc:k},this.method==="next"&&(this.arg=n),b}},e}function Ys(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Ks(n){var e=Ys(n,"string");return typeof e=="symbol"?e:e+""}function Vs(n,e){if(n){if(typeof n=="string")return Pn(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pn(n,e):void 0}}function Fn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(n).concat(Date.now().toString().substring(5),"-").concat(Math.random().toString(16).substring(2))}var Rn=Wt.createInstance({name:"weoos-messenger",driver:Wt.INDEXEDDB}),jn="weoos-messenger",Nn=500,Xs=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.id,i=t.interval,o=i===void 0?Nn:i;Ws(this,n),this.lns={},this.timer=null,this.triggerMsg=new Set,this.id=r||Fn("ms"),this.timer=setInterval(function(){e.checkMessage()},o)}return Zs(n,[{key:"on",value:function(e,t){var r=this,i=this.lns[e];return i||(i=this.lns[e]=[]),i.push(t),function(){r.off(e,t)}}},{key:"once",value:function(e,t){var r=this.on(e,function(i,o){t(i,o),r()});return r}},{key:"off",value:function(e,t){var r=this.lns[e];if(r){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},{key:"emit",value:function(){var e=yr(me().mark(function r(i,o){var s,a,u;return me().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._read();case 2:return s=f.sent,a={ts:Date.now(),id:Fn(),from:this.id,type:i,data:o},s.length===0?s.push(a):(u=s.findIndex(function(d){return d.ts>a.ts}),u===-1?s.push(a):s.splice(u,0,a)),f.next=7,this._write(s);case 7:case"end":return f.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()},{key:"_read",value:function(){var e=yr(me().mark(function r(){return me().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rn.getItem(jn);case 2:if(i.t0=i.sent,i.t0){i.next=5;break}i.t0=[];case 5:return i.abrupt("return",i.t0);case 6:case"end":return i.stop()}},r)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_write",value:function(e){return Rn.setItem(jn,e)}},{key:"checkMessage",value:function(){var e=yr(me().mark(function r(){var i,o,s,a,u,f,d,c,h,y,_,v,b,w,E,A,D;return me().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this._read();case 2:if(i=B.sent,i.length!==0){B.next=5;break}return B.abrupt("return");case 5:o=[],s=Date.now(),a=function(Z){return s-Z>Nn*2},u=[],f=0;case 10:if(!(f<i.length)){B.next=25;break}if(d=i[f],!a(d.ts)){B.next=16;break}return o.push(f),this.triggerMsg.delete(d.id),B.abrupt("continue",22);case 16:if(d.from!==this.id){B.next=18;break}return B.abrupt("continue",22);case 18:if(!this.triggerMsg.has(d.id)){B.next=20;break}return B.abrupt("continue",22);case 20:u.push(d),this.triggerMsg.add(d.id);case 22:f++,B.next=10;break;case 25:if(!o.length){B.next=29;break}for(c=o.length-1;c>=0;c--)i.splice(o[c],1);return B.next=29,this._write(i);case 29:for(h=0,y=u;h<y.length;h++)if(_=y[h],v=_.type,b=_.data,w=this.lns[v],w!=null&&w.length){E=Gs(w);try{for(E.s();!(A=E.n()).done;)D=A.value,D(b,_)}catch(Z){E.e(Z)}finally{E.f()}}case 30:case"end":return B.stop()}},r,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){clearInterval(this.timer),this.lns={}}}])}();class qs extends Xs{}const Ve=new qs({id:"main"}),Js={name:"code",helpInfo:"Open Folder With VsCode Web.",async run(n,e){const t=n.args[0];return await e.disk.exist(t)?(await e.disk.isDir(t)?Ve.emit("open-folder",{path:t,replace:!0}):Ve.emit("open-file",t),""):`Target "${t}" is not exists.`}};class Qs{get os(){return this.term.os}constructor(){this.term=new tu,this.term.ready.then(()=>{Ve.on("clear-terminal",()=>{this.os.term.clearTerminal()});const e=t=>{if(!t)return;const r=t==="dark";this.os.term.setColor({color:r?"#ccc":"#444",selectionBackground:r?"#ccc":"#444",selectionColor:r?"#444":"#ccc"})};Ve.on("theme-change",t=>e(t)),da.getItem("initial-theme").then(t=>e(t)),this.os.term.setColor({background:"transparent"}),this.os.term.setFontSize(12),window.os=this.os,this.os.commandProvider.comm})}}class tu{constructor(){this.timer=null,this.interval=null,this.initialized=!1,window.addEventListener("mouseup",()=>{this.tryInitTerminal()});let e=6;this.interval=setInterval(()=>{if(e--,e===0){clearInterval(this.interval);return}this.init()},1e3);const{ready:t,resolve:r}=fa();this.ready=t,this.resolve=r}tryInitTerminal(){this.initialized||(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.init()},500))}init(){if(this.initialized){clearInterval(this.interval);return}const e=document.querySelectorAll(".integrated-terminal");if(e.length)for(let t=0;t<e.length;t++){const r=e[t].firstChild;this.initialized=!0,r.addEventListener("wheel",i=>{i.stopPropagation()}),r.innerHTML="",r.style.padding="5px",this.os=new $s({container:r}),this.onInitialized(),this.resolve()}}onInitialized(){this.initCommands()}initCommands(){this.os.registerCommand(Js)}}new Qs;
